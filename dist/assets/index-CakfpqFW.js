var iq=Object.defineProperty;var xA=e=>{throw TypeError(e)};var oq=(e,t,n)=>t in e?iq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xh=(e,t,n)=>oq(e,typeof t!="symbol"?t+"":t,n),hj=(e,t,n)=>t.has(e)||xA("Cannot "+n);var de=(e,t,n)=>(hj(e,t,"read from private field"),n?n.call(e):t.get(e)),xt=(e,t,n)=>t.has(e)?xA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),nt=(e,t,n,r)=>(hj(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),mr=(e,t,n)=>(hj(e,t,"access private method"),n);var Ep=(e,t,n,r)=>({set _(a){nt(e,t,a,n)},get _(){return de(e,t,r)}});function lq(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cq(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var WD={exports:{}},Kx={},qD={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm=Symbol.for("react.element"),dq=Symbol.for("react.portal"),uq=Symbol.for("react.fragment"),hq=Symbol.for("react.strict_mode"),fq=Symbol.for("react.profiler"),mq=Symbol.for("react.provider"),pq=Symbol.for("react.context"),gq=Symbol.for("react.forward_ref"),vq=Symbol.for("react.suspense"),xq=Symbol.for("react.memo"),yq=Symbol.for("react.lazy"),yA=Symbol.iterator;function jq(e){return e===null||typeof e!="object"?null:(e=yA&&e[yA]||e["@@iterator"],typeof e=="function"?e:null)}var HD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KD=Object.assign,GD={};function Lu(e,t,n){this.props=e,this.context=t,this.refs=GD,this.updater=n||HD}Lu.prototype.isReactComponent={};Lu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function YD(){}YD.prototype=Lu.prototype;function c_(e,t,n){this.props=e,this.context=t,this.refs=GD,this.updater=n||HD}var d_=c_.prototype=new YD;d_.constructor=c_;KD(d_,Lu.prototype);d_.isPureReactComponent=!0;var jA=Array.isArray,XD=Object.prototype.hasOwnProperty,u_={current:null},ZD={key:!0,ref:!0,__self:!0,__source:!0};function QD(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)XD.call(t,r)&&!ZD.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:Pm,type:e,key:i,ref:o,props:a,_owner:u_.current}}function wq(e,t){return{$$typeof:Pm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function h_(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pm}function bq(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wA=/\/+/g;function fj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bq(""+e.key):t.toString(36)}function kg(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pm:case dq:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+fj(o,0):r,jA(a)?(n="",e!=null&&(n=e.replace(wA,"$&/")+"/"),kg(a,t,n,"",function(d){return d})):a!=null&&(h_(a)&&(a=wq(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(wA,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",jA(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+fj(i,l);o+=kg(i,t,n,c,a)}else if(c=jq(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+fj(i,l++),o+=kg(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Tp(e,t,n){if(e==null)return e;var r=[],a=0;return kg(e,r,"","",function(i){return t.call(n,i,a++)}),r}function Nq(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Br={current:null},Ag={transition:null},_q={ReactCurrentDispatcher:Br,ReactCurrentBatchConfig:Ag,ReactCurrentOwner:u_};function JD(){throw Error("act(...) is not supported in production builds of React.")}dt.Children={map:Tp,forEach:function(e,t,n){Tp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Tp(e,function(){t++}),t},toArray:function(e){return Tp(e,function(t){return t})||[]},only:function(e){if(!h_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};dt.Component=Lu;dt.Fragment=uq;dt.Profiler=fq;dt.PureComponent=c_;dt.StrictMode=hq;dt.Suspense=vq;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_q;dt.act=JD;dt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=KD({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=u_.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)XD.call(t,c)&&!ZD.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Pm,type:e.type,key:a,ref:i,props:r,_owner:o}};dt.createContext=function(e){return e={$$typeof:pq,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mq,_context:e},e.Consumer=e};dt.createElement=QD;dt.createFactory=function(e){var t=QD.bind(null,e);return t.type=e,t};dt.createRef=function(){return{current:null}};dt.forwardRef=function(e){return{$$typeof:gq,render:e}};dt.isValidElement=h_;dt.lazy=function(e){return{$$typeof:yq,_payload:{_status:-1,_result:e},_init:Nq}};dt.memo=function(e,t){return{$$typeof:xq,type:e,compare:t===void 0?null:t}};dt.startTransition=function(e){var t=Ag.transition;Ag.transition={};try{e()}finally{Ag.transition=t}};dt.unstable_act=JD;dt.useCallback=function(e,t){return Br.current.useCallback(e,t)};dt.useContext=function(e){return Br.current.useContext(e)};dt.useDebugValue=function(){};dt.useDeferredValue=function(e){return Br.current.useDeferredValue(e)};dt.useEffect=function(e,t){return Br.current.useEffect(e,t)};dt.useId=function(){return Br.current.useId()};dt.useImperativeHandle=function(e,t,n){return Br.current.useImperativeHandle(e,t,n)};dt.useInsertionEffect=function(e,t){return Br.current.useInsertionEffect(e,t)};dt.useLayoutEffect=function(e,t){return Br.current.useLayoutEffect(e,t)};dt.useMemo=function(e,t){return Br.current.useMemo(e,t)};dt.useReducer=function(e,t,n){return Br.current.useReducer(e,t,n)};dt.useRef=function(e){return Br.current.useRef(e)};dt.useState=function(e){return Br.current.useState(e)};dt.useSyncExternalStore=function(e,t,n){return Br.current.useSyncExternalStore(e,t,n)};dt.useTransition=function(){return Br.current.useTransition()};dt.version="18.3.1";qD.exports=dt;var m=qD.exports;const je=pi(m),Gx=lq({__proto__:null,default:je},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sq=m,Cq=Symbol.for("react.element"),kq=Symbol.for("react.fragment"),Aq=Object.prototype.hasOwnProperty,Pq=Sq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Eq={key:!0,ref:!0,__self:!0,__source:!0};function eR(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Aq.call(t,r)&&!Eq.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:Cq,type:e,key:i,ref:o,props:a,_owner:Pq.current}}Kx.Fragment=kq;Kx.jsx=eR;Kx.jsxs=eR;WD.exports=Kx;var s=WD.exports,tR={exports:{}},Ts={},nR={exports:{}},rR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,L){var Q=B.length;B.push(L);e:for(;0<Q;){var se=Q-1>>>1,W=B[se];if(0<a(W,L))B[se]=L,B[Q]=W,Q=se;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var L=B[0],Q=B.pop();if(Q!==L){B[0]=Q;e:for(var se=0,W=B.length,ie=W>>>1;se<ie;){var ue=2*(se+1)-1,oe=B[ue],Se=ue+1,I=B[Se];if(0>a(oe,Q))Se<W&&0>a(I,oe)?(B[se]=I,B[Se]=Q,se=Se):(B[se]=oe,B[ue]=Q,se=ue);else if(Se<W&&0>a(I,Q))B[se]=I,B[Se]=Q,se=Se;else break e}}return L}function a(B,L){var Q=B.sortIndex-L.sortIndex;return Q!==0?Q:B.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,p=!1,g=!1,v=!1,j=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var L=n(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=B)r(d),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(d)}}function b(B){if(v=!1,w(B),!g)if(n(c)!==null)g=!0,U(S);else{var L=n(d);L!==null&&R(b,L.startTime-B)}}function S(B,L){g=!1,v&&(v=!1,y(C),C=-1),p=!0;var Q=f;try{for(w(L),h=n(c);h!==null&&(!(h.expirationTime>L)||B&&!O());){var se=h.callback;if(typeof se=="function"){h.callback=null,f=h.priorityLevel;var W=se(h.expirationTime<=L);L=e.unstable_now(),typeof W=="function"?h.callback=W:h===n(c)&&r(c),w(L)}else r(c);h=n(c)}if(h!==null)var ie=!0;else{var ue=n(d);ue!==null&&R(b,ue.startTime-L),ie=!1}return ie}finally{h=null,f=Q,p=!1}}var _=!1,N=null,C=-1,k=5,A=-1;function O(){return!(e.unstable_now()-A<k)}function M(){if(N!==null){var B=e.unstable_now();A=B;var L=!0;try{L=N(!0,B)}finally{L?z():(_=!1,N=null)}}else _=!1}var z;if(typeof x=="function")z=function(){x(M)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,E=P.port2;P.port1.onmessage=M,z=function(){E.postMessage(null)}}else z=function(){j(M,0)};function U(B){N=B,_||(_=!0,z())}function R(B,L){C=j(function(){B(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,U(S))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(B){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var Q=f;f=L;try{return B()}finally{f=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,L){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Q=f;f=B;try{return L()}finally{f=Q}},e.unstable_scheduleCallback=function(B,L,Q){var se=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?se+Q:se):Q=se,B){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Q+W,B={id:u++,callback:L,priorityLevel:B,startTime:Q,expirationTime:W,sortIndex:-1},Q>se?(B.sortIndex=Q,t(d,B),n(c)===null&&B===n(d)&&(v?(y(C),C=-1):v=!0,R(b,Q-se))):(B.sortIndex=W,t(c,B),g||p||(g=!0,U(S))),B},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(B){var L=f;return function(){var Q=f;f=L;try{return B.apply(this,arguments)}finally{f=Q}}}})(rR);nR.exports=rR;var Tq=nR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oq=m,Ss=Tq;function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sR=new Set,kf={};function zc(e,t){su(e,t),su(e+"Capture",t)}function su(e,t){for(kf[e]=t,e=0;e<t.length;e++)sR.add(t[e])}var Fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lb=Object.prototype.hasOwnProperty,Mq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bA={},NA={};function Dq(e){return lb.call(NA,e)?!0:lb.call(bA,e)?!1:Mq.test(e)?NA[e]=!0:(bA[e]=!0,!1)}function Rq(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Iq(e,t,n,r){if(t===null||typeof t>"u"||Rq(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zr(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var lr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lr[e]=new zr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lr[t]=new zr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lr[e]=new zr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lr[e]=new zr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lr[e]=new zr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lr[e]=new zr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lr[e]=new zr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lr[e]=new zr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lr[e]=new zr(e,5,!1,e.toLowerCase(),null,!1,!1)});var f_=/[\-:]([a-z])/g;function m_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(f_,m_);lr[t]=new zr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(f_,m_);lr[t]=new zr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(f_,m_);lr[t]=new zr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lr[e]=new zr(e,1,!1,e.toLowerCase(),null,!1,!1)});lr.xlinkHref=new zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lr[e]=new zr(e,1,!1,e.toLowerCase(),null,!0,!0)});function p_(e,t,n,r){var a=lr.hasOwnProperty(t)?lr[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Iq(t,n,a,r)&&(n=null),r||a===null?Dq(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var to=Oq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Op=Symbol.for("react.element"),pd=Symbol.for("react.portal"),gd=Symbol.for("react.fragment"),g_=Symbol.for("react.strict_mode"),cb=Symbol.for("react.profiler"),aR=Symbol.for("react.provider"),iR=Symbol.for("react.context"),v_=Symbol.for("react.forward_ref"),db=Symbol.for("react.suspense"),ub=Symbol.for("react.suspense_list"),x_=Symbol.for("react.memo"),Ao=Symbol.for("react.lazy"),oR=Symbol.for("react.offscreen"),_A=Symbol.iterator;function yh(e){return e===null||typeof e!="object"?null:(e=_A&&e[_A]||e["@@iterator"],typeof e=="function"?e:null)}var rn=Object.assign,mj;function Wh(e){if(mj===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);mj=t&&t[1]||""}return`
`+mj+e}var pj=!1;function gj(e,t){if(!e||pj)return"";pj=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{pj=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Wh(e):""}function $q(e){switch(e.tag){case 5:return Wh(e.type);case 16:return Wh("Lazy");case 13:return Wh("Suspense");case 19:return Wh("SuspenseList");case 0:case 2:case 15:return e=gj(e.type,!1),e;case 11:return e=gj(e.type.render,!1),e;case 1:return e=gj(e.type,!0),e;default:return""}}function hb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gd:return"Fragment";case pd:return"Portal";case cb:return"Profiler";case g_:return"StrictMode";case db:return"Suspense";case ub:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iR:return(e.displayName||"Context")+".Consumer";case aR:return(e._context.displayName||"Context")+".Provider";case v_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x_:return t=e.displayName||null,t!==null?t:hb(e.type)||"Memo";case Ao:t=e._payload,e=e._init;try{return hb(e(t))}catch{}}return null}function Lq(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hb(t);case 8:return t===g_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function al(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fq(e){var t=lR(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mp(e){e._valueTracker||(e._valueTracker=Fq(e))}function cR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=lR(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function nv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fb(e,t){var n=t.checked;return rn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function SA(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=al(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dR(e,t){t=t.checked,t!=null&&p_(e,"checked",t,!1)}function mb(e,t){dR(e,t);var n=al(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pb(e,t.type,n):t.hasOwnProperty("defaultValue")&&pb(e,t.type,al(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function CA(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function pb(e,t,n){(t!=="number"||nv(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qh=Array.isArray;function Md(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+al(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function gb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ve(91));return rn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kA(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ve(92));if(qh(n)){if(1<n.length)throw Error(ve(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:al(n)}}function uR(e,t){var n=al(t.value),r=al(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function AA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dp,fR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dp=Dp||document.createElement("div"),Dp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Af(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bq=["Webkit","ms","Moz","O"];Object.keys(nf).forEach(function(e){Bq.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nf[t]=nf[e]})});function mR(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||nf.hasOwnProperty(e)&&nf[e]?(""+t).trim():t+"px"}function pR(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=mR(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var zq=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xb(e,t){if(t){if(zq[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ve(62))}}function yb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jb=null;function y_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wb=null,Dd=null,Rd=null;function PA(e){if(e=Om(e)){if(typeof wb!="function")throw Error(ve(280));var t=e.stateNode;t&&(t=Jx(t),wb(e.stateNode,e.type,t))}}function gR(e){Dd?Rd?Rd.push(e):Rd=[e]:Dd=e}function vR(){if(Dd){var e=Dd,t=Rd;if(Rd=Dd=null,PA(e),t)for(e=0;e<t.length;e++)PA(t[e])}}function xR(e,t){return e(t)}function yR(){}var vj=!1;function jR(e,t,n){if(vj)return e(t,n);vj=!0;try{return xR(e,t,n)}finally{vj=!1,(Dd!==null||Rd!==null)&&(yR(),vR())}}function Pf(e,t){var n=e.stateNode;if(n===null)return null;var r=Jx(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ve(231,t,typeof n));return n}var bb=!1;if(Fi)try{var jh={};Object.defineProperty(jh,"passive",{get:function(){bb=!0}}),window.addEventListener("test",jh,jh),window.removeEventListener("test",jh,jh)}catch{bb=!1}function Uq(e,t,n,r,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var rf=!1,rv=null,sv=!1,Nb=null,Vq={onError:function(e){rf=!0,rv=e}};function Wq(e,t,n,r,a,i,o,l,c){rf=!1,rv=null,Uq.apply(Vq,arguments)}function qq(e,t,n,r,a,i,o,l,c){if(Wq.apply(this,arguments),rf){if(rf){var d=rv;rf=!1,rv=null}else throw Error(ve(198));sv||(sv=!0,Nb=d)}}function Uc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wR(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function EA(e){if(Uc(e)!==e)throw Error(ve(188))}function Hq(e){var t=e.alternate;if(!t){if(t=Uc(e),t===null)throw Error(ve(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return EA(a),e;if(i===r)return EA(a),t;i=i.sibling}throw Error(ve(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(ve(189))}}if(n.alternate!==r)throw Error(ve(190))}if(n.tag!==3)throw Error(ve(188));return n.stateNode.current===n?e:t}function bR(e){return e=Hq(e),e!==null?NR(e):null}function NR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=NR(e);if(t!==null)return t;e=e.sibling}return null}var _R=Ss.unstable_scheduleCallback,TA=Ss.unstable_cancelCallback,Kq=Ss.unstable_shouldYield,Gq=Ss.unstable_requestPaint,jn=Ss.unstable_now,Yq=Ss.unstable_getCurrentPriorityLevel,j_=Ss.unstable_ImmediatePriority,SR=Ss.unstable_UserBlockingPriority,av=Ss.unstable_NormalPriority,Xq=Ss.unstable_LowPriority,CR=Ss.unstable_IdlePriority,Yx=null,ni=null;function Zq(e){if(ni&&typeof ni.onCommitFiberRoot=="function")try{ni.onCommitFiberRoot(Yx,e,void 0,(e.current.flags&128)===128)}catch{}}var Na=Math.clz32?Math.clz32:eH,Qq=Math.log,Jq=Math.LN2;function eH(e){return e>>>=0,e===0?32:31-(Qq(e)/Jq|0)|0}var Rp=64,Ip=4194304;function Hh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function iv(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=Hh(l):(i&=o,i!==0&&(r=Hh(i)))}else o=n&~a,o!==0?r=Hh(o):i!==0&&(r=Hh(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Na(t),a=1<<n,r|=e[n],t&=~a;return r}function tH(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nH(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Na(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=tH(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function _b(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kR(){var e=Rp;return Rp<<=1,!(Rp&4194240)&&(Rp=64),e}function xj(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Em(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Na(t),e[t]=n}function rH(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Na(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function w_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Na(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var kt=0;function AR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var PR,b_,ER,TR,OR,Sb=!1,$p=[],Ho=null,Ko=null,Go=null,Ef=new Map,Tf=new Map,Mo=[],sH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function OA(e,t){switch(e){case"focusin":case"focusout":Ho=null;break;case"dragenter":case"dragleave":Ko=null;break;case"mouseover":case"mouseout":Go=null;break;case"pointerover":case"pointerout":Ef.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tf.delete(t.pointerId)}}function wh(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Om(t),t!==null&&b_(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function aH(e,t,n,r,a){switch(t){case"focusin":return Ho=wh(Ho,e,t,n,r,a),!0;case"dragenter":return Ko=wh(Ko,e,t,n,r,a),!0;case"mouseover":return Go=wh(Go,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Ef.set(i,wh(Ef.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Tf.set(i,wh(Tf.get(i)||null,e,t,n,r,a)),!0}return!1}function MR(e){var t=Xl(e.target);if(t!==null){var n=Uc(t);if(n!==null){if(t=n.tag,t===13){if(t=wR(n),t!==null){e.blockedOn=t,OR(e.priority,function(){ER(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);jb=r,n.target.dispatchEvent(r),jb=null}else return t=Om(n),t!==null&&b_(t),e.blockedOn=n,!1;t.shift()}return!0}function MA(e,t,n){Pg(e)&&n.delete(t)}function iH(){Sb=!1,Ho!==null&&Pg(Ho)&&(Ho=null),Ko!==null&&Pg(Ko)&&(Ko=null),Go!==null&&Pg(Go)&&(Go=null),Ef.forEach(MA),Tf.forEach(MA)}function bh(e,t){e.blockedOn===t&&(e.blockedOn=null,Sb||(Sb=!0,Ss.unstable_scheduleCallback(Ss.unstable_NormalPriority,iH)))}function Of(e){function t(a){return bh(a,e)}if(0<$p.length){bh($p[0],e);for(var n=1;n<$p.length;n++){var r=$p[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ho!==null&&bh(Ho,e),Ko!==null&&bh(Ko,e),Go!==null&&bh(Go,e),Ef.forEach(t),Tf.forEach(t),n=0;n<Mo.length;n++)r=Mo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mo.length&&(n=Mo[0],n.blockedOn===null);)MR(n),n.blockedOn===null&&Mo.shift()}var Id=to.ReactCurrentBatchConfig,ov=!0;function oH(e,t,n,r){var a=kt,i=Id.transition;Id.transition=null;try{kt=1,N_(e,t,n,r)}finally{kt=a,Id.transition=i}}function lH(e,t,n,r){var a=kt,i=Id.transition;Id.transition=null;try{kt=4,N_(e,t,n,r)}finally{kt=a,Id.transition=i}}function N_(e,t,n,r){if(ov){var a=Cb(e,t,n,r);if(a===null)Aj(e,t,r,lv,n),OA(e,r);else if(aH(a,e,t,n,r))r.stopPropagation();else if(OA(e,r),t&4&&-1<sH.indexOf(e)){for(;a!==null;){var i=Om(a);if(i!==null&&PR(i),i=Cb(e,t,n,r),i===null&&Aj(e,t,r,lv,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Aj(e,t,r,null,n)}}var lv=null;function Cb(e,t,n,r){if(lv=null,e=y_(r),e=Xl(e),e!==null)if(t=Uc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wR(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return lv=e,null}function DR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yq()){case j_:return 1;case SR:return 4;case av:case Xq:return 16;case CR:return 536870912;default:return 16}default:return 16}}var Uo=null,__=null,Eg=null;function RR(){if(Eg)return Eg;var e,t=__,n=t.length,r,a="value"in Uo?Uo.value:Uo.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return Eg=a.slice(e,1<r?1-r:void 0)}function Tg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lp(){return!0}function DA(){return!1}function Os(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Lp:DA,this.isPropagationStopped=DA,this}return rn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lp)},persist:function(){},isPersistent:Lp}),t}var Fu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},S_=Os(Fu),Tm=rn({},Fu,{view:0,detail:0}),cH=Os(Tm),yj,jj,Nh,Xx=rn({},Tm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:C_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nh&&(Nh&&e.type==="mousemove"?(yj=e.screenX-Nh.screenX,jj=e.screenY-Nh.screenY):jj=yj=0,Nh=e),yj)},movementY:function(e){return"movementY"in e?e.movementY:jj}}),RA=Os(Xx),dH=rn({},Xx,{dataTransfer:0}),uH=Os(dH),hH=rn({},Tm,{relatedTarget:0}),wj=Os(hH),fH=rn({},Fu,{animationName:0,elapsedTime:0,pseudoElement:0}),mH=Os(fH),pH=rn({},Fu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gH=Os(pH),vH=rn({},Fu,{data:0}),IA=Os(vH),xH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wH(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jH[e])?!!t[e]:!1}function C_(){return wH}var bH=rn({},Tm,{key:function(e){if(e.key){var t=xH[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yH[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:C_,charCode:function(e){return e.type==="keypress"?Tg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),NH=Os(bH),_H=rn({},Xx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$A=Os(_H),SH=rn({},Tm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:C_}),CH=Os(SH),kH=rn({},Fu,{propertyName:0,elapsedTime:0,pseudoElement:0}),AH=Os(kH),PH=rn({},Xx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),EH=Os(PH),TH=[9,13,27,32],k_=Fi&&"CompositionEvent"in window,sf=null;Fi&&"documentMode"in document&&(sf=document.documentMode);var OH=Fi&&"TextEvent"in window&&!sf,IR=Fi&&(!k_||sf&&8<sf&&11>=sf),LA=" ",FA=!1;function $R(e,t){switch(e){case"keyup":return TH.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vd=!1;function MH(e,t){switch(e){case"compositionend":return LR(t);case"keypress":return t.which!==32?null:(FA=!0,LA);case"textInput":return e=t.data,e===LA&&FA?null:e;default:return null}}function DH(e,t){if(vd)return e==="compositionend"||!k_&&$R(e,t)?(e=RR(),Eg=__=Uo=null,vd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return IR&&t.locale!=="ko"?null:t.data;default:return null}}var RH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RH[e.type]:t==="textarea"}function FR(e,t,n,r){gR(r),t=cv(t,"onChange"),0<t.length&&(n=new S_("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var af=null,Mf=null;function IH(e){XR(e,0)}function Zx(e){var t=jd(e);if(cR(t))return e}function $H(e,t){if(e==="change")return t}var BR=!1;if(Fi){var bj;if(Fi){var Nj="oninput"in document;if(!Nj){var zA=document.createElement("div");zA.setAttribute("oninput","return;"),Nj=typeof zA.oninput=="function"}bj=Nj}else bj=!1;BR=bj&&(!document.documentMode||9<document.documentMode)}function UA(){af&&(af.detachEvent("onpropertychange",zR),Mf=af=null)}function zR(e){if(e.propertyName==="value"&&Zx(Mf)){var t=[];FR(t,Mf,e,y_(e)),jR(IH,t)}}function LH(e,t,n){e==="focusin"?(UA(),af=t,Mf=n,af.attachEvent("onpropertychange",zR)):e==="focusout"&&UA()}function FH(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zx(Mf)}function BH(e,t){if(e==="click")return Zx(t)}function zH(e,t){if(e==="input"||e==="change")return Zx(t)}function UH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sa=typeof Object.is=="function"?Object.is:UH;function Df(e,t){if(Sa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!lb.call(t,a)||!Sa(e[a],t[a]))return!1}return!0}function VA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function WA(e,t){var n=VA(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=VA(n)}}function UR(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?UR(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function VR(){for(var e=window,t=nv();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=nv(e.document)}return t}function A_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function VH(e){var t=VR(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&UR(n.ownerDocument.documentElement,n)){if(r!==null&&A_(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=WA(n,i);var o=WA(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WH=Fi&&"documentMode"in document&&11>=document.documentMode,xd=null,kb=null,of=null,Ab=!1;function qA(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ab||xd==null||xd!==nv(r)||(r=xd,"selectionStart"in r&&A_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),of&&Df(of,r)||(of=r,r=cv(kb,"onSelect"),0<r.length&&(t=new S_("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xd)))}function Fp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yd={animationend:Fp("Animation","AnimationEnd"),animationiteration:Fp("Animation","AnimationIteration"),animationstart:Fp("Animation","AnimationStart"),transitionend:Fp("Transition","TransitionEnd")},_j={},WR={};Fi&&(WR=document.createElement("div").style,"AnimationEvent"in window||(delete yd.animationend.animation,delete yd.animationiteration.animation,delete yd.animationstart.animation),"TransitionEvent"in window||delete yd.transitionend.transition);function Qx(e){if(_j[e])return _j[e];if(!yd[e])return e;var t=yd[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in WR)return _j[e]=t[n];return e}var qR=Qx("animationend"),HR=Qx("animationiteration"),KR=Qx("animationstart"),GR=Qx("transitionend"),YR=new Map,HA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bl(e,t){YR.set(e,t),zc(t,[e])}for(var Sj=0;Sj<HA.length;Sj++){var Cj=HA[Sj],qH=Cj.toLowerCase(),HH=Cj[0].toUpperCase()+Cj.slice(1);bl(qH,"on"+HH)}bl(qR,"onAnimationEnd");bl(HR,"onAnimationIteration");bl(KR,"onAnimationStart");bl("dblclick","onDoubleClick");bl("focusin","onFocus");bl("focusout","onBlur");bl(GR,"onTransitionEnd");su("onMouseEnter",["mouseout","mouseover"]);su("onMouseLeave",["mouseout","mouseover"]);su("onPointerEnter",["pointerout","pointerover"]);su("onPointerLeave",["pointerout","pointerover"]);zc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zc("onBeforeInput",["compositionend","keypress","textInput","paste"]);zc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KH=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kh));function KA(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,qq(r,t,void 0,e),e.currentTarget=null}function XR(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;KA(a,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;KA(a,l,d),i=c}}}if(sv)throw e=Nb,sv=!1,Nb=null,e}function zt(e,t){var n=t[Mb];n===void 0&&(n=t[Mb]=new Set);var r=e+"__bubble";n.has(r)||(ZR(t,e,2,!1),n.add(r))}function kj(e,t,n){var r=0;t&&(r|=4),ZR(n,e,r,t)}var Bp="_reactListening"+Math.random().toString(36).slice(2);function Rf(e){if(!e[Bp]){e[Bp]=!0,sR.forEach(function(n){n!=="selectionchange"&&(KH.has(n)||kj(n,!1,e),kj(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bp]||(t[Bp]=!0,kj("selectionchange",!1,t))}}function ZR(e,t,n,r){switch(DR(t)){case 1:var a=oH;break;case 4:a=lH;break;default:a=N_}n=a.bind(null,t,n,e),a=void 0,!bb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Aj(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Xl(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}jR(function(){var d=i,u=y_(n),h=[];e:{var f=YR.get(e);if(f!==void 0){var p=S_,g=e;switch(e){case"keypress":if(Tg(n)===0)break e;case"keydown":case"keyup":p=NH;break;case"focusin":g="focus",p=wj;break;case"focusout":g="blur",p=wj;break;case"beforeblur":case"afterblur":p=wj;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=RA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=uH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=CH;break;case qR:case HR:case KR:p=mH;break;case GR:p=AH;break;case"scroll":p=cH;break;case"wheel":p=EH;break;case"copy":case"cut":case"paste":p=gH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=$A}var v=(t&4)!==0,j=!v&&e==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var x=d,w;x!==null;){w=x;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,y!==null&&(b=Pf(x,y),b!=null&&v.push(If(x,b,w)))),j)break;x=x.return}0<v.length&&(f=new p(f,g,null,n,u),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==jb&&(g=n.relatedTarget||n.fromElement)&&(Xl(g)||g[Bi]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=d,g=g?Xl(g):null,g!==null&&(j=Uc(g),g!==j||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(v=RA,b="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=$A,b="onPointerLeave",y="onPointerEnter",x="pointer"),j=p==null?f:jd(p),w=g==null?f:jd(g),f=new v(b,x+"leave",p,n,u),f.target=j,f.relatedTarget=w,b=null,Xl(u)===d&&(v=new v(y,x+"enter",g,n,u),v.target=w,v.relatedTarget=j,b=v),j=b,p&&g)t:{for(v=p,y=g,x=0,w=v;w;w=Qc(w))x++;for(w=0,b=y;b;b=Qc(b))w++;for(;0<x-w;)v=Qc(v),x--;for(;0<w-x;)y=Qc(y),w--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=Qc(v),y=Qc(y)}v=null}else v=null;p!==null&&GA(h,f,p,v,!1),g!==null&&j!==null&&GA(h,j,g,v,!0)}}e:{if(f=d?jd(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=$H;else if(BA(f))if(BR)S=zH;else{S=FH;var _=LH}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=BH);if(S&&(S=S(e,d))){FR(h,S,n,u);break e}_&&_(e,f,d),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&pb(f,"number",f.value)}switch(_=d?jd(d):window,e){case"focusin":(BA(_)||_.contentEditable==="true")&&(xd=_,kb=d,of=null);break;case"focusout":of=kb=xd=null;break;case"mousedown":Ab=!0;break;case"contextmenu":case"mouseup":case"dragend":Ab=!1,qA(h,n,u);break;case"selectionchange":if(WH)break;case"keydown":case"keyup":qA(h,n,u)}var N;if(k_)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else vd?$R(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(IR&&n.locale!=="ko"&&(vd||C!=="onCompositionStart"?C==="onCompositionEnd"&&vd&&(N=RR()):(Uo=u,__="value"in Uo?Uo.value:Uo.textContent,vd=!0)),_=cv(d,C),0<_.length&&(C=new IA(C,e,null,n,u),h.push({event:C,listeners:_}),N?C.data=N:(N=LR(n),N!==null&&(C.data=N)))),(N=OH?MH(e,n):DH(e,n))&&(d=cv(d,"onBeforeInput"),0<d.length&&(u=new IA("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=N))}XR(h,t)})}function If(e,t,n){return{instance:e,listener:t,currentTarget:n}}function cv(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Pf(e,n),i!=null&&r.unshift(If(e,i,a)),i=Pf(e,t),i!=null&&r.push(If(e,i,a))),e=e.return}return r}function Qc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function GA(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,a?(c=Pf(n,i),c!=null&&o.unshift(If(n,c,l))):a||(c=Pf(n,i),c!=null&&o.push(If(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var GH=/\r\n?/g,YH=/\u0000|\uFFFD/g;function YA(e){return(typeof e=="string"?e:""+e).replace(GH,`
`).replace(YH,"")}function zp(e,t,n){if(t=YA(t),YA(e)!==t&&n)throw Error(ve(425))}function dv(){}var Pb=null,Eb=null;function Tb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ob=typeof setTimeout=="function"?setTimeout:void 0,XH=typeof clearTimeout=="function"?clearTimeout:void 0,XA=typeof Promise=="function"?Promise:void 0,ZH=typeof queueMicrotask=="function"?queueMicrotask:typeof XA<"u"?function(e){return XA.resolve(null).then(e).catch(QH)}:Ob;function QH(e){setTimeout(function(){throw e})}function Pj(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Of(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Of(t)}function Yo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ZA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bu=Math.random().toString(36).slice(2),Xa="__reactFiber$"+Bu,$f="__reactProps$"+Bu,Bi="__reactContainer$"+Bu,Mb="__reactEvents$"+Bu,JH="__reactListeners$"+Bu,eK="__reactHandles$"+Bu;function Xl(e){var t=e[Xa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bi]||n[Xa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ZA(e);e!==null;){if(n=e[Xa])return n;e=ZA(e)}return t}e=n,n=e.parentNode}return null}function Om(e){return e=e[Xa]||e[Bi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function Jx(e){return e[$f]||null}var Db=[],wd=-1;function Nl(e){return{current:e}}function Wt(e){0>wd||(e.current=Db[wd],Db[wd]=null,wd--)}function $t(e,t){wd++,Db[wd]=e.current,e.current=t}var il={},_r=Nl(il),ns=Nl(!1),jc=il;function au(e,t){var n=e.type.contextTypes;if(!n)return il;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function rs(e){return e=e.childContextTypes,e!=null}function uv(){Wt(ns),Wt(_r)}function QA(e,t,n){if(_r.current!==il)throw Error(ve(168));$t(_r,t),$t(ns,n)}function QR(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(ve(108,Lq(e)||"Unknown",a));return rn({},n,r)}function hv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||il,jc=_r.current,$t(_r,e),$t(ns,ns.current),!0}function JA(e,t,n){var r=e.stateNode;if(!r)throw Error(ve(169));n?(e=QR(e,t,jc),r.__reactInternalMemoizedMergedChildContext=e,Wt(ns),Wt(_r),$t(_r,e)):Wt(ns),$t(ns,n)}var Si=null,ey=!1,Ej=!1;function JR(e){Si===null?Si=[e]:Si.push(e)}function tK(e){ey=!0,JR(e)}function _l(){if(!Ej&&Si!==null){Ej=!0;var e=0,t=kt;try{var n=Si;for(kt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Si=null,ey=!1}catch(a){throw Si!==null&&(Si=Si.slice(e+1)),_R(j_,_l),a}finally{kt=t,Ej=!1}}return null}var bd=[],Nd=0,fv=null,mv=0,Us=[],Vs=0,wc=null,Pi=1,Ei="";function zl(e,t){bd[Nd++]=mv,bd[Nd++]=fv,fv=e,mv=t}function eI(e,t,n){Us[Vs++]=Pi,Us[Vs++]=Ei,Us[Vs++]=wc,wc=e;var r=Pi;e=Ei;var a=32-Na(r)-1;r&=~(1<<a),n+=1;var i=32-Na(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Pi=1<<32-Na(t)+a|n<<a|r,Ei=i+e}else Pi=1<<i|n<<a|r,Ei=e}function P_(e){e.return!==null&&(zl(e,1),eI(e,1,0))}function E_(e){for(;e===fv;)fv=bd[--Nd],bd[Nd]=null,mv=bd[--Nd],bd[Nd]=null;for(;e===wc;)wc=Us[--Vs],Us[Vs]=null,Ei=Us[--Vs],Us[Vs]=null,Pi=Us[--Vs],Us[Vs]=null}var ws=null,ys=null,Kt=!1,ja=null;function tI(e,t){var n=qs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function eP(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ws=e,ys=Yo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ws=e,ys=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wc!==null?{id:Pi,overflow:Ei}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qs(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ws=e,ys=null,!0):!1;default:return!1}}function Rb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ib(e){if(Kt){var t=ys;if(t){var n=t;if(!eP(e,t)){if(Rb(e))throw Error(ve(418));t=Yo(n.nextSibling);var r=ws;t&&eP(e,t)?tI(r,n):(e.flags=e.flags&-4097|2,Kt=!1,ws=e)}}else{if(Rb(e))throw Error(ve(418));e.flags=e.flags&-4097|2,Kt=!1,ws=e}}}function tP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ws=e}function Up(e){if(e!==ws)return!1;if(!Kt)return tP(e),Kt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Tb(e.type,e.memoizedProps)),t&&(t=ys)){if(Rb(e))throw nI(),Error(ve(418));for(;t;)tI(e,t),t=Yo(t.nextSibling)}if(tP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ys=Yo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ys=null}}else ys=ws?Yo(e.stateNode.nextSibling):null;return!0}function nI(){for(var e=ys;e;)e=Yo(e.nextSibling)}function iu(){ys=ws=null,Kt=!1}function T_(e){ja===null?ja=[e]:ja.push(e)}var nK=to.ReactCurrentBatchConfig;function _h(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ve(309));var r=n.stateNode}if(!r)throw Error(ve(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ve(284));if(!n._owner)throw Error(ve(290,e))}return e}function Vp(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nP(e){var t=e._init;return t(e._payload)}function rI(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function a(y,x){return y=Jo(y,x),y.index=0,y.sibling=null,y}function i(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,w,b){return x===null||x.tag!==6?(x=$j(w,y.mode,b),x.return=y,x):(x=a(x,w),x.return=y,x)}function c(y,x,w,b){var S=w.type;return S===gd?u(y,x,w.props.children,b,w.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ao&&nP(S)===x.type)?(b=a(x,w.props),b.ref=_h(y,x,w),b.return=y,b):(b=Lg(w.type,w.key,w.props,null,y.mode,b),b.ref=_h(y,x,w),b.return=y,b)}function d(y,x,w,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Lj(w,y.mode,b),x.return=y,x):(x=a(x,w.children||[]),x.return=y,x)}function u(y,x,w,b,S){return x===null||x.tag!==7?(x=fc(w,y.mode,b,S),x.return=y,x):(x=a(x,w),x.return=y,x)}function h(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=$j(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Op:return w=Lg(x.type,x.key,x.props,null,y.mode,w),w.ref=_h(y,null,x),w.return=y,w;case pd:return x=Lj(x,y.mode,w),x.return=y,x;case Ao:var b=x._init;return h(y,b(x._payload),w)}if(qh(x)||yh(x))return x=fc(x,y.mode,w,null),x.return=y,x;Vp(y,x)}return null}function f(y,x,w,b){var S=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(y,x,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Op:return w.key===S?c(y,x,w,b):null;case pd:return w.key===S?d(y,x,w,b):null;case Ao:return S=w._init,f(y,x,S(w._payload),b)}if(qh(w)||yh(w))return S!==null?null:u(y,x,w,b,null);Vp(y,w)}return null}function p(y,x,w,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(w)||null,l(x,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Op:return y=y.get(b.key===null?w:b.key)||null,c(x,y,b,S);case pd:return y=y.get(b.key===null?w:b.key)||null,d(x,y,b,S);case Ao:var _=b._init;return p(y,x,w,_(b._payload),S)}if(qh(b)||yh(b))return y=y.get(w)||null,u(x,y,b,S,null);Vp(x,b)}return null}function g(y,x,w,b){for(var S=null,_=null,N=x,C=x=0,k=null;N!==null&&C<w.length;C++){N.index>C?(k=N,N=null):k=N.sibling;var A=f(y,N,w[C],b);if(A===null){N===null&&(N=k);break}e&&N&&A.alternate===null&&t(y,N),x=i(A,x,C),_===null?S=A:_.sibling=A,_=A,N=k}if(C===w.length)return n(y,N),Kt&&zl(y,C),S;if(N===null){for(;C<w.length;C++)N=h(y,w[C],b),N!==null&&(x=i(N,x,C),_===null?S=N:_.sibling=N,_=N);return Kt&&zl(y,C),S}for(N=r(y,N);C<w.length;C++)k=p(N,y,C,w[C],b),k!==null&&(e&&k.alternate!==null&&N.delete(k.key===null?C:k.key),x=i(k,x,C),_===null?S=k:_.sibling=k,_=k);return e&&N.forEach(function(O){return t(y,O)}),Kt&&zl(y,C),S}function v(y,x,w,b){var S=yh(w);if(typeof S!="function")throw Error(ve(150));if(w=S.call(w),w==null)throw Error(ve(151));for(var _=S=null,N=x,C=x=0,k=null,A=w.next();N!==null&&!A.done;C++,A=w.next()){N.index>C?(k=N,N=null):k=N.sibling;var O=f(y,N,A.value,b);if(O===null){N===null&&(N=k);break}e&&N&&O.alternate===null&&t(y,N),x=i(O,x,C),_===null?S=O:_.sibling=O,_=O,N=k}if(A.done)return n(y,N),Kt&&zl(y,C),S;if(N===null){for(;!A.done;C++,A=w.next())A=h(y,A.value,b),A!==null&&(x=i(A,x,C),_===null?S=A:_.sibling=A,_=A);return Kt&&zl(y,C),S}for(N=r(y,N);!A.done;C++,A=w.next())A=p(N,y,C,A.value,b),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?C:A.key),x=i(A,x,C),_===null?S=A:_.sibling=A,_=A);return e&&N.forEach(function(M){return t(y,M)}),Kt&&zl(y,C),S}function j(y,x,w,b){if(typeof w=="object"&&w!==null&&w.type===gd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Op:e:{for(var S=w.key,_=x;_!==null;){if(_.key===S){if(S=w.type,S===gd){if(_.tag===7){n(y,_.sibling),x=a(_,w.props.children),x.return=y,y=x;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ao&&nP(S)===_.type){n(y,_.sibling),x=a(_,w.props),x.ref=_h(y,_,w),x.return=y,y=x;break e}n(y,_);break}else t(y,_);_=_.sibling}w.type===gd?(x=fc(w.props.children,y.mode,b,w.key),x.return=y,y=x):(b=Lg(w.type,w.key,w.props,null,y.mode,b),b.ref=_h(y,x,w),b.return=y,y=b)}return o(y);case pd:e:{for(_=w.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(y,x.sibling),x=a(x,w.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=Lj(w,y.mode,b),x.return=y,y=x}return o(y);case Ao:return _=w._init,j(y,x,_(w._payload),b)}if(qh(w))return g(y,x,w,b);if(yh(w))return v(y,x,w,b);Vp(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(y,x.sibling),x=a(x,w),x.return=y,y=x):(n(y,x),x=$j(w,y.mode,b),x.return=y,y=x),o(y)):n(y,x)}return j}var ou=rI(!0),sI=rI(!1),pv=Nl(null),gv=null,_d=null,O_=null;function M_(){O_=_d=gv=null}function D_(e){var t=pv.current;Wt(pv),e._currentValue=t}function $b(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $d(e,t){gv=e,O_=_d=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xr=!0),e.firstContext=null)}function Js(e){var t=e._currentValue;if(O_!==e)if(e={context:e,memoizedValue:t,next:null},_d===null){if(gv===null)throw Error(ve(308));_d=e,gv.dependencies={lanes:0,firstContext:e}}else _d=_d.next=e;return t}var Zl=null;function R_(e){Zl===null?Zl=[e]:Zl.push(e)}function aI(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,R_(t)):(n.next=a.next,a.next=n),t.interleaved=n,zi(e,r)}function zi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Po=!1;function I_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Di(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,zi(e,n)}return a=r.interleaved,a===null?(t.next=t,R_(r)):(t.next=a.next,a.next=t),r.interleaved=t,zi(e,n)}function Og(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,w_(e,n)}}function rP(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vv(e,t,n,r){var a=e.updateQueue;Po=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,v=l;switch(f=t,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=rn({},h,f);break e;case 2:Po=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Nc|=o,e.lanes=o,e.memoizedState=h}}function sP(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(ve(191,a));a.call(r)}}}var Mm={},ri=Nl(Mm),Lf=Nl(Mm),Ff=Nl(Mm);function Ql(e){if(e===Mm)throw Error(ve(174));return e}function $_(e,t){switch($t(Ff,t),$t(Lf,e),$t(ri,Mm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vb(t,e)}Wt(ri),$t(ri,t)}function lu(){Wt(ri),Wt(Lf),Wt(Ff)}function oI(e){Ql(Ff.current);var t=Ql(ri.current),n=vb(t,e.type);t!==n&&($t(Lf,e),$t(ri,n))}function L_(e){Lf.current===e&&(Wt(ri),Wt(Lf))}var Zt=Nl(0);function xv(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tj=[];function F_(){for(var e=0;e<Tj.length;e++)Tj[e]._workInProgressVersionPrimary=null;Tj.length=0}var Mg=to.ReactCurrentDispatcher,Oj=to.ReactCurrentBatchConfig,bc=0,en=null,Dn=null,qn=null,yv=!1,lf=!1,Bf=0,rK=0;function pr(){throw Error(ve(321))}function B_(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Sa(e[n],t[n]))return!1;return!0}function z_(e,t,n,r,a,i){if(bc=i,en=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mg.current=e===null||e.memoizedState===null?oK:lK,e=n(r,a),lf){i=0;do{if(lf=!1,Bf=0,25<=i)throw Error(ve(301));i+=1,qn=Dn=null,t.updateQueue=null,Mg.current=cK,e=n(r,a)}while(lf)}if(Mg.current=jv,t=Dn!==null&&Dn.next!==null,bc=0,qn=Dn=en=null,yv=!1,t)throw Error(ve(300));return e}function U_(){var e=Bf!==0;return Bf=0,e}function qa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?en.memoizedState=qn=e:qn=qn.next=e,qn}function ea(){if(Dn===null){var e=en.alternate;e=e!==null?e.memoizedState:null}else e=Dn.next;var t=qn===null?en.memoizedState:qn.next;if(t!==null)qn=t,Dn=e;else{if(e===null)throw Error(ve(310));Dn=e,e={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},qn===null?en.memoizedState=qn=e:qn=qn.next=e}return qn}function zf(e,t){return typeof t=="function"?t(e):t}function Mj(e){var t=ea(),n=t.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=e;var r=Dn,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((bc&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,en.lanes|=u,Nc|=u}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,Sa(r,t.memoizedState)||(Xr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,en.lanes|=i,Nc|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Dj(e){var t=ea(),n=t.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Sa(i,t.memoizedState)||(Xr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function lI(){}function cI(e,t){var n=en,r=ea(),a=t(),i=!Sa(r.memoizedState,a);if(i&&(r.memoizedState=a,Xr=!0),r=r.queue,V_(hI.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||qn!==null&&qn.memoizedState.tag&1){if(n.flags|=2048,Uf(9,uI.bind(null,n,r,a,t),void 0,null),Kn===null)throw Error(ve(349));bc&30||dI(n,t,a)}return a}function dI(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=en.updateQueue,t===null?(t={lastEffect:null,stores:null},en.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function uI(e,t,n,r){t.value=n,t.getSnapshot=r,fI(t)&&mI(e)}function hI(e,t,n){return n(function(){fI(t)&&mI(e)})}function fI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sa(e,n)}catch{return!0}}function mI(e){var t=zi(e,1);t!==null&&_a(t,e,1,-1)}function aP(e){var t=qa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zf,lastRenderedState:e},t.queue=e,e=e.dispatch=iK.bind(null,en,e),[t.memoizedState,e]}function Uf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=en.updateQueue,t===null?(t={lastEffect:null,stores:null},en.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function pI(){return ea().memoizedState}function Dg(e,t,n,r){var a=qa();en.flags|=e,a.memoizedState=Uf(1|t,n,void 0,r===void 0?null:r)}function ty(e,t,n,r){var a=ea();r=r===void 0?null:r;var i=void 0;if(Dn!==null){var o=Dn.memoizedState;if(i=o.destroy,r!==null&&B_(r,o.deps)){a.memoizedState=Uf(t,n,i,r);return}}en.flags|=e,a.memoizedState=Uf(1|t,n,i,r)}function iP(e,t){return Dg(8390656,8,e,t)}function V_(e,t){return ty(2048,8,e,t)}function gI(e,t){return ty(4,2,e,t)}function vI(e,t){return ty(4,4,e,t)}function xI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yI(e,t,n){return n=n!=null?n.concat([e]):null,ty(4,4,xI.bind(null,t,e),n)}function W_(){}function jI(e,t){var n=ea();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&B_(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function wI(e,t){var n=ea();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&B_(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bI(e,t,n){return bc&21?(Sa(n,t)||(n=kR(),en.lanes|=n,Nc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xr=!0),e.memoizedState=n)}function sK(e,t){var n=kt;kt=n!==0&&4>n?n:4,e(!0);var r=Oj.transition;Oj.transition={};try{e(!1),t()}finally{kt=n,Oj.transition=r}}function NI(){return ea().memoizedState}function aK(e,t,n){var r=Qo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_I(e))SI(t,n);else if(n=aI(e,t,n,r),n!==null){var a=Ir();_a(n,e,r,a),CI(n,t,r)}}function iK(e,t,n){var r=Qo(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_I(e))SI(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,Sa(l,o)){var c=t.interleaved;c===null?(a.next=a,R_(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=aI(e,t,a,r),n!==null&&(a=Ir(),_a(n,e,r,a),CI(n,t,r))}}function _I(e){var t=e.alternate;return e===en||t!==null&&t===en}function SI(e,t){lf=yv=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function CI(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,w_(e,n)}}var jv={readContext:Js,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},oK={readContext:Js,useCallback:function(e,t){return qa().memoizedState=[e,t===void 0?null:t],e},useContext:Js,useEffect:iP,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Dg(4194308,4,xI.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dg(4,2,e,t)},useMemo:function(e,t){var n=qa();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qa();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=aK.bind(null,en,e),[r.memoizedState,e]},useRef:function(e){var t=qa();return e={current:e},t.memoizedState=e},useState:aP,useDebugValue:W_,useDeferredValue:function(e){return qa().memoizedState=e},useTransition:function(){var e=aP(!1),t=e[0];return e=sK.bind(null,e[1]),qa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=en,a=qa();if(Kt){if(n===void 0)throw Error(ve(407));n=n()}else{if(n=t(),Kn===null)throw Error(ve(349));bc&30||dI(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,iP(hI.bind(null,r,i,e),[e]),r.flags|=2048,Uf(9,uI.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=qa(),t=Kn.identifierPrefix;if(Kt){var n=Ei,r=Pi;n=(r&~(1<<32-Na(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=rK++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lK={readContext:Js,useCallback:jI,useContext:Js,useEffect:V_,useImperativeHandle:yI,useInsertionEffect:gI,useLayoutEffect:vI,useMemo:wI,useReducer:Mj,useRef:pI,useState:function(){return Mj(zf)},useDebugValue:W_,useDeferredValue:function(e){var t=ea();return bI(t,Dn.memoizedState,e)},useTransition:function(){var e=Mj(zf)[0],t=ea().memoizedState;return[e,t]},useMutableSource:lI,useSyncExternalStore:cI,useId:NI,unstable_isNewReconciler:!1},cK={readContext:Js,useCallback:jI,useContext:Js,useEffect:V_,useImperativeHandle:yI,useInsertionEffect:gI,useLayoutEffect:vI,useMemo:wI,useReducer:Dj,useRef:pI,useState:function(){return Dj(zf)},useDebugValue:W_,useDeferredValue:function(e){var t=ea();return Dn===null?t.memoizedState=e:bI(t,Dn.memoizedState,e)},useTransition:function(){var e=Dj(zf)[0],t=ea().memoizedState;return[e,t]},useMutableSource:lI,useSyncExternalStore:cI,useId:NI,unstable_isNewReconciler:!1};function ma(e,t){if(e&&e.defaultProps){t=rn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Lb(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:rn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ny={isMounted:function(e){return(e=e._reactInternals)?Uc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ir(),a=Qo(e),i=Di(r,a);i.payload=t,n!=null&&(i.callback=n),t=Xo(e,i,a),t!==null&&(_a(t,e,a,r),Og(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ir(),a=Qo(e),i=Di(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Xo(e,i,a),t!==null&&(_a(t,e,a,r),Og(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ir(),r=Qo(e),a=Di(n,r);a.tag=2,t!=null&&(a.callback=t),t=Xo(e,a,r),t!==null&&(_a(t,e,r,n),Og(t,e,r))}};function oP(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Df(n,r)||!Df(a,i):!0}function kI(e,t,n){var r=!1,a=il,i=t.contextType;return typeof i=="object"&&i!==null?i=Js(i):(a=rs(t)?jc:_r.current,r=t.contextTypes,i=(r=r!=null)?au(e,a):il),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ny,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function lP(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ny.enqueueReplaceState(t,t.state,null)}function Fb(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},I_(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Js(i):(i=rs(t)?jc:_r.current,a.context=au(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Lb(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ny.enqueueReplaceState(a,a.state,null),vv(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function cu(e,t){try{var n="",r=t;do n+=$q(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Rj(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Bb(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dK=typeof WeakMap=="function"?WeakMap:Map;function AI(e,t,n){n=Di(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bv||(bv=!0,Xb=r),Bb(e,t)},n}function PI(e,t,n){n=Di(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Bb(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Bb(e,t),typeof r!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function cP(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dK;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=_K.bind(null,e,t,n),t.then(e,e))}function dP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uP(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Di(-1,1),t.tag=2,Xo(n,t,1))),n.lanes|=1),e)}var uK=to.ReactCurrentOwner,Xr=!1;function Er(e,t,n,r){t.child=e===null?sI(t,null,n,r):ou(t,e.child,n,r)}function hP(e,t,n,r,a){n=n.render;var i=t.ref;return $d(t,a),r=z_(e,t,n,r,i,a),n=U_(),e!==null&&!Xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ui(e,t,a)):(Kt&&n&&P_(t),t.flags|=1,Er(e,t,r,a),t.child)}function fP(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!Q_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,EI(e,t,i,r,a)):(e=Lg(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Df,n(o,r)&&e.ref===t.ref)return Ui(e,t,a)}return t.flags|=1,e=Jo(i,r),e.ref=t.ref,e.return=t,t.child=e}function EI(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Df(i,r)&&e.ref===t.ref)if(Xr=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Xr=!0);else return t.lanes=e.lanes,Ui(e,t,a)}return zb(e,t,n,r,a)}function TI(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Cd,ps),ps|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$t(Cd,ps),ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,$t(Cd,ps),ps|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,$t(Cd,ps),ps|=r;return Er(e,t,a,n),t.child}function OI(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function zb(e,t,n,r,a){var i=rs(n)?jc:_r.current;return i=au(t,i),$d(t,a),n=z_(e,t,n,r,i,a),r=U_(),e!==null&&!Xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ui(e,t,a)):(Kt&&r&&P_(t),t.flags|=1,Er(e,t,n,a),t.child)}function mP(e,t,n,r,a){if(rs(n)){var i=!0;hv(t)}else i=!1;if($d(t,a),t.stateNode===null)Rg(e,t),kI(t,n,r),Fb(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Js(d):(d=rs(n)?jc:_r.current,d=au(t,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&lP(t,o,r,d),Po=!1;var f=t.memoizedState;o.state=f,vv(t,r,o,a),c=t.memoizedState,l!==r||f!==c||ns.current||Po?(typeof u=="function"&&(Lb(t,n,u,r),c=t.memoizedState),(l=Po||oP(t,n,l,r,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,iI(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:ma(t.type,l),o.props=d,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Js(c):(c=rs(n)?jc:_r.current,c=au(t,c));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&lP(t,o,r,c),Po=!1,f=t.memoizedState,o.state=f,vv(t,r,o,a);var g=t.memoizedState;l!==h||f!==g||ns.current||Po?(typeof p=="function"&&(Lb(t,n,p,r),g=t.memoizedState),(d=Po||oP(t,n,d,r,f,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ub(e,t,n,r,i,a)}function Ub(e,t,n,r,a,i){OI(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&JA(t,n,!1),Ui(e,t,i);r=t.stateNode,uK.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ou(t,e.child,null,i),t.child=ou(t,null,l,i)):Er(e,t,l,i),t.memoizedState=r.state,a&&JA(t,n,!0),t.child}function MI(e){var t=e.stateNode;t.pendingContext?QA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&QA(e,t.context,!1),$_(e,t.containerInfo)}function pP(e,t,n,r,a){return iu(),T_(a),t.flags|=256,Er(e,t,n,r),t.child}var Vb={dehydrated:null,treeContext:null,retryLane:0};function Wb(e){return{baseLanes:e,cachePool:null,transitions:null}}function DI(e,t,n){var r=t.pendingProps,a=Zt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),$t(Zt,a&1),e===null)return Ib(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ay(o,r,0,null),e=fc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Wb(n),t.memoizedState=Vb,e):q_(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return hK(e,t,o,r,l,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Jo(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Jo(l,i):(i=fc(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Wb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Vb,r}return i=e.child,e=i.sibling,r=Jo(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function q_(e,t){return t=ay({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wp(e,t,n,r){return r!==null&&T_(r),ou(t,e.child,null,n),e=q_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hK(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Rj(Error(ve(422))),Wp(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=ay({mode:"visible",children:r.children},a,0,null),i=fc(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ou(t,e.child,null,o),t.child.memoizedState=Wb(o),t.memoizedState=Vb,i);if(!(t.mode&1))return Wp(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ve(419)),r=Rj(i,r,void 0),Wp(e,t,o,r)}if(l=(o&e.childLanes)!==0,Xr||l){if(r=Kn,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,zi(e,a),_a(r,e,a,-1))}return Z_(),r=Rj(Error(ve(421))),Wp(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=SK.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ys=Yo(a.nextSibling),ws=t,Kt=!0,ja=null,e!==null&&(Us[Vs++]=Pi,Us[Vs++]=Ei,Us[Vs++]=wc,Pi=e.id,Ei=e.overflow,wc=t),t=q_(t,r.children),t.flags|=4096,t)}function gP(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$b(e.return,t,n)}function Ij(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function RI(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Er(e,t,r.children,n),r=Zt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gP(e,n,t);else if(e.tag===19)gP(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($t(Zt,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&xv(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ij(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&xv(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ij(t,!0,n,null,i);break;case"together":Ij(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ui(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ve(153));if(t.child!==null){for(e=t.child,n=Jo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fK(e,t,n){switch(t.tag){case 3:MI(t),iu();break;case 5:oI(t);break;case 1:rs(t.type)&&hv(t);break;case 4:$_(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;$t(pv,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($t(Zt,Zt.current&1),t.flags|=128,null):n&t.child.childLanes?DI(e,t,n):($t(Zt,Zt.current&1),e=Ui(e,t,n),e!==null?e.sibling:null);$t(Zt,Zt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return RI(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),$t(Zt,Zt.current),r)break;return null;case 22:case 23:return t.lanes=0,TI(e,t,n)}return Ui(e,t,n)}var II,qb,$I,LI;II=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qb=function(){};$I=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ql(ri.current);var i=null;switch(n){case"input":a=fb(e,a),r=fb(e,r),i=[];break;case"select":a=rn({},a,{value:void 0}),r=rn({},r,{value:void 0}),i=[];break;case"textarea":a=gb(e,a),r=gb(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=dv)}xb(n,r);var o;n=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(kf.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(kf.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&zt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};LI=function(e,t,n,r){n!==r&&(t.flags|=4)};function Sh(e,t){if(!Kt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mK(e,t,n){var r=t.pendingProps;switch(E_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(t),null;case 1:return rs(t.type)&&uv(),gr(t),null;case 3:return r=t.stateNode,lu(),Wt(ns),Wt(_r),F_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Up(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ja!==null&&(Jb(ja),ja=null))),qb(e,t),gr(t),null;case 5:L_(t);var a=Ql(Ff.current);if(n=t.type,e!==null&&t.stateNode!=null)$I(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ve(166));return gr(t),null}if(e=Ql(ri.current),Up(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Xa]=t,r[$f]=i,e=(t.mode&1)!==0,n){case"dialog":zt("cancel",r),zt("close",r);break;case"iframe":case"object":case"embed":zt("load",r);break;case"video":case"audio":for(a=0;a<Kh.length;a++)zt(Kh[a],r);break;case"source":zt("error",r);break;case"img":case"image":case"link":zt("error",r),zt("load",r);break;case"details":zt("toggle",r);break;case"input":SA(r,i),zt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},zt("invalid",r);break;case"textarea":kA(r,i),zt("invalid",r)}xb(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&zp(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&zp(r.textContent,l,e),a=["children",""+l]):kf.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&zt("scroll",r)}switch(n){case"input":Mp(r),CA(r,i,!0);break;case"textarea":Mp(r),AA(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=dv)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hR(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Xa]=t,e[$f]=r,II(e,t,!1,!1),t.stateNode=e;e:{switch(o=yb(n,r),n){case"dialog":zt("cancel",e),zt("close",e),a=r;break;case"iframe":case"object":case"embed":zt("load",e),a=r;break;case"video":case"audio":for(a=0;a<Kh.length;a++)zt(Kh[a],e);a=r;break;case"source":zt("error",e),a=r;break;case"img":case"image":case"link":zt("error",e),zt("load",e),a=r;break;case"details":zt("toggle",e),a=r;break;case"input":SA(e,r),a=fb(e,r),zt("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=rn({},r,{value:void 0}),zt("invalid",e);break;case"textarea":kA(e,r),a=gb(e,r),zt("invalid",e);break;default:a=r}xb(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?pR(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&fR(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Af(e,c):typeof c=="number"&&Af(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(kf.hasOwnProperty(i)?c!=null&&i==="onScroll"&&zt("scroll",e):c!=null&&p_(e,i,c,o))}switch(n){case"input":Mp(e),CA(e,r,!1);break;case"textarea":Mp(e),AA(e);break;case"option":r.value!=null&&e.setAttribute("value",""+al(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Md(e,!!r.multiple,i,!1):r.defaultValue!=null&&Md(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=dv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gr(t),null;case 6:if(e&&t.stateNode!=null)LI(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ve(166));if(n=Ql(Ff.current),Ql(ri.current),Up(t)){if(r=t.stateNode,n=t.memoizedProps,r[Xa]=t,(i=r.nodeValue!==n)&&(e=ws,e!==null))switch(e.tag){case 3:zp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zp(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xa]=t,t.stateNode=r}return gr(t),null;case 13:if(Wt(Zt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Kt&&ys!==null&&t.mode&1&&!(t.flags&128))nI(),iu(),t.flags|=98560,i=!1;else if(i=Up(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ve(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ve(317));i[Xa]=t}else iu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gr(t),i=!1}else ja!==null&&(Jb(ja),ja=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Zt.current&1?In===0&&(In=3):Z_())),t.updateQueue!==null&&(t.flags|=4),gr(t),null);case 4:return lu(),qb(e,t),e===null&&Rf(t.stateNode.containerInfo),gr(t),null;case 10:return D_(t.type._context),gr(t),null;case 17:return rs(t.type)&&uv(),gr(t),null;case 19:if(Wt(Zt),i=t.memoizedState,i===null)return gr(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Sh(i,!1);else{if(In!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xv(e),o!==null){for(t.flags|=128,Sh(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $t(Zt,Zt.current&1|2),t.child}e=e.sibling}i.tail!==null&&jn()>du&&(t.flags|=128,r=!0,Sh(i,!1),t.lanes=4194304)}else{if(!r)if(e=xv(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Sh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Kt)return gr(t),null}else 2*jn()-i.renderingStartTime>du&&n!==1073741824&&(t.flags|=128,r=!0,Sh(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=jn(),t.sibling=null,n=Zt.current,$t(Zt,r?n&1|2:n&1),t):(gr(t),null);case 22:case 23:return X_(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ps&1073741824&&(gr(t),t.subtreeFlags&6&&(t.flags|=8192)):gr(t),null;case 24:return null;case 25:return null}throw Error(ve(156,t.tag))}function pK(e,t){switch(E_(t),t.tag){case 1:return rs(t.type)&&uv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lu(),Wt(ns),Wt(_r),F_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return L_(t),null;case 13:if(Wt(Zt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ve(340));iu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Wt(Zt),null;case 4:return lu(),null;case 10:return D_(t.type._context),null;case 22:case 23:return X_(),null;case 24:return null;default:return null}}var qp=!1,yr=!1,gK=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Sd(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dn(e,t,r)}else n.current=null}function Hb(e,t,n){try{n()}catch(r){dn(e,t,r)}}var vP=!1;function vK(e,t){if(Pb=ov,e=VR(),A_(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var p;h!==n||a!==0&&h.nodeType!==3||(l=o+a),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++d===a&&(l=o),f===i&&++u===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eb={focusedElem:e,selectionRange:n},ov=!1,$e=t;$e!==null;)if(t=$e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$e=e;else for(;$e!==null;){t=$e;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,j=g.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ma(t.type,v),j);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(b){dn(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,$e=e;break}$e=t.return}return g=vP,vP=!1,g}function cf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Hb(t,n,i)}a=a.next}while(a!==r)}}function ry(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Kb(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function FI(e){var t=e.alternate;t!==null&&(e.alternate=null,FI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xa],delete t[$f],delete t[Mb],delete t[JH],delete t[eK])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function BI(e){return e.tag===5||e.tag===3||e.tag===4}function xP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||BI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dv));else if(r!==4&&(e=e.child,e!==null))for(Gb(e,t,n),e=e.sibling;e!==null;)Gb(e,t,n),e=e.sibling}function Yb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Yb(e,t,n),e=e.sibling;e!==null;)Yb(e,t,n),e=e.sibling}var er=null,xa=!1;function yo(e,t,n){for(n=n.child;n!==null;)zI(e,t,n),n=n.sibling}function zI(e,t,n){if(ni&&typeof ni.onCommitFiberUnmount=="function")try{ni.onCommitFiberUnmount(Yx,n)}catch{}switch(n.tag){case 5:yr||Sd(n,t);case 6:var r=er,a=xa;er=null,yo(e,t,n),er=r,xa=a,er!==null&&(xa?(e=er,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):er.removeChild(n.stateNode));break;case 18:er!==null&&(xa?(e=er,n=n.stateNode,e.nodeType===8?Pj(e.parentNode,n):e.nodeType===1&&Pj(e,n),Of(e)):Pj(er,n.stateNode));break;case 4:r=er,a=xa,er=n.stateNode.containerInfo,xa=!0,yo(e,t,n),er=r,xa=a;break;case 0:case 11:case 14:case 15:if(!yr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Hb(n,t,o),a=a.next}while(a!==r)}yo(e,t,n);break;case 1:if(!yr&&(Sd(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){dn(n,t,l)}yo(e,t,n);break;case 21:yo(e,t,n);break;case 22:n.mode&1?(yr=(r=yr)||n.memoizedState!==null,yo(e,t,n),yr=r):yo(e,t,n);break;default:yo(e,t,n)}}function yP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new gK),t.forEach(function(r){var a=CK.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function da(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:er=l.stateNode,xa=!1;break e;case 3:er=l.stateNode.containerInfo,xa=!0;break e;case 4:er=l.stateNode.containerInfo,xa=!0;break e}l=l.return}if(er===null)throw Error(ve(160));zI(i,o,a),er=null,xa=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){dn(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)UI(t,e),t=t.sibling}function UI(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(da(t,e),Va(e),r&4){try{cf(3,e,e.return),ry(3,e)}catch(v){dn(e,e.return,v)}try{cf(5,e,e.return)}catch(v){dn(e,e.return,v)}}break;case 1:da(t,e),Va(e),r&512&&n!==null&&Sd(n,n.return);break;case 5:if(da(t,e),Va(e),r&512&&n!==null&&Sd(n,n.return),e.flags&32){var a=e.stateNode;try{Af(a,"")}catch(v){dn(e,e.return,v)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&dR(a,i),yb(l,o);var d=yb(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?pR(a,h):u==="dangerouslySetInnerHTML"?fR(a,h):u==="children"?Af(a,h):p_(a,u,h,d)}switch(l){case"input":mb(a,i);break;case"textarea":uR(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Md(a,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Md(a,!!i.multiple,i.defaultValue,!0):Md(a,!!i.multiple,i.multiple?[]:"",!1))}a[$f]=i}catch(v){dn(e,e.return,v)}}break;case 6:if(da(t,e),Va(e),r&4){if(e.stateNode===null)throw Error(ve(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){dn(e,e.return,v)}}break;case 3:if(da(t,e),Va(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Of(t.containerInfo)}catch(v){dn(e,e.return,v)}break;case 4:da(t,e),Va(e);break;case 13:da(t,e),Va(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(G_=jn())),r&4&&yP(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(yr=(d=yr)||u,da(t,e),yr=d):da(t,e),Va(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for($e=e,u=e.child;u!==null;){for(h=$e=u;$e!==null;){switch(f=$e,p=f.child,f.tag){case 0:case 11:case 14:case 15:cf(4,f,f.return);break;case 1:Sd(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){dn(r,n,v)}}break;case 5:Sd(f,f.return);break;case 22:if(f.memoizedState!==null){wP(h);continue}}p!==null?(p.return=f,$e=p):wP(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=mR("display",o))}catch(v){dn(e,e.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){dn(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:da(t,e),Va(e),r&4&&yP(e);break;case 21:break;default:da(t,e),Va(e)}}function Va(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(BI(n)){var r=n;break e}n=n.return}throw Error(ve(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Af(a,""),r.flags&=-33);var i=xP(e);Yb(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=xP(e);Gb(e,l,o);break;default:throw Error(ve(161))}}catch(c){dn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xK(e,t,n){$e=e,VI(e)}function VI(e,t,n){for(var r=(e.mode&1)!==0;$e!==null;){var a=$e,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||qp;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||yr;l=qp;var d=yr;if(qp=o,(yr=c)&&!d)for($e=a;$e!==null;)o=$e,c=o.child,o.tag===22&&o.memoizedState!==null?bP(a):c!==null?(c.return=o,$e=c):bP(a);for(;i!==null;)$e=i,VI(i),i=i.sibling;$e=a,qp=l,yr=d}jP(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,$e=i):jP(e)}}function jP(e){for(;$e!==null;){var t=$e;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yr||ry(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!yr)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&sP(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sP(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Of(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}yr||t.flags&512&&Kb(t)}catch(f){dn(t,t.return,f)}}if(t===e){$e=null;break}if(n=t.sibling,n!==null){n.return=t.return,$e=n;break}$e=t.return}}function wP(e){for(;$e!==null;){var t=$e;if(t===e){$e=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$e=n;break}$e=t.return}}function bP(e){for(;$e!==null;){var t=$e;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ry(4,t)}catch(c){dn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){dn(t,a,c)}}var i=t.return;try{Kb(t)}catch(c){dn(t,i,c)}break;case 5:var o=t.return;try{Kb(t)}catch(c){dn(t,o,c)}}}catch(c){dn(t,t.return,c)}if(t===e){$e=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$e=l;break}$e=t.return}}var yK=Math.ceil,wv=to.ReactCurrentDispatcher,H_=to.ReactCurrentOwner,Gs=to.ReactCurrentBatchConfig,pt=0,Kn=null,An=null,ar=0,ps=0,Cd=Nl(0),In=0,Vf=null,Nc=0,sy=0,K_=0,df=null,Gr=null,G_=0,du=1/0,Ni=null,bv=!1,Xb=null,Zo=null,Hp=!1,Vo=null,Nv=0,uf=0,Zb=null,Ig=-1,$g=0;function Ir(){return pt&6?jn():Ig!==-1?Ig:Ig=jn()}function Qo(e){return e.mode&1?pt&2&&ar!==0?ar&-ar:nK.transition!==null?($g===0&&($g=kR()),$g):(e=kt,e!==0||(e=window.event,e=e===void 0?16:DR(e.type)),e):1}function _a(e,t,n,r){if(50<uf)throw uf=0,Zb=null,Error(ve(185));Em(e,n,r),(!(pt&2)||e!==Kn)&&(e===Kn&&(!(pt&2)&&(sy|=n),In===4&&Do(e,ar)),ss(e,r),n===1&&pt===0&&!(t.mode&1)&&(du=jn()+500,ey&&_l()))}function ss(e,t){var n=e.callbackNode;nH(e,t);var r=iv(e,e===Kn?ar:0);if(r===0)n!==null&&TA(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&TA(n),t===1)e.tag===0?tK(NP.bind(null,e)):JR(NP.bind(null,e)),ZH(function(){!(pt&6)&&_l()}),n=null;else{switch(AR(r)){case 1:n=j_;break;case 4:n=SR;break;case 16:n=av;break;case 536870912:n=CR;break;default:n=av}n=ZI(n,WI.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function WI(e,t){if(Ig=-1,$g=0,pt&6)throw Error(ve(327));var n=e.callbackNode;if(Ld()&&e.callbackNode!==n)return null;var r=iv(e,e===Kn?ar:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_v(e,r);else{t=r;var a=pt;pt|=2;var i=HI();(Kn!==e||ar!==t)&&(Ni=null,du=jn()+500,hc(e,t));do try{bK();break}catch(l){qI(e,l)}while(!0);M_(),wv.current=i,pt=a,An!==null?t=0:(Kn=null,ar=0,t=In)}if(t!==0){if(t===2&&(a=_b(e),a!==0&&(r=a,t=Qb(e,a))),t===1)throw n=Vf,hc(e,0),Do(e,r),ss(e,jn()),n;if(t===6)Do(e,r);else{if(a=e.current.alternate,!(r&30)&&!jK(a)&&(t=_v(e,r),t===2&&(i=_b(e),i!==0&&(r=i,t=Qb(e,i))),t===1))throw n=Vf,hc(e,0),Do(e,r),ss(e,jn()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(ve(345));case 2:Ul(e,Gr,Ni);break;case 3:if(Do(e,r),(r&130023424)===r&&(t=G_+500-jn(),10<t)){if(iv(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Ir(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ob(Ul.bind(null,e,Gr,Ni),t);break}Ul(e,Gr,Ni);break;case 4:if(Do(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-Na(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=jn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yK(r/1960))-r,10<r){e.timeoutHandle=Ob(Ul.bind(null,e,Gr,Ni),r);break}Ul(e,Gr,Ni);break;case 5:Ul(e,Gr,Ni);break;default:throw Error(ve(329))}}}return ss(e,jn()),e.callbackNode===n?WI.bind(null,e):null}function Qb(e,t){var n=df;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),e=_v(e,t),e!==2&&(t=Gr,Gr=n,t!==null&&Jb(t)),e}function Jb(e){Gr===null?Gr=e:Gr.push.apply(Gr,e)}function jK(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Sa(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Do(e,t){for(t&=~K_,t&=~sy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Na(t),r=1<<n;e[n]=-1,t&=~r}}function NP(e){if(pt&6)throw Error(ve(327));Ld();var t=iv(e,0);if(!(t&1))return ss(e,jn()),null;var n=_v(e,t);if(e.tag!==0&&n===2){var r=_b(e);r!==0&&(t=r,n=Qb(e,r))}if(n===1)throw n=Vf,hc(e,0),Do(e,t),ss(e,jn()),n;if(n===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ul(e,Gr,Ni),ss(e,jn()),null}function Y_(e,t){var n=pt;pt|=1;try{return e(t)}finally{pt=n,pt===0&&(du=jn()+500,ey&&_l())}}function _c(e){Vo!==null&&Vo.tag===0&&!(pt&6)&&Ld();var t=pt;pt|=1;var n=Gs.transition,r=kt;try{if(Gs.transition=null,kt=1,e)return e()}finally{kt=r,Gs.transition=n,pt=t,!(pt&6)&&_l()}}function X_(){ps=Cd.current,Wt(Cd)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,XH(n)),An!==null)for(n=An.return;n!==null;){var r=n;switch(E_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uv();break;case 3:lu(),Wt(ns),Wt(_r),F_();break;case 5:L_(r);break;case 4:lu();break;case 13:Wt(Zt);break;case 19:Wt(Zt);break;case 10:D_(r.type._context);break;case 22:case 23:X_()}n=n.return}if(Kn=e,An=e=Jo(e.current,null),ar=ps=t,In=0,Vf=null,K_=sy=Nc=0,Gr=df=null,Zl!==null){for(t=0;t<Zl.length;t++)if(n=Zl[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Zl=null}return e}function qI(e,t){do{var n=An;try{if(M_(),Mg.current=jv,yv){for(var r=en.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}yv=!1}if(bc=0,qn=Dn=en=null,lf=!1,Bf=0,H_.current=null,n===null||n.return===null){In=1,Vf=t,An=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=ar,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=dP(o);if(p!==null){p.flags&=-257,uP(p,o,l,i,t),p.mode&1&&cP(i,d,t),t=p,c=d;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){cP(i,d,t),Z_();break e}c=Error(ve(426))}}else if(Kt&&l.mode&1){var j=dP(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),uP(j,o,l,i,t),T_(cu(c,l));break e}}i=c=cu(c,l),In!==4&&(In=2),df===null?df=[i]:df.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=AI(i,c,t);rP(i,y);break e;case 1:l=c;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Zo===null||!Zo.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=PI(i,l,t);rP(i,b);break e}}i=i.return}while(i!==null)}GI(n)}catch(S){t=S,An===n&&n!==null&&(An=n=n.return);continue}break}while(!0)}function HI(){var e=wv.current;return wv.current=jv,e===null?jv:e}function Z_(){(In===0||In===3||In===2)&&(In=4),Kn===null||!(Nc&268435455)&&!(sy&268435455)||Do(Kn,ar)}function _v(e,t){var n=pt;pt|=2;var r=HI();(Kn!==e||ar!==t)&&(Ni=null,hc(e,t));do try{wK();break}catch(a){qI(e,a)}while(!0);if(M_(),pt=n,wv.current=r,An!==null)throw Error(ve(261));return Kn=null,ar=0,In}function wK(){for(;An!==null;)KI(An)}function bK(){for(;An!==null&&!Kq();)KI(An)}function KI(e){var t=XI(e.alternate,e,ps);e.memoizedProps=e.pendingProps,t===null?GI(e):An=t,H_.current=null}function GI(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=pK(n,t),n!==null){n.flags&=32767,An=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{In=6,An=null;return}}else if(n=mK(n,t,ps),n!==null){An=n;return}if(t=t.sibling,t!==null){An=t;return}An=t=e}while(t!==null);In===0&&(In=5)}function Ul(e,t,n){var r=kt,a=Gs.transition;try{Gs.transition=null,kt=1,NK(e,t,n,r)}finally{Gs.transition=a,kt=r}return null}function NK(e,t,n,r){do Ld();while(Vo!==null);if(pt&6)throw Error(ve(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(rH(e,i),e===Kn&&(An=Kn=null,ar=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hp||(Hp=!0,ZI(av,function(){return Ld(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Gs.transition,Gs.transition=null;var o=kt;kt=1;var l=pt;pt|=4,H_.current=null,vK(e,n),UI(n,e),VH(Eb),ov=!!Pb,Eb=Pb=null,e.current=n,xK(n),Gq(),pt=l,kt=o,Gs.transition=i}else e.current=n;if(Hp&&(Hp=!1,Vo=e,Nv=a),i=e.pendingLanes,i===0&&(Zo=null),Zq(n.stateNode),ss(e,jn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(bv)throw bv=!1,e=Xb,Xb=null,e;return Nv&1&&e.tag!==0&&Ld(),i=e.pendingLanes,i&1?e===Zb?uf++:(uf=0,Zb=e):uf=0,_l(),null}function Ld(){if(Vo!==null){var e=AR(Nv),t=Gs.transition,n=kt;try{if(Gs.transition=null,kt=16>e?16:e,Vo===null)var r=!1;else{if(e=Vo,Vo=null,Nv=0,pt&6)throw Error(ve(331));var a=pt;for(pt|=4,$e=e.current;$e!==null;){var i=$e,o=i.child;if($e.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for($e=d;$e!==null;){var u=$e;switch(u.tag){case 0:case 11:case 15:cf(8,u,i)}var h=u.child;if(h!==null)h.return=u,$e=h;else for(;$e!==null;){u=$e;var f=u.sibling,p=u.return;if(FI(u),u===d){$e=null;break}if(f!==null){f.return=p,$e=f;break}$e=p}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var j=v.sibling;v.sibling=null,v=j}while(v!==null)}}$e=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$e=o;else e:for(;$e!==null;){if(i=$e,i.flags&2048)switch(i.tag){case 0:case 11:case 15:cf(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,$e=y;break e}$e=i.return}}var x=e.current;for($e=x;$e!==null;){o=$e;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,$e=w;else e:for(o=x;$e!==null;){if(l=$e,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ry(9,l)}}catch(S){dn(l,l.return,S)}if(l===o){$e=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,$e=b;break e}$e=l.return}}if(pt=a,_l(),ni&&typeof ni.onPostCommitFiberRoot=="function")try{ni.onPostCommitFiberRoot(Yx,e)}catch{}r=!0}return r}finally{kt=n,Gs.transition=t}}return!1}function _P(e,t,n){t=cu(n,t),t=AI(e,t,1),e=Xo(e,t,1),t=Ir(),e!==null&&(Em(e,1,t),ss(e,t))}function dn(e,t,n){if(e.tag===3)_P(e,e,n);else for(;t!==null;){if(t.tag===3){_P(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zo===null||!Zo.has(r))){e=cu(n,e),e=PI(t,e,1),t=Xo(t,e,1),e=Ir(),t!==null&&(Em(t,1,e),ss(t,e));break}}t=t.return}}function _K(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ir(),e.pingedLanes|=e.suspendedLanes&n,Kn===e&&(ar&n)===n&&(In===4||In===3&&(ar&130023424)===ar&&500>jn()-G_?hc(e,0):K_|=n),ss(e,t)}function YI(e,t){t===0&&(e.mode&1?(t=Ip,Ip<<=1,!(Ip&130023424)&&(Ip=4194304)):t=1);var n=Ir();e=zi(e,t),e!==null&&(Em(e,t,n),ss(e,n))}function SK(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),YI(e,n)}function CK(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ve(314))}r!==null&&r.delete(t),YI(e,n)}var XI;XI=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ns.current)Xr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xr=!1,fK(e,t,n);Xr=!!(e.flags&131072)}else Xr=!1,Kt&&t.flags&1048576&&eI(t,mv,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Rg(e,t),e=t.pendingProps;var a=au(t,_r.current);$d(t,n),a=z_(null,t,r,e,a,n);var i=U_();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rs(r)?(i=!0,hv(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,I_(t),a.updater=ny,t.stateNode=a,a._reactInternals=t,Fb(t,r,e,n),t=Ub(null,t,r,!0,i,n)):(t.tag=0,Kt&&i&&P_(t),Er(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Rg(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=AK(r),e=ma(r,e),a){case 0:t=zb(null,t,r,e,n);break e;case 1:t=mP(null,t,r,e,n);break e;case 11:t=hP(null,t,r,e,n);break e;case 14:t=fP(null,t,r,ma(r.type,e),n);break e}throw Error(ve(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ma(r,a),zb(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ma(r,a),mP(e,t,r,a,n);case 3:e:{if(MI(t),e===null)throw Error(ve(387));r=t.pendingProps,i=t.memoizedState,a=i.element,iI(e,t),vv(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=cu(Error(ve(423)),t),t=pP(e,t,r,n,a);break e}else if(r!==a){a=cu(Error(ve(424)),t),t=pP(e,t,r,n,a);break e}else for(ys=Yo(t.stateNode.containerInfo.firstChild),ws=t,Kt=!0,ja=null,n=sI(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(iu(),r===a){t=Ui(e,t,n);break e}Er(e,t,r,n)}t=t.child}return t;case 5:return oI(t),e===null&&Ib(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Tb(r,a)?o=null:i!==null&&Tb(r,i)&&(t.flags|=32),OI(e,t),Er(e,t,o,n),t.child;case 6:return e===null&&Ib(t),null;case 13:return DI(e,t,n);case 4:return $_(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ou(t,null,r,n):Er(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ma(r,a),hP(e,t,r,a,n);case 7:return Er(e,t,t.pendingProps,n),t.child;case 8:return Er(e,t,t.pendingProps.children,n),t.child;case 12:return Er(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,$t(pv,r._currentValue),r._currentValue=o,i!==null)if(Sa(i.value,o)){if(i.children===a.children&&!ns.current){t=Ui(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Di(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),$b(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ve(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$b(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Er(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,$d(t,n),a=Js(a),r=r(a),t.flags|=1,Er(e,t,r,n),t.child;case 14:return r=t.type,a=ma(r,t.pendingProps),a=ma(r.type,a),fP(e,t,r,a,n);case 15:return EI(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ma(r,a),Rg(e,t),t.tag=1,rs(r)?(e=!0,hv(t)):e=!1,$d(t,n),kI(t,r,a),Fb(t,r,a,n),Ub(null,t,r,!0,e,n);case 19:return RI(e,t,n);case 22:return TI(e,t,n)}throw Error(ve(156,t.tag))};function ZI(e,t){return _R(e,t)}function kK(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(e,t,n,r){return new kK(e,t,n,r)}function Q_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function AK(e){if(typeof e=="function")return Q_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===v_)return 11;if(e===x_)return 14}return 2}function Jo(e,t){var n=e.alternate;return n===null?(n=qs(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lg(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")Q_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case gd:return fc(n.children,a,i,t);case g_:o=8,a|=8;break;case cb:return e=qs(12,n,t,a|2),e.elementType=cb,e.lanes=i,e;case db:return e=qs(13,n,t,a),e.elementType=db,e.lanes=i,e;case ub:return e=qs(19,n,t,a),e.elementType=ub,e.lanes=i,e;case oR:return ay(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case aR:o=10;break e;case iR:o=9;break e;case v_:o=11;break e;case x_:o=14;break e;case Ao:o=16,r=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return t=qs(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function fc(e,t,n,r){return e=qs(7,e,r,t),e.lanes=n,e}function ay(e,t,n,r){return e=qs(22,e,r,t),e.elementType=oR,e.lanes=n,e.stateNode={isHidden:!1},e}function $j(e,t,n){return e=qs(6,e,null,t),e.lanes=n,e}function Lj(e,t,n){return t=qs(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PK(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xj(0),this.expirationTimes=xj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xj(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function J_(e,t,n,r,a,i,o,l,c){return e=new PK(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=qs(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},I_(i),e}function EK(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pd,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function QI(e){if(!e)return il;e=e._reactInternals;e:{if(Uc(e)!==e||e.tag!==1)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ve(171))}if(e.tag===1){var n=e.type;if(rs(n))return QR(e,n,t)}return t}function JI(e,t,n,r,a,i,o,l,c){return e=J_(n,r,!0,e,a,i,o,l,c),e.context=QI(null),n=e.current,r=Ir(),a=Qo(n),i=Di(r,a),i.callback=t??null,Xo(n,i,a),e.current.lanes=a,Em(e,a,r),ss(e,r),e}function iy(e,t,n,r){var a=t.current,i=Ir(),o=Qo(a);return n=QI(n),t.context===null?t.context=n:t.pendingContext=n,t=Di(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xo(a,t,o),e!==null&&(_a(e,a,o,i),Og(e,a,o)),o}function Sv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function SP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function eS(e,t){SP(e,t),(e=e.alternate)&&SP(e,t)}function TK(){return null}var e$=typeof reportError=="function"?reportError:function(e){console.error(e)};function tS(e){this._internalRoot=e}oy.prototype.render=tS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ve(409));iy(e,t,null,null)};oy.prototype.unmount=tS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_c(function(){iy(null,e,null,null)}),t[Bi]=null}};function oy(e){this._internalRoot=e}oy.prototype.unstable_scheduleHydration=function(e){if(e){var t=TR();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mo.length&&t!==0&&t<Mo[n].priority;n++);Mo.splice(n,0,e),n===0&&MR(e)}};function nS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ly(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function CP(){}function OK(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var d=Sv(o);i.call(d)}}var o=JI(t,r,e,0,null,!1,!1,"",CP);return e._reactRootContainer=o,e[Bi]=o.current,Rf(e.nodeType===8?e.parentNode:e),_c(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var d=Sv(c);l.call(d)}}var c=J_(e,0,!1,null,null,!1,!1,"",CP);return e._reactRootContainer=c,e[Bi]=c.current,Rf(e.nodeType===8?e.parentNode:e),_c(function(){iy(t,c,n,r)}),c}function cy(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Sv(o);l.call(c)}}iy(t,o,e,a)}else o=OK(n,t,e,a,r);return Sv(o)}PR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Hh(t.pendingLanes);n!==0&&(w_(t,n|1),ss(t,jn()),!(pt&6)&&(du=jn()+500,_l()))}break;case 13:_c(function(){var r=zi(e,1);if(r!==null){var a=Ir();_a(r,e,1,a)}}),eS(e,1)}};b_=function(e){if(e.tag===13){var t=zi(e,134217728);if(t!==null){var n=Ir();_a(t,e,134217728,n)}eS(e,134217728)}};ER=function(e){if(e.tag===13){var t=Qo(e),n=zi(e,t);if(n!==null){var r=Ir();_a(n,e,t,r)}eS(e,t)}};TR=function(){return kt};OR=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}};wb=function(e,t,n){switch(t){case"input":if(mb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Jx(r);if(!a)throw Error(ve(90));cR(r),mb(r,a)}}}break;case"textarea":uR(e,n);break;case"select":t=n.value,t!=null&&Md(e,!!n.multiple,t,!1)}};xR=Y_;yR=_c;var MK={usingClientEntryPoint:!1,Events:[Om,jd,Jx,gR,vR,Y_]},Ch={findFiberByHostInstance:Xl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DK={bundleType:Ch.bundleType,version:Ch.version,rendererPackageName:Ch.rendererPackageName,rendererConfig:Ch.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:to.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bR(e),e===null?null:e.stateNode},findFiberByHostInstance:Ch.findFiberByHostInstance||TK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kp.isDisabled&&Kp.supportsFiber)try{Yx=Kp.inject(DK),ni=Kp}catch{}}Ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MK;Ts.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nS(t))throw Error(ve(200));return EK(e,t,null,n)};Ts.createRoot=function(e,t){if(!nS(e))throw Error(ve(299));var n=!1,r="",a=e$;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=J_(e,1,!1,null,null,n,!1,r,a),e[Bi]=t.current,Rf(e.nodeType===8?e.parentNode:e),new tS(t)};Ts.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=bR(t),e=e===null?null:e.stateNode,e};Ts.flushSync=function(e){return _c(e)};Ts.hydrate=function(e,t,n){if(!ly(t))throw Error(ve(200));return cy(null,e,t,!0,n)};Ts.hydrateRoot=function(e,t,n){if(!nS(e))throw Error(ve(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=e$;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=JI(t,null,e,1,n??null,a,!1,i,o),e[Bi]=t.current,Rf(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new oy(t)};Ts.render=function(e,t,n){if(!ly(t))throw Error(ve(200));return cy(null,e,t,!1,n)};Ts.unmountComponentAtNode=function(e){if(!ly(e))throw Error(ve(40));return e._reactRootContainer?(_c(function(){cy(null,null,e,!1,function(){e._reactRootContainer=null,e[Bi]=null})}),!0):!1};Ts.unstable_batchedUpdates=Y_;Ts.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ly(n))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return cy(e,t,n,!1,r)};Ts.version="18.3.1-next-f1338f8080-20240426";function t$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t$)}catch(e){console.error(e)}}t$(),tR.exports=Ts;var no=tR.exports;const n$=pi(no);var r$,kP=no;r$=kP.createRoot,kP.hydrateRoot;const rS=m.createContext({});function sS(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const aS=typeof window<"u",s$=aS?m.useLayoutEffect:m.useEffect,dy=m.createContext(null);function iS(e,t){e.indexOf(t)===-1&&e.push(t)}function oS(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Vi=(e,t,n)=>n>t?t:n<e?e:n;let Cv=()=>{};const Wi={},a$=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function i$(e){return typeof e=="object"&&e!==null}const o$=e=>/^0[^.\s]+$/u.test(e);function lS(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ys=e=>e,RK=(e,t)=>n=>t(e(n)),Dm=(...e)=>e.reduce(RK),Wf=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class cS{constructor(){this.subscriptions=[]}add(t){return iS(this.subscriptions,t),()=>oS(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const si=e=>e*1e3,Hs=e=>e/1e3;function l$(e,t){return t?e*(1e3/t):0}const c$=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,IK=1e-7,$K=12;function LK(e,t,n,r,a){let i,o,l=0;do o=t+(n-t)/2,i=c$(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>IK&&++l<$K);return o}function Rm(e,t,n,r){if(e===t&&n===r)return Ys;const a=i=>LK(i,0,1,e,n);return i=>i===0||i===1?i:c$(a(i),t,r)}const d$=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,u$=e=>t=>1-e(1-t),h$=Rm(.33,1.53,.69,.99),dS=u$(h$),f$=d$(dS),m$=e=>(e*=2)<1?.5*dS(e):.5*(2-Math.pow(2,-10*(e-1))),uS=e=>1-Math.sin(Math.acos(e)),p$=u$(uS),g$=d$(uS),FK=Rm(.42,0,1,1),BK=Rm(0,0,.58,1),v$=Rm(.42,0,.58,1),zK=e=>Array.isArray(e)&&typeof e[0]!="number",x$=e=>Array.isArray(e)&&typeof e[0]=="number",AP={linear:Ys,easeIn:FK,easeInOut:v$,easeOut:BK,circIn:uS,circInOut:g$,circOut:p$,backIn:dS,backInOut:f$,backOut:h$,anticipate:m$},UK=e=>typeof e=="string",PP=e=>{if(x$(e)){Cv(e.length===4);const[t,n,r,a]=e;return Rm(t,n,r,a)}else if(UK(e))return Cv(AP[e]!==void 0),AP[e];return e},Gp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],EP={value:null,addProjectionMetrics:null};function VK(e,t){let n=new Set,r=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(h){o.has(h)&&(u.schedule(h),e()),c++,h(l)}const u={schedule:(h,f=!1,p=!1)=>{const v=p&&a?n:r;return f&&o.add(h),v.has(h)||v.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(l=h,a){i=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),t&&EP.value&&EP.value.frameloop[t].push(c),c=0,n.clear(),a=!1,i&&(i=!1,u.process(h))}};return u}const WK=40;function y$(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Gp.reduce((w,b)=>(w[b]=VK(i,t?b:void 0),w),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:f,render:p,postRender:g}=o,v=()=>{const w=Wi.useManualTiming?a.timestamp:performance.now();n=!1,Wi.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(w-a.timestamp,WK),1)),a.timestamp=w,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),f.process(a),p.process(a),g.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(v))},j=()=>{n=!0,r=!0,a.isProcessing||e(v)};return{schedule:Gp.reduce((w,b)=>{const S=o[b];return w[b]=(_,N=!1,C=!1)=>(n||j(),S.schedule(_,N,C)),w},{}),cancel:w=>{for(let b=0;b<Gp.length;b++)o[Gp[b]].cancel(w)},state:a,steps:o}}const{schedule:Gt,cancel:ol,state:tr,steps:Fj}=y$(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ys,!0);let Fg;function qK(){Fg=void 0}const Zr={now:()=>(Fg===void 0&&Zr.set(tr.isProcessing||Wi.useManualTiming?tr.timestamp:performance.now()),Fg),set:e=>{Fg=e,queueMicrotask(qK)}},j$=e=>t=>typeof t=="string"&&t.startsWith(e),hS=j$("--"),HK=j$("var(--"),fS=e=>HK(e)?KK.test(e.split("/*")[0].trim()):!1,KK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},qf={...zu,transform:e=>Vi(0,1,e)},Yp={...zu,default:1},hf=e=>Math.round(e*1e5)/1e5,mS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GK(e){return e==null}const YK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pS=(e,t)=>n=>!!(typeof n=="string"&&YK.test(n)&&n.startsWith(e)||t&&!GK(n)&&Object.prototype.hasOwnProperty.call(n,t)),w$=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,i,o,l]=r.match(mS);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},XK=e=>Vi(0,255,e),Bj={...zu,transform:e=>Math.round(XK(e))},Jl={test:pS("rgb","red"),parse:w$("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Bj.transform(e)+", "+Bj.transform(t)+", "+Bj.transform(n)+", "+hf(qf.transform(r))+")"};function ZK(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const e1={test:pS("#"),parse:ZK,transform:Jl.transform},Im=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_o=Im("deg"),ai=Im("%"),Ye=Im("px"),QK=Im("vh"),JK=Im("vw"),TP={...ai,parse:e=>ai.parse(e)/100,transform:e=>ai.transform(e*100)},kd={test:pS("hsl","hue"),parse:w$("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ai.transform(hf(t))+", "+ai.transform(hf(n))+", "+hf(qf.transform(r))+")"},kn={test:e=>Jl.test(e)||e1.test(e)||kd.test(e),parse:e=>Jl.test(e)?Jl.parse(e):kd.test(e)?kd.parse(e):e1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Jl.transform(e):kd.transform(e),getAnimatableNone:e=>{const t=kn.parse(e);return t.alpha=0,kn.transform(t)}},eG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tG(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(mS))==null?void 0:t.length)||0)+(((n=e.match(eG))==null?void 0:n.length)||0)>0}const b$="number",N$="color",nG="var",rG="var(",OP="${}",sG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hf(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(sG,c=>(kn.test(c)?(r.color.push(i),a.push(N$),n.push(kn.parse(c))):c.startsWith(rG)?(r.var.push(i),a.push(nG),n.push(c)):(r.number.push(i),a.push(b$),n.push(parseFloat(c))),++i,OP)).split(OP);return{values:n,split:l,indexes:r,types:a}}function _$(e){return Hf(e).values}function S$(e){const{split:t,types:n}=Hf(e),r=t.length;return a=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],a[o]!==void 0){const l=n[o];l===b$?i+=hf(a[o]):l===N$?i+=kn.transform(a[o]):i+=a[o]}return i}}const aG=e=>typeof e=="number"?0:kn.test(e)?kn.getAnimatableNone(e):e;function iG(e){const t=_$(e);return S$(e)(t.map(aG))}const ll={test:tG,parse:_$,createTransformer:S$,getAnimatableNone:iG};function zj(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function oG({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=zj(c,l,e+1/3),i=zj(c,l,e),o=zj(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function kv(e,t){return n=>n>0?t:e}const Jt=(e,t,n)=>e+(t-e)*n,Uj=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},lG=[e1,Jl,kd],cG=e=>lG.find(t=>t.test(e));function MP(e){const t=cG(e);if(!t)return!1;let n=t.parse(e);return t===kd&&(n=oG(n)),n}const DP=(e,t)=>{const n=MP(e),r=MP(t);if(!n||!r)return kv(e,t);const a={...n};return i=>(a.red=Uj(n.red,r.red,i),a.green=Uj(n.green,r.green,i),a.blue=Uj(n.blue,r.blue,i),a.alpha=Jt(n.alpha,r.alpha,i),Jl.transform(a))},t1=new Set(["none","hidden"]);function dG(e,t){return t1.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function uG(e,t){return n=>Jt(e,t,n)}function gS(e){return typeof e=="number"?uG:typeof e=="string"?fS(e)?kv:kn.test(e)?DP:mG:Array.isArray(e)?C$:typeof e=="object"?kn.test(e)?DP:hG:kv}function C$(e,t){const n=[...e],r=n.length,a=e.map((i,o)=>gS(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}}function hG(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=gS(e[a])(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}}function fG(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][r[i]],l=e.values[o]??0;n[a]=l,r[i]++}return n}const mG=(e,t)=>{const n=ll.createTransformer(t),r=Hf(e),a=Hf(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?t1.has(e)&&!a.values.length||t1.has(t)&&!r.values.length?dG(e,t):Dm(C$(fG(r,a),a.values),n):kv(e,t)};function k$(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Jt(e,t,n):gS(e)(e,t)}const pG=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Gt.update(t,n),stop:()=>ol(t),now:()=>tr.isProcessing?tr.timestamp:Zr.now()}},A$=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)r+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Av=2e4;function vS(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Av;)t+=n,r=e.next(t);return t>=Av?1/0:t}function gG(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(vS(r),Av);return{type:"keyframes",ease:i=>r.next(a*i).value/t,duration:Hs(a)}}const vG=5;function P$(e,t,n){const r=Math.max(t-vG,0);return l$(n-e(r),t-r)}const ln={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vj=.001;function xG({duration:e=ln.duration,bounce:t=ln.bounce,velocity:n=ln.velocity,mass:r=ln.mass}){let a,i,o=1-t;o=Vi(ln.minDamping,ln.maxDamping,o),e=Vi(ln.minDuration,ln.maxDuration,Hs(e)),o<1?(a=d=>{const u=d*o,h=u*e,f=u-n,p=n1(d,o),g=Math.exp(-h);return Vj-f/p*g},i=d=>{const h=d*o*e,f=h*n+n,p=Math.pow(o,2)*Math.pow(d,2)*e,g=Math.exp(-h),v=n1(Math.pow(d,2),o);return(-a(d)+Vj>0?-1:1)*((f-p)*g)/v}):(a=d=>{const u=Math.exp(-d*e),h=(d-n)*e+1;return-Vj+u*h},i=d=>{const u=Math.exp(-d*e),h=(n-d)*(e*e);return u*h});const l=5/e,c=jG(a,i,l);if(e=si(e),isNaN(c))return{stiffness:ln.stiffness,damping:ln.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:e}}}const yG=12;function jG(e,t,n){let r=n;for(let a=1;a<yG;a++)r=r-e(r)/t(r);return r}function n1(e,t){return e*Math.sqrt(1-t*t)}const wG=["duration","bounce"],bG=["stiffness","damping","mass"];function RP(e,t){return t.some(n=>e[n]!==void 0)}function NG(e){let t={velocity:ln.velocity,stiffness:ln.stiffness,damping:ln.damping,mass:ln.mass,isResolvedFromDuration:!1,...e};if(!RP(e,bG)&&RP(e,wG))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,i=2*Vi(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ln.mass,stiffness:a,damping:i}}else{const n=xG(e);t={...t,...n,mass:ln.mass},t.isResolvedFromDuration=!0}return t}function Pv(e=ln.visualDuration,t=ln.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:p}=NG({...n,velocity:-Hs(n.velocity||0)}),g=f||0,v=d/(2*Math.sqrt(c*u)),j=o-i,y=Hs(Math.sqrt(c/u)),x=Math.abs(j)<5;r||(r=x?ln.restSpeed.granular:ln.restSpeed.default),a||(a=x?ln.restDelta.granular:ln.restDelta.default);let w;if(v<1){const S=n1(y,v);w=_=>{const N=Math.exp(-v*y*_);return o-N*((g+v*y*j)/S*Math.sin(S*_)+j*Math.cos(S*_))}}else if(v===1)w=S=>o-Math.exp(-y*S)*(j+(g+y*j)*S);else{const S=y*Math.sqrt(v*v-1);w=_=>{const N=Math.exp(-v*y*_),C=Math.min(S*_,300);return o-N*((g+v*y*j)*Math.sinh(C)+S*j*Math.cosh(C))/S}}const b={calculatedDuration:p&&h||null,next:S=>{const _=w(S);if(p)l.done=S>=h;else{let N=S===0?g:0;v<1&&(N=S===0?si(g):P$(w,S,_));const C=Math.abs(N)<=r,k=Math.abs(o-_)<=a;l.done=C&&k}return l.value=l.done?o:_,l},toString:()=>{const S=Math.min(vS(b),Av),_=A$(N=>b.next(S*N).value,S,30);return S+"ms "+_},toTransition:()=>{}};return b}Pv.applyToOptions=e=>{const t=gG(e,100,Pv);return e.ease=t.ease,e.duration=si(t.duration),e.type="keyframes",e};function r1({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],f={done:!1,value:h},p=C=>l!==void 0&&C<l||c!==void 0&&C>c,g=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let v=n*t;const j=h+v,y=o===void 0?j:o(j);y!==j&&(v=y-h);const x=C=>-v*Math.exp(-C/r),w=C=>y+x(C),b=C=>{const k=x(C),A=w(C);f.done=Math.abs(k)<=d,f.value=f.done?y:A};let S,_;const N=C=>{p(f.value)&&(S=C,_=Pv({keyframes:[f.value,g(f.value)],velocity:P$(w,C,f.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:C=>{let k=!1;return!_&&S===void 0&&(k=!0,b(C),N(C)),S!==void 0&&C>=S?_.next(C-S):(!k&&b(C),f)}}}function _G(e,t,n){const r=[],a=n||Wi.mix||k$,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ys:t;l=Dm(c,l)}r.push(l)}return r}function SG(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(Cv(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=_G(t,r,a),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const f=Wf(e[h],e[h+1],u);return l[h](f)};return n?u=>d(Vi(e[0],e[i-1],u)):d}function CG(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Wf(0,t,r);e.push(Jt(n,1,a))}}function kG(e){const t=[0];return CG(t,e.length-1),t}function AG(e,t){return e.map(n=>n*t)}function PG(e,t){return e.map(()=>t||v$).splice(0,e.length-1)}function ff({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=zK(r)?r.map(PP):PP(r),i={done:!1,value:t[0]},o=AG(n&&n.length===t.length?n:kG(t),e),l=SG(o,t,{ease:Array.isArray(a)?a:PG(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const EG=e=>e!==null;function xS(e,{repeat:t,repeatType:n="loop"},r,a=1){const i=e.filter(EG),l=a<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const TG={decay:r1,inertia:r1,tween:ff,keyframes:ff,spring:Pv};function E$(e){typeof e.type=="string"&&(e.type=TG[e.type])}class yS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const OG=e=>e/100;class jS extends yS{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Zr.now()&&this.tick(Zr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;E$(t);const{type:n=ff,repeat:r=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=n||ff;c!==ff&&typeof l[0]!="number"&&(this.mixKeyframes=Dm(OG,k$(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=vS(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:p,type:g,onUpdate:v,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-d*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,b=r;if(h){const C=Math.min(this.currentTime,a)/l;let k=Math.floor(C),A=C%1;!A&&C>=1&&(A=1),A===1&&k--,k=Math.min(k,h+1),!!(k%2)&&(f==="reverse"?(A=1-A,p&&(A-=p/l)):f==="mirror"&&(b=o)),w=Vi(0,1,A)*l}const S=x?{done:!1,value:u[0]}:b.next(w);i&&(S.value=i(S.value));let{done:_}=S;!x&&c!==null&&(_=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return N&&g!==r1&&(S.value=xS(u,this.options,j,this.speed)),v&&v(S.value),N&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return Hs(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Hs(t)}get time(){return Hs(this.currentTime)}set time(t){var n;t=si(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Zr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Hs(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=pG,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function MG(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ec=e=>e*180/Math.PI,s1=e=>{const t=ec(Math.atan2(e[1],e[0]));return a1(t)},DG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:s1,rotateZ:s1,skewX:e=>ec(Math.atan(e[1])),skewY:e=>ec(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},a1=e=>(e=e%360,e<0&&(e+=360),e),IP=s1,$P=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),LP=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),RG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$P,scaleY:LP,scale:e=>($P(e)+LP(e))/2,rotateX:e=>a1(ec(Math.atan2(e[6],e[5]))),rotateY:e=>a1(ec(Math.atan2(-e[2],e[0]))),rotateZ:IP,rotate:IP,skewX:e=>ec(Math.atan(e[4])),skewY:e=>ec(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function i1(e){return e.includes("scale")?1:0}function o1(e,t){if(!e||e==="none")return i1(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=RG,a=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=DG,a=l}if(!a)return i1(t);const i=r[t],o=a[1].split(",").map($G);return typeof i=="function"?i(o):o[i]}const IG=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return o1(n,t)};function $G(e){return parseFloat(e.trim())}const Uu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vu=new Set(Uu),FP=e=>e===zu||e===Ye,LG=new Set(["x","y","z"]),FG=Uu.filter(e=>!LG.has(e));function BG(e){const t=[];return FG.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const mc={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>o1(t,"x"),y:(e,{transform:t})=>o1(t,"y")};mc.translateX=mc.x;mc.translateY=mc.y;const pc=new Set;let l1=!1,c1=!1,d1=!1;function T$(){if(c1){const e=Array.from(pc).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=BG(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([i,o])=>{var l;(l=r.getValue(i))==null||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}c1=!1,l1=!1,pc.forEach(e=>e.complete(d1)),pc.clear()}function O$(){pc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(c1=!0)})}function zG(){d1=!0,O$(),T$(),d1=!1}class wS{constructor(t,n,r,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(pc.add(this),l1||(l1=!0,Gt.read(O$),Gt.resolveKeyframes(T$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}MG(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),pc.delete(this)}cancel(){this.state==="scheduled"&&(pc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const UG=e=>e.startsWith("--");function VG(e,t,n){UG(t)?e.style.setProperty(t,n):e.style[t]=n}const WG=lS(()=>window.ScrollTimeline!==void 0),qG={};function HG(e,t){const n=lS(e);return()=>qG[t]??n()}const M$=HG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gh=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,BP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gh([0,.65,.55,1]),circOut:Gh([.55,0,1,.45]),backIn:Gh([.31,.01,.66,-.59]),backOut:Gh([.33,1.53,.69,.99])};function D$(e,t){if(e)return typeof e=="function"?M$()?A$(e,t):"ease-out":x$(e)?Gh(e):Array.isArray(e)?e.map(n=>D$(n,t)||BP.easeOut):BP[e]}function KG(e,t,n,{delay:r=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:n};c&&(u.offset=c);const h=D$(l,a);Array.isArray(h)&&(u.easing=h);const f={delay:r,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),e.animate(u,f)}function R$(e){return typeof e=="function"&&"applyToOptions"in e}function GG({type:e,...t}){return R$(e)&&M$()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class YG extends yS{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Cv(typeof t.type!="string");const d=GG(t);this.animation=KG(n,r,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=xS(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):VG(n,r,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Hs(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Hs(t)}get time(){return Hs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=si(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&WG()?(this.animation.timeline=t,Ys):n(this)}}const I$={anticipate:m$,backInOut:f$,circInOut:g$};function XG(e){return e in I$}function ZG(e){typeof e.ease=="string"&&XG(e.ease)&&(e.ease=I$[e.ease])}const zP=10;class QG extends YG{constructor(t){ZG(t),E$(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new jS({...o,autoplay:!1}),c=si(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-zP).value,l.sample(c).value,zP),l.stop()}}const UP=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ll.test(e)||e==="0")&&!e.startsWith("url("));function JG(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function eY(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=UP(a,t),l=UP(i,t);return!o||!l?!1:JG(e)||(n==="spring"||R$(n))&&r}function u1(e){e.duration=0,e.type="keyframes"}const tY=new Set(["opacity","clipPath","filter","transform"]),nY=lS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rY(e){var u;const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:i,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return nY()&&n&&tY.has(n)&&(n!=="transform"||!d)&&!c&&!r&&a!=="mirror"&&i!==0&&o!=="inertia"}const sY=40;class aY extends yS{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var g;super(),this.stop=()=>{var v,j;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=Zr.now();const f={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...h},p=(u==null?void 0:u.KeyframeResolver)||wS;this.keyframeResolver=new p(l,(v,j,y)=>this.onKeyframesResolved(v,j,f,!y),c,d,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=r;this.resolvedAt=Zr.now(),eY(t,i,o,l)||((Wi.instantAnimations||!c)&&(u==null||u(xS(t,r,n))),t[0]=t[t.length-1],u1(r),r.repeat=0);const f={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>sY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},p=!d&&rY(f)?new QG({...f,element:f.motionValue.owner.current}):new jS(f);p.finished.then(()=>this.notifyFinished()).catch(Ys),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),zG()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const iY=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oY(e){const t=iY.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function $$(e,t,n=1){const[r,a]=oY(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return a$(o)?parseFloat(o):o}return fS(a)?$$(a,t,n+1):a}function bS(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const L$=new Set(["width","height","top","left","right","bottom",...Uu]),lY={test:e=>e==="auto",parse:e=>e},F$=e=>t=>t.test(e),B$=[zu,Ye,ai,_o,JK,QK,lY],VP=e=>B$.find(F$(e));function cY(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||o$(e):!0}const dY=new Set(["brightness","contrast","saturate","opacity"]);function uY(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(mS)||[];if(!r)return e;const a=n.replace(r,"");let i=dY.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const hY=/\b([a-z-]*)\(.*?\)/gu,h1={...ll,getAnimatableNone:e=>{const t=e.match(hY);return t?t.map(uY).join(" "):e}},WP={...zu,transform:Math.round},fY={rotate:_o,rotateX:_o,rotateY:_o,rotateZ:_o,scale:Yp,scaleX:Yp,scaleY:Yp,scaleZ:Yp,skew:_o,skewX:_o,skewY:_o,distance:Ye,translateX:Ye,translateY:Ye,translateZ:Ye,x:Ye,y:Ye,z:Ye,perspective:Ye,transformPerspective:Ye,opacity:qf,originX:TP,originY:TP,originZ:Ye},NS={borderWidth:Ye,borderTopWidth:Ye,borderRightWidth:Ye,borderBottomWidth:Ye,borderLeftWidth:Ye,borderRadius:Ye,radius:Ye,borderTopLeftRadius:Ye,borderTopRightRadius:Ye,borderBottomRightRadius:Ye,borderBottomLeftRadius:Ye,width:Ye,maxWidth:Ye,height:Ye,maxHeight:Ye,top:Ye,right:Ye,bottom:Ye,left:Ye,padding:Ye,paddingTop:Ye,paddingRight:Ye,paddingBottom:Ye,paddingLeft:Ye,margin:Ye,marginTop:Ye,marginRight:Ye,marginBottom:Ye,marginLeft:Ye,backgroundPositionX:Ye,backgroundPositionY:Ye,...fY,zIndex:WP,fillOpacity:qf,strokeOpacity:qf,numOctaves:WP},mY={...NS,color:kn,backgroundColor:kn,outlineColor:kn,fill:kn,stroke:kn,borderColor:kn,borderTopColor:kn,borderRightColor:kn,borderBottomColor:kn,borderLeftColor:kn,filter:h1,WebkitFilter:h1},z$=e=>mY[e];function U$(e,t){let n=z$(e);return n!==h1&&(n=ll),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const pY=new Set(["auto","none","0"]);function gY(e,t,n){let r=0,a;for(;r<e.length&&!a;){const i=e[r];typeof i=="string"&&!pY.has(i)&&Hf(i).values.length&&(a=e[r]),r++}if(a&&n)for(const i of t)e[i]=U$(n,a)}class vY extends wS{constructor(t,n,r,a,i){super(t,n,r,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),fS(d))){const u=$$(d,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!L$.has(r)||t.length!==2)return;const[a,i]=t,o=VP(a),l=VP(i);if(o!==l)if(FP(o)&&FP(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else mc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||cY(t[a]))&&r.push(a);r.length&&gY(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=mc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function xY(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const a=document.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const V$=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function W$(e){return i$(e)&&"offsetHeight"in e}const qP=30,yY=e=>!isNaN(parseFloat(e));class jY{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const a=Zr.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Zr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=yY(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new cS);const r=this.events[t].add(n);return t==="change"?()=>{r(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Zr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>qP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,qP);return l$(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uu(e,t){return new jY(e,t)}const{schedule:_S,cancel:uTe}=y$(queueMicrotask,!1),ha={x:!1,y:!1};function q$(){return ha.x||ha.y}function wY(e){return e==="x"||e==="y"?ha[e]?null:(ha[e]=!0,()=>{ha[e]=!1}):ha.x||ha.y?null:(ha.x=ha.y=!0,()=>{ha.x=ha.y=!1})}function H$(e,t){const n=xY(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function HP(e){return!(e.pointerType==="touch"||q$())}function bY(e,t,n={}){const[r,a,i]=H$(e,n),o=l=>{if(!HP(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=h=>{HP(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return r.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const K$=(e,t)=>t?e===t?!0:K$(e,t.parentElement):!1,SS=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,NY=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _Y(e){return NY.has(e.tagName)||e.tabIndex!==-1}const Bg=new WeakSet;function KP(e){return t=>{t.key==="Enter"&&e(t)}}function Wj(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const SY=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=KP(()=>{if(Bg.has(n))return;Wj(n,"down");const a=KP(()=>{Wj(n,"up")}),i=()=>Wj(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function GP(e){return SS(e)&&!q$()}function CY(e,t,n={}){const[r,a,i]=H$(e,n),o=l=>{const c=l.currentTarget;if(!GP(l))return;Bg.add(c);const d=t(c,l),u=(p,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Bg.has(c)&&Bg.delete(c),GP(p)&&typeof d=="function"&&d(p,{success:g})},h=p=>{u(p,c===window||c===document||n.useGlobalTarget||K$(c,p.target))},f=p=>{u(p,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",f,a)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),W$(l)&&(l.addEventListener("focus",d=>SY(d,a)),!_Y(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function G$(e){return i$(e)&&"ownerSVGElement"in e}function kY(e){return G$(e)&&e.tagName==="svg"}const wr=e=>!!(e&&e.getVelocity),AY=[...B$,kn,ll],PY=e=>AY.find(F$(e)),CS=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function YP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function EY(...e){return t=>{let n=!1;const r=e.map(a=>{const i=YP(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():YP(e[a],null)}}}}function TY(...e){return m.useCallback(EY(...e),e)}class OY extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=W$(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function MY({children:e,isPresent:t,anchorX:n,root:r}){const a=m.useId(),i=m.useRef(null),o=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=m.useContext(CS),c=TY(i,e==null?void 0:e.ref);return m.useInsertionEffect(()=>{const{width:d,height:u,top:h,left:f,right:p}=o.current;if(t||!i.current||!d||!u)return;const g=n==="left"?`left: ${f}`:`right: ${p}`;i.current.dataset.motionPopId=a;const v=document.createElement("style");l&&(v.nonce=l);const j=r??document.head;return j.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${g}px !important;
            top: ${h}px !important;
          }
        `),()=>{j.contains(v)&&j.removeChild(v)}},[t]),s.jsx(OY,{isPresent:t,childRef:i,sizeRef:o,children:m.cloneElement(e,{ref:c})})}const DY=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=sS(RY),u=m.useId();let h=!0,f=m.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:n,custom:a,onExitComplete:p=>{d.set(p,!0);for(const g of d.values())if(!g)return;r&&r()},register:p=>(d.set(p,!1),()=>d.delete(p))}),[n,d,r]);return i&&h&&(f={...f}),m.useMemo(()=>{d.forEach((p,g)=>d.set(g,!1))},[n]),m.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),o==="popLayout"&&(e=s.jsx(MY,{isPresent:n,anchorX:l,root:c,children:e})),s.jsx(dy.Provider,{value:f,children:e})};function RY(){return new Map}function Y$(e=!0){const t=m.useContext(dy);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,i=m.useId();m.useEffect(()=>{if(e)return a(i)},[e]);const o=m.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Xp=e=>e.key||"";function XP(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const uy=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=Y$(o),h=m.useMemo(()=>XP(e),[e]),f=o&&!d?[]:h.map(Xp),p=m.useRef(!0),g=m.useRef(h),v=sS(()=>new Map),[j,y]=m.useState(h),[x,w]=m.useState(h);s$(()=>{p.current=!1,g.current=h;for(let _=0;_<x.length;_++){const N=Xp(x[_]);f.includes(N)?v.delete(N):v.get(N)!==!0&&v.set(N,!1)}},[x,f.length,f.join("-")]);const b=[];if(h!==j){let _=[...h];for(let N=0;N<x.length;N++){const C=x[N],k=Xp(C);f.includes(k)||(_.splice(N,0,C),b.push(C))}return i==="wait"&&b.length&&(_=b),w(XP(_)),y(h),null}const{forceRender:S}=m.useContext(rS);return s.jsx(s.Fragment,{children:x.map(_=>{const N=Xp(_),C=o&&!d?!1:h===x||f.includes(N),k=()=>{if(v.has(N))v.set(N,!0);else return;let A=!0;v.forEach(O=>{O||(A=!1)}),A&&(S==null||S(),w(g.current),o&&(u==null||u()),r&&r())};return s.jsx(DY,{isPresent:C,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:C?void 0:k,anchorX:l,children:_},N)})})},X$=m.createContext({strict:!1}),ZP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hu={};for(const e in ZP)hu[e]={isEnabled:t=>ZP[e].some(n=>!!t[n])};function IY(e){for(const t in e)hu[t]={...hu[t],...e[t]}}const $Y=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ev(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||$Y.has(e)}let Z$=e=>!Ev(e);function LY(e){typeof e=="function"&&(Z$=t=>t.startsWith("on")?!Ev(t):e(t))}try{LY(require("@emotion/is-prop-valid").default)}catch{}function FY(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(Z$(a)||n===!0&&Ev(a)||!t&&!Ev(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const hy=m.createContext({});function fy(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Kf(e){return typeof e=="string"||Array.isArray(e)}const kS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],AS=["initial",...kS];function my(e){return fy(e.animate)||AS.some(t=>Kf(e[t]))}function Q$(e){return!!(my(e)||e.variants)}function BY(e,t){if(my(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Kf(n)?n:void 0,animate:Kf(r)?r:void 0}}return e.inherit!==!1?t:{}}function zY(e){const{initial:t,animate:n}=BY(e,m.useContext(hy));return m.useMemo(()=>({initial:t,animate:n}),[QP(t),QP(n)])}function QP(e){return Array.isArray(e)?e.join(" "):e}const Gf={};function UY(e){for(const t in e)Gf[t]=e[t],hS(t)&&(Gf[t].isCSSVariable=!0)}function J$(e,{layout:t,layoutId:n}){return Vu.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Gf[e]||e==="opacity")}const VY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},WY=Uu.length;function qY(e,t,n){let r="",a=!0;for(let i=0;i<WY;i++){const o=Uu[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=V$(l,NS[o]);if(!c){a=!1;const u=VY[o]||o;r+=`${u}(${d}) `}n&&(t[o]=d)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function PS(e,t,n){const{style:r,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(Vu.has(c)){o=!0;continue}else if(hS(c)){a[c]=d;continue}else{const u=V$(d,NS[c]);c.startsWith("origin")?(l=!0,i[c]=u):r[c]=u}}if(t.transform||(o||n?r.transform=qY(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;r.transformOrigin=`${c} ${d} ${u}`}}const ES=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function e3(e,t,n){for(const r in t)!wr(t[r])&&!J$(r,n)&&(e[r]=t[r])}function HY({transformTemplate:e},t){return m.useMemo(()=>{const n=ES();return PS(n,t,e),Object.assign({},n.vars,n.style)},[t])}function KY(e,t){const n=e.style||{},r={};return e3(r,n,e),Object.assign(r,HY(e,t)),r}function GY(e,t){const n={},r=KY(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const YY={offset:"stroke-dashoffset",array:"stroke-dasharray"},XY={offset:"strokeDashoffset",array:"strokeDasharray"};function ZY(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?YY:XY;e[i.offset]=Ye.transform(-r);const o=Ye.transform(t),l=Ye.transform(n);e[i.array]=`${o} ${l}`}function t3(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(PS(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),a!==void 0&&ZY(h,a,i,o,!1)}const n3=()=>({...ES(),attrs:{}}),r3=e=>typeof e=="string"&&e.toLowerCase()==="svg";function QY(e,t,n,r){const a=m.useMemo(()=>{const i=n3();return t3(i,t,r3(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};e3(i,e.style,e),a.style={...i,...a.style}}return a}const JY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function TS(e){return typeof e!="string"||e.includes("-")?!1:!!(JY.indexOf(e)>-1||/[A-Z]/u.test(e))}function eX(e,t,n,{latestValues:r},a,i=!1){const l=(TS(e)?QY:GY)(t,r,a,e),c=FY(t,typeof e=="string",i),d=e!==m.Fragment?{...c,...l,ref:n}:{},{children:u}=t,h=m.useMemo(()=>wr(u)?u.get():u,[u]);return m.createElement(e,{...d,children:h})}function JP(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function OS(e,t,n,r){if(typeof t=="function"){const[a,i]=JP(r);t=t(n!==void 0?n:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=JP(r);t=t(n!==void 0?n:e.custom,a,i)}return t}function zg(e){return wr(e)?e.get():e}function tX({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:nX(n,r,a,e),renderState:t()}}function nX(e,t,n,r){const a={},i=r(e,{});for(const f in i)a[f]=zg(i[f]);let{initial:o,animate:l}=e;const c=my(e),d=Q$(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!fy(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const g=OS(e,f[p]);if(g){const{transitionEnd:v,transition:j,...y}=g;for(const x in y){let w=y[x];if(Array.isArray(w)){const b=u?w.length-1:0;w=w[b]}w!==null&&(a[x]=w)}for(const x in v)a[x]=v[x]}}}return a}const s3=e=>(t,n)=>{const r=m.useContext(hy),a=m.useContext(dy),i=()=>tX(e,t,r,a);return n?i():sS(i)};function MS(e,t,n){var i;const{style:r}=e,a={};for(const o in r)(wr(r[o])||t.style&&wr(t.style[o])||J$(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=r[o]);return a}const rX=s3({scrapeMotionValuesFromProps:MS,createRenderState:ES});function a3(e,t,n){const r=MS(e,t,n);for(const a in e)if(wr(e[a])||wr(t[a])){const i=Uu.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[i]=e[a]}return r}const sX=s3({scrapeMotionValuesFromProps:a3,createRenderState:n3}),aX=Symbol.for("motionComponentSymbol");function Ad(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function iX(e,t,n){return m.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ad(n)&&(n.current=r))},[t])}const DS=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oX="framerAppearId",i3="data-"+DS(oX),o3=m.createContext({});function lX(e,t,n,r,a){var v,j;const{visualElement:i}=m.useContext(hy),o=m.useContext(X$),l=m.useContext(dy),c=m.useContext(CS).reducedMotion,d=m.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=m.useContext(o3);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&cX(d.current,n,a,h);const f=m.useRef(!1);m.useInsertionEffect(()=>{u&&f.current&&u.update(n,l)});const p=n[i3],g=m.useRef(!!p&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,p))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,p)));return s$(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),m.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,p)}),g.current=!1),u.enteringChildren=void 0)}),u}function cX(e,t,n,r){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:l3(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Ad(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:d})}function l3(e){if(e)return e.options.allowProjection!==!1?e.projection:l3(e.parent)}function qj(e,{forwardMotionProps:t=!1}={},n,r){n&&IY(n);const a=TS(e)?sX:rX;function i(l,c){let d;const u={...m.useContext(CS),...l,layoutId:dX(l)},{isStatic:h}=u,f=zY(l),p=a(l,h);if(!h&&aS){uX();const g=hX(u);d=g.MeasureLayout,f.visualElement=lX(e,p,u,r,g.ProjectionNode)}return s.jsxs(hy.Provider,{value:f,children:[d&&f.visualElement?s.jsx(d,{visualElement:f.visualElement,...u}):null,eX(e,l,iX(p,f.visualElement,c),p,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=m.forwardRef(i);return o[aX]=e,o}function dX({layoutId:e}){const t=m.useContext(rS).id;return t&&e!==void 0?t+"-"+e:e}function uX(e,t){m.useContext(X$).strict}function hX(e){const{drag:t,layout:n}=hu;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function fX(e,t){if(typeof Proxy>"u")return qj;const n=new Map,r=(i,o)=>qj(i,o,e,t),a=(i,o)=>r(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,qj(o,void 0,e,t)),n.get(o))})}function c3({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function mX({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function pX(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Hj(e){return e===void 0||e===1}function f1({scale:e,scaleX:t,scaleY:n}){return!Hj(e)||!Hj(t)||!Hj(n)}function Vl(e){return f1(e)||d3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function d3(e){return eE(e.x)||eE(e.y)}function eE(e){return e&&e!=="0%"}function Tv(e,t,n){const r=e-n,a=t*r;return n+a}function tE(e,t,n,r,a){return a!==void 0&&(e=Tv(e,a,r)),Tv(e,n,r)+t}function m1(e,t=0,n=1,r,a){e.min=tE(e.min,t,n,r,a),e.max=tE(e.max,t,n,r,a)}function u3(e,{x:t,y:n}){m1(e.x,t.translate,t.scale,t.originPoint),m1(e.y,n.translate,n.scale,n.originPoint)}const nE=.999999999999,rE=1.0000000000001;function gX(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ed(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,u3(e,o)),r&&Vl(i.latestValues)&&Ed(e,i.latestValues))}t.x<rE&&t.x>nE&&(t.x=1),t.y<rE&&t.y>nE&&(t.y=1)}function Pd(e,t){e.min=e.min+t,e.max=e.max+t}function sE(e,t,n,r,a=.5){const i=Jt(e.min,e.max,a);m1(e,t,n,i,r)}function Ed(e,t){sE(e.x,t.x,t.scaleX,t.scale,t.originX),sE(e.y,t.y,t.scaleY,t.scale,t.originY)}function h3(e,t){return c3(pX(e.getBoundingClientRect(),t))}function vX(e,t,n){const r=h3(e,n),{scroll:a}=t;return a&&(Pd(r.x,a.offset.x),Pd(r.y,a.offset.y)),r}const aE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Td=()=>({x:aE(),y:aE()}),iE=()=>({min:0,max:0}),yn=()=>({x:iE(),y:iE()}),p1={current:null},f3={current:!1};function xX(){if(f3.current=!0,!!aS)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>p1.current=e.matches;e.addEventListener("change",t),t()}else p1.current=!1}const yX=new WeakMap;function jX(e,t,n){for(const r in t){const a=t[r],i=n[r];if(wr(a))e.addValue(r,a);else if(wr(i))e.addValue(r,uu(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(r);e.addValue(r,uu(o!==void 0?o:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const oE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wX{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Zr.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Gt.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=my(n),this.isVariantNode=Q$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];c[f]!==void 0&&wr(p)&&p.set(c[f])}}mount(t){var n;this.current=t,yX.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),f3.current||xX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:p1.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ol(this.notifyUpdate),ol(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Vu.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in hu){const n=hu[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<oE.length;r++){const a=oE[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=jX(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=uu(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(a$(r)||o$(r))?r=parseFloat(r):!PY(r)&&ll.test(n)&&(r=U$(t,n)),this.setBaseTarget(t,wr(r)?r.get():r)),wr(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=OS(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!wr(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new cS),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){_S.render(this.render)}}class m3 extends wX{constructor(){super(...arguments),this.KeyframeResolver=vY}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function p3(e,{style:t,vars:n},r,a){const i=e.style;let o;for(o in t)i[o]=t[o];a==null||a.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function bX(e){return window.getComputedStyle(e)}class NX extends m3{constructor(){super(...arguments),this.type="html",this.renderInstance=p3}readValueFromInstance(t,n){var r;if(Vu.has(n))return(r=this.projection)!=null&&r.isProjecting?i1(n):IG(t,n);{const a=bX(t),i=(hS(n)?a.getPropertyValue(n):a[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return h3(t,n)}build(t,n,r){PS(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return MS(t,n,r)}}const g3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _X(e,t,n,r){p3(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(g3.has(a)?a:DS(a),t.attrs[a])}class SX extends m3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Vu.has(n)){const r=z$(n);return r&&r.default||0}return n=g3.has(n)?n:DS(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return a3(t,n,r)}build(t,n,r){t3(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){_X(t,n,r,a)}mount(t){this.isSVGTag=r3(t.tagName),super.mount(t)}}const CX=(e,t)=>TS(e)?new SX(t):new NX(t,{allowProjection:e!==m.Fragment});function Fd(e,t,n){const r=e.getProps();return OS(r,t,n!==void 0?n:r.custom,e)}const g1=e=>Array.isArray(e);function kX(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,uu(n))}function AX(e){return g1(e)?e[e.length-1]||0:e}function PX(e,t){const n=Fd(e,t);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const o in i){const l=AX(i[o]);kX(e,o,l)}}function EX(e){return!!(wr(e)&&e.add)}function v1(e,t){const n=e.getValue("willChange");if(EX(n))return n.add(t);if(!n&&Wi.WillChange){const r=new Wi.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function v3(e){return e.props[i3]}const TX=e=>e!==null;function OX(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(TX),i=t&&n!=="loop"&&t%2===1?0:a.length-1;return!i||r===void 0?a[i]:r}const MX={type:"spring",stiffness:500,damping:25,restSpeed:10},DX=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),RX={type:"keyframes",duration:.8},IX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$X=(e,{keyframes:t})=>t.length>2?RX:Vu.has(e)?e.startsWith("scale")?DX(t[1]):MX:IX;function LX({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const RS=(e,t,n,r={},a,i)=>o=>{const l=bS(r,e)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-si(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};LX(l)||Object.assign(u,$X(e,u)),u.duration&&(u.duration=si(u.duration)),u.repeatDelay&&(u.repeatDelay=si(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u1(u),u.delay===0&&(h=!0)),(Wi.instantAnimations||Wi.skipAnimations)&&(h=!0,u1(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const f=OX(u.keyframes,l);if(f!==void 0){Gt.update(()=>{u.onUpdate(f),u.onComplete()});return}}return l.isSync?new jS(u):new aY(u)};function FX({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function x3(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(i=r);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const u in l){const h=e.getValue(u,e.latestValues[u]??null),f=l[u];if(f===void 0||d&&FX(d,u))continue;const p={delay:n,...bS(i||{},u)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===g&&!p.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const y=v3(e);if(y){const x=window.MotionHandoffAnimation(y,u,Gt);x!==null&&(p.startTime=x,v=!0)}}v1(e,u),h.start(RS(u,h,f,e.shouldReduceMotion&&L$.has(u)?{type:!1}:p,e,v));const j=h.animation;j&&c.push(j)}return o&&Promise.all(c).then(()=>{Gt.update(()=>{o&&PX(e,o)})}),c}function y3(e,t,n,r=0,a=1){const i=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(i,o):a===1?i*r:l-i*r}function x1(e,t,n={}){var c;const r=Fd(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(x3(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=a;return BX(e,t,d,u,h,f,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function BX(e,t,n=0,r=0,a=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(x1(c,t,{...o,delay:n+(typeof r=="function"?0:r)+y3(e.variantChildren,c,r,a,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function zX(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>x1(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=x1(e,t,n);else{const a=typeof t=="function"?Fd(e,t,n.custom):t;r=Promise.all(x3(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function j3(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const UX=AS.length;function w3(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?w3(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<UX;n++){const r=AS[n],a=e.props[r];(Kf(a)||a===!1)&&(t[r]=a)}return t}const VX=[...kS].reverse(),WX=kS.length;function qX(e){return t=>Promise.all(t.map(({animation:n,options:r})=>zX(e,n,r)))}function HX(e){let t=qX(e),n=lE(),r=!0;const a=c=>(d,u)=>{var f;const h=Fd(e,u,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:g,...v}=h;d={...d,...v,...g}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=w3(e.parent)||{},h=[],f=new Set;let p={},g=1/0;for(let j=0;j<WX;j++){const y=VX[j],x=n[y],w=d[y]!==void 0?d[y]:u[y],b=Kf(w),S=y===c?x.isActive:null;S===!1&&(g=j);let _=w===u[y]&&w!==d[y]&&b;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),x.protectedKeys={...p},!x.isActive&&S===null||!w&&!x.prevProp||fy(w)||typeof w=="boolean")continue;const N=KX(x.prevProp,w);let C=N||y===c&&x.isActive&&!_&&b||j>g&&b,k=!1;const A=Array.isArray(w)?w:[w];let O=A.reduce(a(y),{});S===!1&&(O={});const{prevResolvedValues:M={}}=x,z={...M,...O},P=R=>{C=!0,f.has(R)&&(k=!0,f.delete(R)),x.needsAnimating[R]=!0;const B=e.getValue(R);B&&(B.liveStyle=!1)};for(const R in z){const B=O[R],L=M[R];if(p.hasOwnProperty(R))continue;let Q=!1;g1(B)&&g1(L)?Q=!j3(B,L):Q=B!==L,Q?B!=null?P(R):f.add(R):B!==void 0&&f.has(R)?P(R):x.protectedKeys[R]=!0}x.prevProp=w,x.prevResolvedValues=O,x.isActive&&(p={...p,...O}),r&&e.blockInitialAnimation&&(C=!1);const E=_&&N;C&&(!E||k)&&h.push(...A.map(R=>{const B={type:y};if(typeof R=="string"&&r&&!E&&e.manuallyAnimateOnMount&&e.parent){const{parent:L}=e,Q=Fd(L,R);if(L.enteringChildren&&Q){const{delayChildren:se}=Q.transition||{};B.delay=y3(L.enteringChildren,e,se)}}return{animation:R,options:B}}))}if(f.size){const j={};if(typeof d.initial!="boolean"){const y=Fd(e,Array.isArray(d.initial)?d.initial[0]:d.initial);y&&y.transition&&(j.transition=y.transition)}f.forEach(y=>{const x=e.getBaseTarget(y),w=e.getValue(y);w&&(w.liveStyle=!0),j[y]=x??null}),h.push({animation:j})}let v=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(h):Promise.resolve()}function l(c,d){var h;if(n[c].isActive===d)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(c,d)}),n[c].isActive=d;const u=o(c);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=lE(),r=!0}}}function KX(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!j3(t,e):!1}function $l(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lE(){return{animate:$l(!0),whileInView:$l(),whileHover:$l(),whileTap:$l(),whileDrag:$l(),whileFocus:$l(),exit:$l()}}class Sl{constructor(t){this.isMounted=!1,this.node=t}update(){}}class GX extends Sl{constructor(t){super(t),t.animationState||(t.animationState=HX(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();fy(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let YX=0;class XX extends Sl{constructor(){super(...arguments),this.id=YX++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ZX={animation:{Feature:GX},exit:{Feature:XX}};function Yf(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function $m(e){return{point:{x:e.pageX,y:e.pageY}}}const QX=e=>t=>SS(t)&&e(t,$m(t));function mf(e,t,n,r){return Yf(e,t,QX(n),r)}const b3=1e-4,JX=1-b3,eZ=1+b3,N3=.01,tZ=0-N3,nZ=0+N3;function Mr(e){return e.max-e.min}function rZ(e,t,n){return Math.abs(e-t)<=n}function cE(e,t,n,r=.5){e.origin=r,e.originPoint=Jt(t.min,t.max,e.origin),e.scale=Mr(n)/Mr(t),e.translate=Jt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=JX&&e.scale<=eZ||isNaN(e.scale))&&(e.scale=1),(e.translate>=tZ&&e.translate<=nZ||isNaN(e.translate))&&(e.translate=0)}function pf(e,t,n,r){cE(e.x,t.x,n.x,r?r.originX:void 0),cE(e.y,t.y,n.y,r?r.originY:void 0)}function dE(e,t,n){e.min=n.min+t.min,e.max=e.min+Mr(t)}function sZ(e,t,n){dE(e.x,t.x,n.x),dE(e.y,t.y,n.y)}function uE(e,t,n){e.min=t.min-n.min,e.max=e.min+Mr(t)}function gf(e,t,n){uE(e.x,t.x,n.x),uE(e.y,t.y,n.y)}function Bs(e){return[e("x"),e("y")]}const _3=({current:e})=>e?e.ownerDocument.defaultView:null,hE=(e,t)=>Math.abs(e-t);function aZ(e,t){const n=hE(e.x,t.x),r=hE(e.y,t.y);return Math.sqrt(n**2+r**2)}class S3{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Gj(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=aZ(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:v}=f,{timestamp:j}=tr;this.history.push({...v,timestamp:j});const{onStart:y,onMove:x}=this.handlers;p||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Kj(p,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Gj(f.type==="pointercancel"?this.lastMoveEventInfo:Kj(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,y),v&&v(f,y)},!SS(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=a||window;const l=$m(t),c=Kj(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=tr;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=n;h&&h(t,Gj(c,this.history)),this.removeListeners=Dm(mf(this.contextWindow,"pointermove",this.handlePointerMove),mf(this.contextWindow,"pointerup",this.handlePointerUp),mf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ol(this.updatePoint)}}function Kj(e,t){return t?{point:t(e.point)}:e}function fE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Gj({point:e},t){return{point:e,delta:fE(e,C3(t)),offset:fE(e,iZ(t)),velocity:oZ(t,.1)}}function iZ(e){return e[0]}function C3(e){return e[e.length-1]}function oZ(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=C3(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>si(t)));)n--;if(!r)return{x:0,y:0};const i=Hs(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function lZ(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Jt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Jt(n,e,r.max):Math.min(e,n)),e}function mE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function cZ(e,{top:t,left:n,bottom:r,right:a}){return{x:mE(e.x,n,a),y:mE(e.y,t,r)}}function pE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function dZ(e,t){return{x:pE(e.x,t.x),y:pE(e.y,t.y)}}function uZ(e,t){let n=.5;const r=Mr(e),a=Mr(t);return a>r?n=Wf(t.min,t.max-r,e.min):r>a&&(n=Wf(e.min,e.max-a,t.min)),Vi(0,1,n)}function hZ(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const y1=.35;function fZ(e=y1){return e===!1?e=0:e===!0&&(e=y1),{x:gE(e,"left","right"),y:gE(e,"top","bottom")}}function gE(e,t,n){return{min:vE(e,t),max:vE(e,n)}}function vE(e,t){return typeof e=="number"?e:e[t]||0}const mZ=new WeakMap;class pZ{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($m(h).point)},o=(h,f)=>{const{drag:p,dragPropagation:g,onDragStart:v}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wY(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bs(y=>{let x=this.getAxisMotionValue(y).get()||0;if(ai.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[y];b&&(x=Mr(b)*(parseFloat(x)/100))}}this.originPoint[y]=x}),v&&Gt.postRender(()=>v(h,f)),v1(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:v,onDrag:j}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:y}=f;if(g&&this.currentDirection===null){this.currentDirection=gZ(y),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),j&&j(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Bs(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new S3(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:_3(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!r)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Gt.postRender(()=>l(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Zp(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=lZ(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&Ad(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=cZ(r.layoutBox,t):this.constraints=!1,this.elastic=fZ(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Bs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=hZ(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ad(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=vX(r,a.root,this.visualElement.getTransformPagePoint());let o=dZ(a.layout.layoutBox,i);if(n){const l=n(mX(o));this.hasMutatedConstraints=!!l,l&&(o=c3(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Bs(u=>{if(!Zp(u,n,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=a?200:1e6,p=a?40:1e7,g={type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return v1(this.visualElement,t),r.start(RS(t,r,0,n,this.visualElement,!1))}stopAnimation(){Bs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Bs(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Bs(n=>{const{drag:r}=this.getProps();if(!Zp(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[n];i.set(t[n]-Jt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ad(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Bs(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=uZ({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bs(o=>{if(!Zp(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Jt(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;mZ.set(this.visualElement,this);const t=this.visualElement.current,n=mf(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ad(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Gt.read(r);const o=Yf(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Bs(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=y1,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Zp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function gZ(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class vZ extends Sl{constructor(t){super(t),this.removeGroupControls=Ys,this.removeListeners=Ys,this.controls=new pZ(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ys}unmount(){this.removeGroupControls(),this.removeListeners()}}const xE=e=>(t,n)=>{e&&Gt.postRender(()=>e(t,n))};class xZ extends Sl{constructor(){super(...arguments),this.removePointerDownListener=Ys}onPointerDown(t){this.session=new S3(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_3(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:xE(t),onStart:xE(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&Gt.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=mf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ug={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const kh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ye.test(e))e=parseFloat(e);else return e;const n=yE(e,t.target.x),r=yE(e,t.target.y);return`${n}% ${r}%`}},yZ={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=ll.parse(e);if(a.length>5)return r;const i=ll.createTransformer(e),o=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=Jt(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};let Yj=!1;class jZ extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;UY(wZ),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),Yj&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ug.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Yj=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Gt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),_S.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;Yj=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function k3(e){const[t,n]=Y$(),r=m.useContext(rS);return s.jsx(jZ,{...e,layoutGroup:r,switchLayoutGroup:m.useContext(o3),isPresent:t,safeToRemove:n})}const wZ={borderRadius:{...kh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kh,borderTopRightRadius:kh,borderBottomLeftRadius:kh,borderBottomRightRadius:kh,boxShadow:yZ};function bZ(e,t,n){const r=wr(e)?e:uu(e);return r.start(RS("",r,t,n)),r.animation}const NZ=(e,t)=>e.depth-t.depth;class _Z{constructor(){this.children=[],this.isDirty=!1}add(t){iS(this.children,t),this.isDirty=!0}remove(t){oS(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(NZ),this.isDirty=!1,this.children.forEach(t)}}function SZ(e,t){const n=Zr.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(ol(r),e(i-t))};return Gt.setup(r,!0),()=>ol(r)}const A3=["TopLeft","TopRight","BottomLeft","BottomRight"],CZ=A3.length,jE=e=>typeof e=="string"?parseFloat(e):e,wE=e=>typeof e=="number"||Ye.test(e);function kZ(e,t,n,r,a,i){a?(e.opacity=Jt(0,n.opacity??1,AZ(r)),e.opacityExit=Jt(t.opacity??1,0,PZ(r))):i&&(e.opacity=Jt(t.opacity??1,n.opacity??1,r));for(let o=0;o<CZ;o++){const l=`border${A3[o]}Radius`;let c=bE(t,l),d=bE(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||wE(c)===wE(d)?(e[l]=Math.max(Jt(jE(c),jE(d),r),0),(ai.test(d)||ai.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=Jt(t.rotate||0,n.rotate||0,r))}function bE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const AZ=P3(0,.5,p$),PZ=P3(.5,.95,Ys);function P3(e,t,n){return r=>r<e?0:r>t?1:n(Wf(e,t,r))}function NE(e,t){e.min=t.min,e.max=t.max}function Ds(e,t){NE(e.x,t.x),NE(e.y,t.y)}function _E(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function SE(e,t,n,r,a){return e-=t,e=Tv(e,1/n,r),a!==void 0&&(e=Tv(e,1/a,r)),e}function EZ(e,t=0,n=1,r=.5,a,i=e,o=e){if(ai.test(t)&&(t=parseFloat(t),t=Jt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Jt(i.min,i.max,r);e===i&&(l-=t),e.min=SE(e.min,t,n,l,a),e.max=SE(e.max,t,n,l,a)}function CE(e,t,[n,r,a],i,o){EZ(e,t[n],t[r],t[a],t.scale,i,o)}const TZ=["x","scaleX","originX"],OZ=["y","scaleY","originY"];function kE(e,t,n,r){CE(e.x,t,TZ,n?n.x:void 0,r?r.x:void 0),CE(e.y,t,OZ,n?n.y:void 0,r?r.y:void 0)}function AE(e){return e.translate===0&&e.scale===1}function E3(e){return AE(e.x)&&AE(e.y)}function PE(e,t){return e.min===t.min&&e.max===t.max}function MZ(e,t){return PE(e.x,t.x)&&PE(e.y,t.y)}function EE(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function T3(e,t){return EE(e.x,t.x)&&EE(e.y,t.y)}function TE(e){return Mr(e.x)/Mr(e.y)}function OE(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class DZ{constructor(){this.members=[]}add(t){iS(this.members,t),t.scheduleRender()}remove(t){if(oS(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function RZ(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((a||i||o)&&(r=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:p,skewY:g}=n;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Xj=["","X","Y","Z"],IZ=1e3;let $Z=0;function Zj(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function O3(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=v3(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Gt,!(a||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&O3(r)}function M3({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=$Z++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(BZ),this.nodes.forEach(WZ),this.nodes.forEach(qZ),this.nodes.forEach(zZ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new _Z)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new cS),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=G$(o)&&!kY(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,h=0;const f=()=>this.root.updateBlockedByResize=!1;Gt.read(()=>{h=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,u&&u(),u=SZ(f,250),Ug.hasAnimatedSinceResize&&(Ug.hasAnimatedSinceResize=!1,this.nodes.forEach(RE)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||XZ,{onLayoutAnimationStart:v,onLayoutAnimationComplete:j}=d.getProps(),y=!this.targetLayout||!T3(this.targetLayout,p),x=!h&&f;if(this.options.layoutRoot||this.resumeFrom||x||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...bS(g,"layout"),onPlay:v,onComplete:j};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,x)}else h||RE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ol(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HZ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&O3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ME);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(DE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(VZ),this.nodes.forEach(LZ),this.nodes.forEach(FZ)):this.nodes.forEach(DE),this.clearAllSnapshots();const l=Zr.now();tr.delta=Vi(0,1e3/60,l-tr.timestamp),tr.timestamp=l,tr.isProcessing=!0,Fj.update.process(tr),Fj.preRender.process(tr),Fj.render.process(tr),tr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_S.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UZ),this.sharedNodes.forEach(KZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mr(this.snapshot.measuredBox.x)&&!Mr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!E3(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Vl(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),ZZ(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return yn();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(QZ))){const{scroll:u}=this.root;u&&(Pd(l.x,u.offset.x),Pd(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=yn();if(Ds(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Ds(l,o),Pd(l.x,h.offset.x),Pd(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=yn();Ds(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ed(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Vl(u.latestValues)&&Ed(c,u.latestValues)}return Vl(this.latestValues)&&Ed(c,this.latestValues),c}removeTransform(o){const l=yn();Ds(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Vl(d.latestValues))continue;f1(d.latestValues)&&d.updateSnapshot();const u=yn(),h=d.measurePageBox();Ds(u,h),kE(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Vl(this.latestValues)&&kE(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=tr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),gf(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ds(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yn(),this.targetWithTransforms=yn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sZ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ds(this.target,this.layout.layoutBox),u3(this.target,this.targetDelta)):Ds(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),gf(this.relativeTargetOrigin,this.target,p.target),Ds(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||f1(this.parent.latestValues)||d3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===tr.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Ds(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;gX(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=yn());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_E(this.prevProjectionDelta.x,this.projectionDelta.x),_E(this.prevProjectionDelta.y,this.projectionDelta.y)),pf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!OE(this.projectionDelta.x,this.prevProjectionDelta.x)||!OE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Td(),this.projectionDelta=Td(),this.projectionDeltaWithTransform=Td()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Td();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=yn(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,v=p!==g,j=this.getStack(),y=!j||j.members.length<=1,x=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(YZ));this.animationProgress=0;let w;this.mixTargetDelta=b=>{const S=b/1e3;IE(h.x,o.x,S),IE(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gf(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GZ(this.relativeTarget,this.relativeTargetOrigin,f,S),w&&MZ(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=yn()),Ds(w,this.relativeTarget)),v&&(this.animationValues=u,kZ(u,d,this.latestValues,S,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(ol(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{Ug.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=uu(0)),this.currentAnimation=bZ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(IZ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&D3(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||yn();const h=Mr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Mr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Ds(l,c),Ed(l,u),pf(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new DZ),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Zj("z",o,d,this.animationValues);for(let u=0;u<Xj.length;u++)Zj(`rotate${Xj[u]}`,o,d,this.animationValues),Zj(`skew${Xj[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=zg(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=zg(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Vl(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=RZ(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:f,y:p}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in Gf){if(u[g]===void 0)continue;const{correct:v,applyTo:j,isCSSVariable:y}=Gf[g],x=h==="none"?u[g]:v(u[g],d);if(j){const w=j.length;for(let b=0;b<w;b++)o[j[b]]=x}else y?this.options.visualElement.renderState.vars[g]=x:o[g]=x}this.options.layoutId&&(o.pointerEvents=d===this?zg(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(ME),this.root.sharedNodes.clear()}}}function LZ(e){e.updateLayout()}function FZ(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Bs(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],p=Mr(f);f.min=r[h].min,f.max=f.min+p}):D3(i,t.layoutBox,r)&&Bs(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],p=Mr(r[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=Td();pf(l,r,t.layoutBox);const c=Td();o?pf(c,e.applyTransform(a,!0),t.measuredBox):pf(c,r,t.layoutBox);const d=!E3(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const g=yn();gf(g,t.layoutBox,f.layoutBox);const v=yn();gf(v,r,p.layoutBox),T3(g,v)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function BZ(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function zZ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function UZ(e){e.clearSnapshot()}function ME(e){e.clearMeasurements()}function DE(e){e.isLayoutDirty=!1}function VZ(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function RE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function WZ(e){e.resolveTargetDelta()}function qZ(e){e.calcProjection()}function HZ(e){e.resetSkewAndRotation()}function KZ(e){e.removeLeadSnapshot()}function IE(e,t,n){e.translate=Jt(t.translate,0,n),e.scale=Jt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function $E(e,t,n,r){e.min=Jt(t.min,n.min,r),e.max=Jt(t.max,n.max,r)}function GZ(e,t,n,r){$E(e.x,t.x,n.x,r),$E(e.y,t.y,n.y,r)}function YZ(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const XZ={duration:.45,ease:[.4,0,.1,1]},LE=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),FE=LE("applewebkit/")&&!LE("chrome/")?Math.round:Ys;function BE(e){e.min=FE(e.min),e.max=FE(e.max)}function ZZ(e){BE(e.x),BE(e.y)}function D3(e,t,n){return e==="position"||e==="preserve-aspect"&&!rZ(TE(t),TE(n),.2)}function QZ(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const JZ=M3({attachResizeListener:(e,t)=>Yf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qj={current:void 0},R3=M3({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Qj.current){const e=new JZ({});e.mount(window),e.setOptions({layoutScroll:!0}),Qj.current=e}return Qj.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),eQ={pan:{Feature:xZ},drag:{Feature:vZ,ProjectionNode:R3,MeasureLayout:k3}};function zE(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,i=r[a];i&&Gt.postRender(()=>i(t,$m(t)))}class tQ extends Sl{mount(){const{current:t}=this.node;t&&(this.unmount=bY(t,(n,r)=>(zE(this.node,r,"Start"),a=>zE(this.node,a,"End"))))}unmount(){}}class nQ extends Sl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dm(Yf(this.node.current,"focus",()=>this.onFocus()),Yf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function UE(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),i=r[a];i&&Gt.postRender(()=>i(t,$m(t)))}class rQ extends Sl{mount(){const{current:t}=this.node;t&&(this.unmount=CY(t,(n,r)=>(UE(this.node,r,"Start"),(a,{success:i})=>UE(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const j1=new WeakMap,Jj=new WeakMap,sQ=e=>{const t=j1.get(e.target);t&&t(e)},aQ=e=>{e.forEach(sQ)};function iQ({root:e,...t}){const n=e||document;Jj.has(n)||Jj.set(n,{});const r=Jj.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(aQ,{root:e,...t})),r[a]}function oQ(e,t,n){const r=iQ(t);return j1.set(e,n),r.observe(e),()=>{j1.delete(e),r.unobserve(e)}}const lQ={some:0,all:1};class cQ extends Sl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:lQ[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return oQ(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(dQ(t,n))&&this.startObserver()}unmount(){}}function dQ({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const uQ={inView:{Feature:cQ},tap:{Feature:rQ},focus:{Feature:nQ},hover:{Feature:tQ}},hQ={layout:{ProjectionNode:R3,MeasureLayout:k3}},fQ={...ZX,...uQ,...eQ,...hQ},Tt=fX(fQ,CX);function Pt({size:e="medium",text:t=!1,className:n,showText:r,fullScreen:a=!1}){const i=r!==void 0?r:t,l={small:{logo:"text-4xl",container:"h-16 w-16",blur:"blur-xl",text:"text-sm"},medium:{logo:"text-6xl",container:"h-24 w-24",blur:"blur-2xl",text:"text-base"},large:{logo:"text-8xl",container:"h-32 w-32",blur:"blur-3xl",text:"text-lg"}}[e];return a?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:s.jsx("div",{className:`flex flex-col items-center justify-center space-y-3 ${n||""}`,children:s.jsx(VE,{currentSize:l,shouldShowText:i})})}):s.jsx("div",{className:`flex flex-col items-center justify-center space-y-3 ${n||""}`,children:s.jsx(VE,{currentSize:l,shouldShowText:i})})}function VE({currentSize:e,shouldShowText:t}){return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative",children:[s.jsx(Tt.div,{className:`absolute inset-0 bg-gradient-to-r from-primary/40 via-primary/60 to-primary/40 ${e.blur} rounded-full`,animate:{scale:[1,1.2,1],opacity:[.3,.6,.3],rotate:[0,360]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),s.jsx(Tt.div,{className:`absolute inset-0 bg-gradient-to-r from-accent/30 via-primary/50 to-accent/30 ${e.blur} rounded-full`,animate:{scale:[1.2,1,1.2],opacity:[.2,.4,.2],rotate:[360,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),s.jsxs(Tt.div,{className:`relative ${e.container} flex items-center justify-center`,animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[s.jsx(Tt.div,{className:`${e.logo} font-bold text-primary relative z-10`,style:{textShadow:"0 0 30px rgba(var(--primary-rgb), 0.5)",fontFamily:"system-ui, -apple-system, sans-serif"},animate:{scale:[1,1.1,1],opacity:[.8,1,.8]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:"t"}),[0,120,240].map((n,r)=>s.jsx(Tt.div,{className:"absolute inset-0",animate:{rotate:[n,n+360]},transition:{duration:3,repeat:1/0,ease:"linear",delay:r*.2},children:s.jsx(Tt.div,{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1.5 h-1.5 bg-primary rounded-full",style:{boxShadow:"0 0 10px rgba(var(--primary-rgb), 0.8)"},animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut",delay:r*.3}})},r))]}),[0,1,2].map(n=>s.jsx(Tt.div,{className:"absolute inset-0 border-2 border-primary/20 rounded-full",initial:{scale:1,opacity:0},animate:{scale:[1,1.5,2],opacity:[0,.3,0]},transition:{duration:2,repeat:1/0,delay:n*.5,ease:"easeOut"}},`ring-${n}`))]}),t&&s.jsxs(Tt.div,{className:`${e.text} font-medium text-muted-foreground flex items-center space-x-1`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[s.jsx("span",{children:"Loading"}),s.jsx(Tt.div,{className:"flex space-x-0.5",children:[0,.2,.4].map((n,r)=>s.jsx(Tt.span,{animate:{opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,delay:n,ease:"easeInOut"},children:"."},r))})]})]})}const mQ=1,pQ=1e6;let ew=0;function gQ(){return ew=(ew+1)%Number.MAX_SAFE_INTEGER,ew.toString()}const tw=new Map,WE=e=>{if(tw.has(e))return;const t=setTimeout(()=>{tw.delete(e),vf({type:"REMOVE_TOAST",toastId:e})},pQ);tw.set(e,t)},vQ=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,mQ)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?WE(n):e.toasts.forEach(r=>{WE(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Vg=[];let Wg={toasts:[]};function vf(e){Wg=vQ(Wg,e),Vg.forEach(t=>{t(Wg)})}function ae({...e}){const t=gQ(),n=a=>vf({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>vf({type:"DISMISS_TOAST",toastId:t});return vf({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),setTimeout(()=>{r()},3e3),{id:t,dismiss:r,update:n}}function ro(){const[e,t]=m.useState(Wg);return m.useEffect(()=>(Vg.push(t),()=>{const n=Vg.indexOf(t);n>-1&&Vg.splice(n,1)}),[e]),{...e,toast:ae,dismiss:n=>vf({type:"DISMISS_TOAST",toastId:n})}}function ge(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function qE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function qi(...e){return t=>{let n=!1;const r=e.map(a=>{const i=qE(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():qE(e[a],null)}}}}function Ze(...e){return m.useCallback(qi(...e),e)}function xQ(e,t){const n=m.createContext(t),r=i=>{const{children:o,...l}=i,c=m.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(i){const o=m.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function Ln(e,t=[]){let n=[];function r(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];const d=h=>{var y;const{scope:f,children:p,...g}=h,v=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,j=m.useMemo(()=>g,Object.values(g));return s.jsx(v.Provider,{value:j,children:p})};d.displayName=i+"Provider";function u(h,f){var v;const p=((v=f==null?void 0:f[e])==null?void 0:v[c])||l,g=m.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,yQ(a,...t)]}function yQ(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function cl(e){const t=wQ(e),n=m.forwardRef((r,a)=>{const{children:i,...o}=r,l=m.Children.toArray(i),c=l.find(bQ);if(c){const d=c.props.children,u=l.map(h=>h===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:h);return s.jsx(t,{...o,ref:a,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var jQ=cl("Slot");function wQ(e){const t=m.forwardRef((n,r)=>{const{children:a,...i}=n;if(m.isValidElement(a)){const o=_Q(a),l=NQ(i,a.props);return a.type!==m.Fragment&&(l.ref=r?qi(r,o):o),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var I3=Symbol("radix.slottable");function $3(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=I3,t}function bQ(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===I3}function NQ(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function _Q(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function py(e){const t=e+"CollectionProvider",[n,r]=Ln(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:j,children:y}=v,x=je.useRef(null),w=je.useRef(new Map).current;return s.jsx(a,{scope:j,itemMap:w,collectionRef:x,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=cl(l),d=je.forwardRef((v,j)=>{const{scope:y,children:x}=v,w=i(l,y),b=Ze(j,w.collectionRef);return s.jsx(c,{ref:b,children:x})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",f=cl(u),p=je.forwardRef((v,j)=>{const{scope:y,children:x,...w}=v,b=je.useRef(null),S=Ze(j,b),_=i(u,y);return je.useEffect(()=>(_.itemMap.set(b,{ref:b,...w}),()=>void _.itemMap.delete(b))),s.jsx(f,{[h]:"",ref:S,children:x})});p.displayName=u;function g(v){const j=i(e+"CollectionConsumer",v);return je.useCallback(()=>{const x=j.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(j.itemMap.values()).sort((_,N)=>w.indexOf(_.ref.current)-w.indexOf(N.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},g,r]}var SQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ce=SQ.reduce((e,t)=>{const n=cl(`Primitive.${t}`),r=m.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function IS(e,t){e&&no.flushSync(()=>e.dispatchEvent(t))}function hn(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function CQ(e,t=globalThis==null?void 0:globalThis.document){const n=hn(e);m.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var kQ="DismissableLayer",w1="dismissableLayer.update",AQ="dismissableLayer.pointerDownOutside",PQ="dismissableLayer.focusOutside",HE,L3=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vc=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=m.useContext(L3),[u,h]=m.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),g=Ze(t,N=>h(N)),v=Array.from(d.layers),[j]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(j),x=u?v.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,b=x>=y,S=TQ(N=>{const C=N.target,k=[...d.branches].some(A=>A.contains(C));!b||k||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},f),_=OQ(N=>{const C=N.target;[...d.branches].some(A=>A.contains(C))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},f);return CQ(N=>{x===d.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},f),m.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(HE=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),KE(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=HE)}},[u,f,n,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),KE())},[u,d]),m.useEffect(()=>{const N=()=>p({});return document.addEventListener(w1,N),()=>document.removeEventListener(w1,N)},[]),s.jsx(Ce.div,{...c,ref:g,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:ge(e.onFocusCapture,_.onFocusCapture),onBlurCapture:ge(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:ge(e.onPointerDownCapture,S.onPointerDownCapture)})});Vc.displayName=kQ;var EQ="DismissableLayerBranch",F3=m.forwardRef((e,t)=>{const n=m.useContext(L3),r=m.useRef(null),a=Ze(t,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(Ce.div,{...e,ref:a})});F3.displayName=EQ;function TQ(e,t=globalThis==null?void 0:globalThis.document){const n=hn(e),r=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){B3(AQ,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function OQ(e,t=globalThis==null?void 0:globalThis.document){const n=hn(e),r=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!r.current&&B3(PQ,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function KE(){const e=new CustomEvent(w1);document.dispatchEvent(e)}function B3(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?IS(a,i):a.dispatchEvent(i)}var MQ=Vc,DQ=F3,Nn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},RQ="Portal",Wu=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,i]=m.useState(!1);Nn(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?n$.createPortal(s.jsx(Ce.div,{...r,ref:t}),o):null});Wu.displayName=RQ;function IQ(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Fn=e=>{const{present:t,children:n}=e,r=$Q(t),a=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Ze(r.ref,LQ(a));return typeof n=="function"||r.isPresent?m.cloneElement(a,{ref:i}):null};Fn.displayName="Presence";function $Q(e){const[t,n]=m.useState(),r=m.useRef(null),a=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=IQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=Qp(r.current);i.current=l==="mounted"?d:"none"},[l]),Nn(()=>{const d=r.current,u=a.current;if(u!==e){const f=i.current,p=Qp(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Nn(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=p=>{const v=Qp(r.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!a.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},f=p=>{p.target===t&&(i.current=Qp(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Qp(e){return(e==null?void 0:e.animationName)||"none"}function LQ(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var FQ=Gx[" useInsertionEffect ".trim().toString()]||Nn;function Ca({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=BQ({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const u=m.useRef(e!==void 0);m.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,r])}const d=m.useCallback(u=>{var h;if(l){const f=zQ(u)?u(e):u;f!==e&&((h=o.current)==null||h.call(o,f))}else i(u)},[l,e,i,o]);return[c,d]}function BQ({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),a=m.useRef(n),i=m.useRef(t);return FQ(()=>{i.current=t},[t]),m.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,r,i]}function zQ(e){return typeof e=="function"}var z3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),UQ="VisuallyHidden",gy=m.forwardRef((e,t)=>s.jsx(Ce.span,{...e,ref:t,style:{...z3,...e.style}}));gy.displayName=UQ;var VQ=gy,$S="ToastProvider",[LS,WQ,qQ]=py("Toast"),[U3,fTe]=Ln("Toast",[qQ]),[HQ,vy]=U3($S),V3=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=m.useState(null),[d,u]=m.useState(0),h=m.useRef(!1),f=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${$S}\`. Expected non-empty \`string\`.`),s.jsx(LS.Provider,{scope:t,children:s.jsx(HQ,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>u(p=>p+1),[]),onToastRemove:m.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};V3.displayName=$S;var W3="ToastViewport",KQ=["F8"],b1="toast.viewportPause",N1="toast.viewportResume",q3=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=KQ,label:a="Notifications ({hotkey})",...i}=e,o=vy(W3,n),l=WQ(n),c=m.useRef(null),d=m.useRef(null),u=m.useRef(null),h=m.useRef(null),f=Ze(t,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;m.useEffect(()=>{const j=y=>{var w;r.length!==0&&r.every(b=>y[b]||y.code===b)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[r]),m.useEffect(()=>{const j=c.current,y=h.current;if(g&&j&&y){const x=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(b1);y.dispatchEvent(_),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(N1);y.dispatchEvent(_),o.isClosePausedRef.current=!1}},b=_=>{!j.contains(_.relatedTarget)&&w()},S=()=>{j.contains(document.activeElement)||w()};return j.addEventListener("focusin",x),j.addEventListener("focusout",b),j.addEventListener("pointermove",x),j.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{j.removeEventListener("focusin",x),j.removeEventListener("focusout",b),j.removeEventListener("pointermove",x),j.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:j})=>{const x=l().map(w=>{const b=w.ref.current,S=[b,...iJ(b)];return j==="forwards"?S:S.reverse()});return(j==="forwards"?x.reverse():x).flat()},[l]);return m.useEffect(()=>{const j=h.current;if(j){const y=x=>{var S,_,N;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const C=document.activeElement,k=x.shiftKey;if(x.target===j&&k){(S=d.current)==null||S.focus();return}const M=v({tabbingDirection:k?"backwards":"forwards"}),z=M.findIndex(P=>P===C);nw(M.slice(z+1))?x.preventDefault():k?(_=d.current)==null||_.focus():(N=u.current)==null||N.focus()}};return j.addEventListener("keydown",y),()=>j.removeEventListener("keydown",y)}},[l,v]),s.jsxs(DQ,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(_1,{ref:d,onFocusFromOutsideViewport:()=>{const j=v({tabbingDirection:"forwards"});nw(j)}}),s.jsx(LS.Slot,{scope:n,children:s.jsx(Ce.ol,{tabIndex:-1,...i,ref:f})}),g&&s.jsx(_1,{ref:u,onFocusFromOutsideViewport:()=>{const j=v({tabbingDirection:"backwards"});nw(j)}})]})});q3.displayName=W3;var H3="ToastFocusProxy",_1=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=vy(H3,n);return s.jsx(gy,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&r()}})});_1.displayName=H3;var Lm="Toast",GQ="toast.swipeStart",YQ="toast.swipeMove",XQ="toast.swipeCancel",ZQ="toast.swipeEnd",K3=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Ca({prop:r,defaultProp:a??!0,onChange:i,caller:Lm});return s.jsx(Fn,{present:n||l,children:s.jsx(eJ,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:hn(e.onPause),onResume:hn(e.onResume),onSwipeStart:ge(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ge(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ge(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ge(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});K3.displayName=Lm;var[QQ,JQ]=U3(Lm,{onClose(){}}),eJ=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...g}=e,v=vy(Lm,n),[j,y]=m.useState(null),x=Ze(t,P=>y(P)),w=m.useRef(null),b=m.useRef(null),S=a||v.duration,_=m.useRef(0),N=m.useRef(S),C=m.useRef(0),{onToastAdd:k,onToastRemove:A}=v,O=hn(()=>{var E;(j==null?void 0:j.contains(document.activeElement))&&((E=v.viewport)==null||E.focus()),o()}),M=m.useCallback(P=>{!P||P===1/0||(window.clearTimeout(C.current),_.current=new Date().getTime(),C.current=window.setTimeout(O,P))},[O]);m.useEffect(()=>{const P=v.viewport;if(P){const E=()=>{M(N.current),d==null||d()},U=()=>{const R=new Date().getTime()-_.current;N.current=N.current-R,window.clearTimeout(C.current),c==null||c()};return P.addEventListener(b1,U),P.addEventListener(N1,E),()=>{P.removeEventListener(b1,U),P.removeEventListener(N1,E)}}},[v.viewport,S,c,d,M]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&M(S)},[i,S,v.isClosePausedRef,M]),m.useEffect(()=>(k(),()=>A()),[k,A]);const z=m.useMemo(()=>j?e5(j):null,[j]);return v.viewport?s.jsxs(s.Fragment,{children:[z&&s.jsx(tJ,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),s.jsx(QQ,{scope:n,onClose:O,children:no.createPortal(s.jsx(LS.ItemSlot,{scope:n,children:s.jsx(MQ,{asChild:!0,onEscapeKeyDown:ge(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||O(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ge(e.onKeyDown,P=>{P.key==="Escape"&&(l==null||l(P.nativeEvent),P.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:ge(e.onPointerDown,P=>{P.button===0&&(w.current={x:P.clientX,y:P.clientY})}),onPointerMove:ge(e.onPointerMove,P=>{if(!w.current)return;const E=P.clientX-w.current.x,U=P.clientY-w.current.y,R=!!b.current,B=["left","right"].includes(v.swipeDirection),L=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Q=B?L(0,E):0,se=B?0:L(0,U),W=P.pointerType==="touch"?10:2,ie={x:Q,y:se},ue={originalEvent:P,delta:ie};R?(b.current=ie,Jp(YQ,h,ue,{discrete:!1})):GE(ie,v.swipeDirection,W)?(b.current=ie,Jp(GQ,u,ue,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs(E)>W||Math.abs(U)>W)&&(w.current=null)}),onPointerUp:ge(e.onPointerUp,P=>{const E=b.current,U=P.target;if(U.hasPointerCapture(P.pointerId)&&U.releasePointerCapture(P.pointerId),b.current=null,w.current=null,E){const R=P.currentTarget,B={originalEvent:P,delta:E};GE(E,v.swipeDirection,v.swipeThreshold)?Jp(ZQ,p,B,{discrete:!0}):Jp(XQ,f,B,{discrete:!0}),R.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),tJ=e=>{const{__scopeToast:t,children:n,...r}=e,a=vy(Lm,t),[i,o]=m.useState(!1),[l,c]=m.useState(!1);return sJ(()=>o(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(Wu,{asChild:!0,children:s.jsx(gy,{...r,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",n]})})})},nJ="ToastTitle",G3=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Ce.div,{...r,ref:t})});G3.displayName=nJ;var rJ="ToastDescription",Y3=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Ce.div,{...r,ref:t})});Y3.displayName=rJ;var X3="ToastAction",Z3=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(J3,{altText:n,asChild:!0,children:s.jsx(FS,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${X3}\`. Expected non-empty \`string\`.`),null)});Z3.displayName=X3;var Q3="ToastClose",FS=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=JQ(Q3,n);return s.jsx(J3,{asChild:!0,children:s.jsx(Ce.button,{type:"button",...r,ref:t,onClick:ge(e.onClick,a.onClose)})})});FS.displayName=Q3;var J3=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return s.jsx(Ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function e5(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),aJ(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...e5(r))}}),t}function Jp(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?IS(a,i):a.dispatchEvent(i)}var GE=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return t==="left"||t==="right"?i&&r>n:!i&&a>n};function sJ(e=()=>{}){const t=hn(e);Nn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function aJ(e){return e.nodeType===e.ELEMENT_NODE}function iJ(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function nw(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var oJ=V3,t5=q3,n5=K3,r5=G3,s5=Y3,a5=Z3,i5=FS;function o5(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=o5(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function mt(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=o5(e))&&(r&&(r+=" "),r+=t);return r}const YE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,XE=mt,qu=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return XE(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=n==null?void 0:n[d],h=i==null?void 0:i[d];if(u===null)return null;const f=YE(u)||YE(h);return a[d][f]}),l=n&&Object.entries(n).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:h,className:f,...p}=u;return Object.entries(p).every(g=>{let[v,j]=g;return Array.isArray(j)?j.includes({...i,...l}[v]):{...i,...l}[v]===j})?[...d,h,f]:d},[]);return XE(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l5=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...cJ,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:l5("lucide",a),...l},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(e,t)=>{const n=m.forwardRef(({className:r,...a},i)=>m.createElement(dJ,{ref:i,iconNode:t,className:l5(`lucide-${lJ(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=le("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=le("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=le("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=le("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=le("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=le("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=le("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=le("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=le("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=le("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=le("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=le("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=le("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=le("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=le("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=le("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=le("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=le("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=le("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=le("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=le("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=le("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=le("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=le("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=le("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=le("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=le("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=le("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=le("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=le("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=le("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=le("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=le("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=le("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=le("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=le("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=le("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=le("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=le("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=le("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=le("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=le("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=le("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=le("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=le("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=le("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=le("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=le("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=le("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=le("Nfc",[["path",{d:"M6 8.32a7.43 7.43 0 0 1 0 7.36",key:"9iaqei"}],["path",{d:"M9.46 6.21a11.76 11.76 0 0 1 0 11.58",key:"1yha7l"}],["path",{d:"M12.91 4.1a15.91 15.91 0 0 1 .01 15.8",key:"4iu2gk"}],["path",{d:"M16.37 2a20.16 20.16 0 0 1 0 20",key:"sap9u2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=le("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=le("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=le("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=le("Pizza",[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=le("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=le("Sandwich",[["path",{d:"m2.37 11.223 8.372-6.777a2 2 0 0 1 2.516 0l8.371 6.777",key:"f1wd0e"}],["path",{d:"M21 15a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-5.25",key:"1pfu07"}],["path",{d:"M3 15a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h9",key:"1oq9qw"}],["path",{d:"m6.67 15 6.13 4.6a2 2 0 0 0 2.8-.4l3.15-4.2",key:"1fnwu5"}],["rect",{width:"20",height:"4",x:"2",y:"11",rx:"1",key:"itshg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=le("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=le("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=le("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=le("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=le("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=le("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=le("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=le("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=le("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=le("Soup",[["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M19.5 12 22 6",key:"shfsr5"}],["path",{d:"M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62",key:"rpc6vp"}],["path",{d:"M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62",key:"1lf63m"}],["path",{d:"M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62",key:"97tijn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=le("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=le("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=le("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=le("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=le("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=le("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=le("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=le("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=le("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=le("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=le("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=le("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=le("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=le("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=le("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=le("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),GS="-",LJ=e=>{const t=BJ(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(GS);return l[0]===""&&l.length!==1&&l.shift(),D5(l,t)||FJ(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},D5=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?D5(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(GS);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},nT=/^\[(.+)\]$/,FJ=e=>{if(nT.test(e)){const t=nT.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},BJ=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return UJ(Object.entries(e.classGroups),n).forEach(([i,o])=>{k1(o,r,i,t)}),r},k1=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:rT(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(zJ(a)){k1(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{k1(o,rT(t,i),n,r)})})},rT=(e,t)=>{let n=e;return t.split(GS).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},zJ=e=>e.isThemeGetter,UJ=(e,t)=>t?e.map(([n,r])=>{const a=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,VJ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},R5="!",WJ=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let j=0;j<l.length;j++){let y=l[j];if(d===0){if(y===a&&(r||l.slice(j,j+i)===t)){c.push(l.slice(u,j)),u=j+i;continue}if(y==="/"){h=j;continue}}y==="["?d++:y==="]"&&d--}const f=c.length===0?l:l.substring(u),p=f.startsWith(R5),g=p?f.substring(1):f,v=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},qJ=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},HJ=e=>({cache:VJ(e.cacheSize),parseClassName:WJ(e),...LJ(e)}),KJ=/\s+/,GJ=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(KJ);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(d);let g=!!p,v=r(g?f.substring(0,p):f);if(!v){if(!g){l=d+(l.length>0?" "+l:l);continue}if(v=r(f),!v){l=d+(l.length>0?" "+l:l);continue}g=!1}const j=qJ(u).join(":"),y=h?j+R5:j,x=y+v;if(i.includes(x))continue;i.push(x);const w=a(v,g);for(let b=0;b<w.length;++b){const S=w[b];i.push(y+S)}l=d+(l.length>0?" "+l:l)}return l};function YJ(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=I5(t))&&(r&&(r+=" "),r+=n);return r}const I5=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=I5(e[r]))&&(n&&(n+=" "),n+=t);return n};function XJ(e,...t){let n,r,a,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return n=HJ(d),r=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=GJ(c,n);return a(c,u),u}return function(){return i(YJ.apply(null,arguments))}}const Bt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},$5=/^\[(?:([a-z-]+):)?(.+)\]$/i,ZJ=/^\d+\/\d+$/,QJ=new Set(["px","full","screen"]),JJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ree=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ji=e=>zd(e)||QJ.has(e)||ZJ.test(e),jo=e=>Gu(e,"length",uee),zd=e=>!!e&&!Number.isNaN(Number(e)),sw=e=>Gu(e,"number",zd),Ah=e=>!!e&&Number.isInteger(Number(e)),see=e=>e.endsWith("%")&&zd(e.slice(0,-1)),at=e=>$5.test(e),wo=e=>JJ.test(e),aee=new Set(["length","size","percentage"]),iee=e=>Gu(e,aee,L5),oee=e=>Gu(e,"position",L5),lee=new Set(["image","url"]),cee=e=>Gu(e,lee,fee),dee=e=>Gu(e,"",hee),Ph=()=>!0,Gu=(e,t,n)=>{const r=$5.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},uee=e=>eee.test(e)&&!tee.test(e),L5=()=>!1,hee=e=>nee.test(e),fee=e=>ree.test(e),mee=()=>{const e=Bt("colors"),t=Bt("spacing"),n=Bt("blur"),r=Bt("brightness"),a=Bt("borderColor"),i=Bt("borderRadius"),o=Bt("borderSpacing"),l=Bt("borderWidth"),c=Bt("contrast"),d=Bt("grayscale"),u=Bt("hueRotate"),h=Bt("invert"),f=Bt("gap"),p=Bt("gradientColorStops"),g=Bt("gradientColorStopPositions"),v=Bt("inset"),j=Bt("margin"),y=Bt("opacity"),x=Bt("padding"),w=Bt("saturate"),b=Bt("scale"),S=Bt("sepia"),_=Bt("skew"),N=Bt("space"),C=Bt("translate"),k=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",at,t],M=()=>[at,t],z=()=>["",ji,jo],P=()=>["auto",zd,at],E=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",at],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[zd,at];return{cacheSize:500,separator:":",theme:{colors:[Ph],spacing:[ji,jo],blur:["none","",wo,at],brightness:se(),borderColor:[e],borderRadius:["none","","full",wo,at],borderSpacing:M(),borderWidth:z(),contrast:se(),grayscale:L(),hueRotate:se(),invert:L(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[see,jo],inset:O(),margin:O(),opacity:se(),padding:M(),saturate:se(),scale:se(),sepia:L(),skew:se(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",at]}],container:["container"],columns:[{columns:[wo]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...E(),at]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ah,at]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",at]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Ah,at]}],"grid-cols":[{"grid-cols":[Ph]}],"col-start-end":[{col:["auto",{span:["full",Ah,at]},at]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[Ph]}],"row-start-end":[{row:["auto",{span:[Ah,at]},at]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",at]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",at]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",at,t]}],"min-w":[{"min-w":[at,t,"min","max","fit"]}],"max-w":[{"max-w":[at,t,"none","full","min","max","fit","prose",{screen:[wo]},wo]}],h:[{h:[at,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[at,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[at,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[at,t,"auto","min","max","fit"]}],"font-size":[{text:["base",wo,jo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sw]}],"font-family":[{font:[Ph]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",at]}],"line-clamp":[{"line-clamp":["none",zd,sw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ji,at]}],"list-image":[{"list-image":["none",at]}],"list-style-type":[{list:["none","disc","decimal",at]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ji,jo]}],"underline-offset":[{"underline-offset":["auto",ji,at]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",at]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",at]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...E(),oee]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",iee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cee]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:U()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[ji,at]}],"outline-w":[{outline:[ji,jo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ji,jo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",wo,dee]}],"shadow-color":[{shadow:[Ph]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",wo,at]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",at]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",at]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",at]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Ah,at]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",at]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",at]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",at]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ji,jo,sw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},pee=XJ(mee);function me(...e){return pee(mt(e))}const gee=oJ,F5=m.forwardRef(({className:e,...t},n)=>s.jsx(t5,{ref:n,className:me("fixed top-4 right-4 z-[100] flex max-h-screen w-full flex-col-reverse gap-2 sm:flex-col md:max-w-[320px]",e),...t}));F5.displayName=t5.displayName;const vee=qu("group pointer-events-auto relative flex w-full items-center gap-3 overflow-hidden rounded-lg border p-3 pr-7 shadow-lg backdrop-blur-sm transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-right-full",{variants:{variant:{default:"border-border/50 bg-background/95 text-foreground",success:"border-green-200 bg-green-50/95 text-green-900 dark:border-green-800 dark:bg-green-950/95 dark:text-green-100",destructive:"border-red-200 bg-red-50/95 text-red-900 dark:border-red-800 dark:bg-red-950/95 dark:text-red-100",warning:"border-yellow-200 bg-yellow-50/95 text-yellow-900 dark:border-yellow-800 dark:bg-yellow-950/95 dark:text-yellow-100",info:"border-blue-200 bg-blue-50/95 text-blue-900 dark:border-blue-800 dark:bg-blue-950/95 dark:text-blue-100"}},defaultVariants:{variant:"default"}}),B5=m.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(n5,{ref:r,className:me(vee({variant:t}),e),...n}));B5.displayName=n5.displayName;const xee=m.forwardRef(({className:e,...t},n)=>s.jsx(a5,{ref:n,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));xee.displayName=a5.displayName;const z5=m.forwardRef(({className:e,...t},n)=>s.jsx(i5,{ref:n,className:me("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-60 transition-all hover:opacity-100 hover:bg-foreground/10 focus:opacity-100 focus:outline-none focus:ring-1 focus:ring-ring",e),"toast-close":"",...t,children:s.jsx(Xn,{className:"h-3 w-3"})}));z5.displayName=i5.displayName;const U5=m.forwardRef(({className:e,...t},n)=>s.jsx(r5,{ref:n,className:me("text-sm font-medium",e),...t}));U5.displayName=r5.displayName;const V5=m.forwardRef(({className:e,...t},n)=>s.jsx(s5,{ref:n,className:me("text-xs opacity-80",e),...t}));V5.displayName=s5.displayName;function yee(){const{toasts:e}=ro(),t=n=>{switch(n){case"success":return s.jsx(US,{className:"h-5 w-5 text-green-600 dark:text-green-400 shrink-0"});case"destructive":return s.jsx(mu,{className:"h-5 w-5 text-red-600 dark:text-red-400 shrink-0"});case"warning":return s.jsx(Dr,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 shrink-0"});case"info":return s.jsx(Qf,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 shrink-0"});default:return s.jsx(Qf,{className:"h-5 w-5 text-gray-600 dark:text-gray-400 shrink-0"})}};return s.jsxs(gee,{duration:3e3,children:[e.map(function({id:n,title:r,description:a,action:i,variant:o,...l}){return s.jsxs(B5,{variant:o,...l,children:[t(o),s.jsxs("div",{className:"grid gap-0.5 flex-1",children:[r&&s.jsx(U5,{children:r}),a&&s.jsx(V5,{children:a})]}),i,s.jsx(z5,{})]},n)}),s.jsx(F5,{})]})}var sT=["light","dark"],jee="(prefers-color-scheme: dark)",wee=m.createContext(void 0),bee={setTheme:e=>{},themes:[]},Nee=()=>{var e;return(e=m.useContext(wee))!=null?e:bee};m.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=a?sT.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,v=!1,j=!0)=>{let y=o?o[g]:g,x=v?g+"|| ''":`'${y}'`,w="";return a&&j&&!v&&sT.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),n==="class"?v||y?w+=`c.add(${x})`:w+="null":y&&(w+=`d[s](n,${x})`),w},p=e?`!function(){${u}${f(e)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${jee}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${d?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var _ee=e=>{switch(e){case"success":return kee;case"info":return Pee;case"warning":return Aee;case"error":return Eee;default:return null}},See=Array(12).fill(0),Cee=({visible:e,className:t})=>je.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},je.createElement("div",{className:"sonner-spinner"},See.map((n,r)=>je.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),kee=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Aee=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Pee=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Eee=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},je.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Tee=je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},je.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),je.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Oee=()=>{let[e,t]=je.useState(document.hidden);return je.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},A1=1,Mee=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:A1++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),a=n!==void 0,i,o=r.then(async c=>{if(i=["resolve",c],je.isValidElement(c))a=!1,this.create({id:n,type:"default",message:c});else if(Ree(c)&&!c.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:d,description:u})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||A1++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Hr=new Mee,Dee=(e,t)=>{let n=(t==null?void 0:t.id)||A1++;return Hr.addToast({title:e,...t,id:n}),n},Ree=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Iee=Dee,$ee=()=>Hr.toasts,Lee=()=>Hr.getActiveToasts(),fe=Object.assign(Iee,{success:Hr.success,info:Hr.info,warning:Hr.warning,error:Hr.error,custom:Hr.custom,message:Hr.message,promise:Hr.promise,dismiss:Hr.dismiss,loading:Hr.loading},{getHistory:$ee,getToasts:Lee});function Fee(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Fee(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function tg(e){return e.label!==void 0}var Bee=3,zee="32px",Uee="16px",aT=4e3,Vee=356,Wee=14,qee=20,Hee=200;function ua(...e){return e.filter(Boolean).join(" ")}function Kee(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var Gee=e=>{var t,n,r,a,i,o,l,c,d,u,h;let{invert:f,toast:p,unstyled:g,interacting:v,setHeights:j,visibleToasts:y,heights:x,index:w,toasts:b,expanded:S,removeToast:_,defaultRichColors:N,closeButton:C,style:k,cancelButtonStyle:A,actionButtonStyle:O,className:M="",descriptionClassName:z="",duration:P,position:E,gap:U,loadingIcon:R,expandByDefault:B,classNames:L,icons:Q,closeButtonAriaLabel:se="Close toast",pauseWhenPageIsHidden:W}=e,[ie,ue]=je.useState(null),[oe,Se]=je.useState(null),[I,Z]=je.useState(!1),[J,X]=je.useState(!1),[he,D]=je.useState(!1),[ee,pe]=je.useState(!1),[Oe,Y]=je.useState(!1),[ye,We]=je.useState(0),[_t,Qe]=je.useState(0),fr=je.useRef(p.duration||P||aT),go=je.useRef(null),Ie=je.useRef(null),Sn=w===0,aj=w+1<=y,Vn=p.type,vo=p.dismissible!==!1,ij=p.className||"",oj=p.descriptionClassName||"",Zc=je.useMemo(()=>x.findIndex(Je=>Je.toastId===p.id)||0,[x,p.id]),lj=je.useMemo(()=>{var Je;return(Je=p.closeButton)!=null?Je:C},[p.closeButton,C]),Cp=je.useMemo(()=>p.duration||P||aT,[p.duration,P]),Il=je.useRef(0),xi=je.useRef(0),kp=je.useRef(0),xo=je.useRef(null),[cj,dj]=E.split("-"),Ap=je.useMemo(()=>x.reduce((Je,bt,Et)=>Et>=Zc?Je:Je+bt.height,0),[x,Zc]),gh=Oee(),uj=p.invert||f,vh=Vn==="loading";xi.current=je.useMemo(()=>Zc*U+Ap,[Zc,Ap]),je.useEffect(()=>{fr.current=Cp},[Cp]),je.useEffect(()=>{Z(!0)},[]),je.useEffect(()=>{let Je=Ie.current;if(Je){let bt=Je.getBoundingClientRect().height;return Qe(bt),j(Et=>[{toastId:p.id,height:bt,position:p.position},...Et]),()=>j(Et=>Et.filter(Vr=>Vr.toastId!==p.id))}},[j,p.id]),je.useLayoutEffect(()=>{if(!I)return;let Je=Ie.current,bt=Je.style.height;Je.style.height="auto";let Et=Je.getBoundingClientRect().height;Je.style.height=bt,Qe(Et),j(Vr=>Vr.find(Ar=>Ar.toastId===p.id)?Vr.map(Ar=>Ar.toastId===p.id?{...Ar,height:Et}:Ar):[{toastId:p.id,height:Et,position:p.position},...Vr])},[I,p.title,p.description,j,p.id]);let la=je.useCallback(()=>{X(!0),We(xi.current),j(Je=>Je.filter(bt=>bt.toastId!==p.id)),setTimeout(()=>{_(p)},Hee)},[p,_,j,xi]);je.useEffect(()=>{if(p.promise&&Vn==="loading"||p.duration===1/0||p.type==="loading")return;let Je;return S||v||W&&gh?(()=>{if(kp.current<Il.current){let bt=new Date().getTime()-Il.current;fr.current=fr.current-bt}kp.current=new Date().getTime()})():fr.current!==1/0&&(Il.current=new Date().getTime(),Je=setTimeout(()=>{var bt;(bt=p.onAutoClose)==null||bt.call(p,p),la()},fr.current)),()=>clearTimeout(Je)},[S,v,p,Vn,W,gh,la]),je.useEffect(()=>{p.delete&&la()},[la,p.delete]);function Pp(){var Je,bt,Et;return Q!=null&&Q.loading?je.createElement("div",{className:ua(L==null?void 0:L.loader,(Je=p==null?void 0:p.classNames)==null?void 0:Je.loader,"sonner-loader"),"data-visible":Vn==="loading"},Q.loading):R?je.createElement("div",{className:ua(L==null?void 0:L.loader,(bt=p==null?void 0:p.classNames)==null?void 0:bt.loader,"sonner-loader"),"data-visible":Vn==="loading"},R):je.createElement(Cee,{className:ua(L==null?void 0:L.loader,(Et=p==null?void 0:p.classNames)==null?void 0:Et.loader),visible:Vn==="loading"})}return je.createElement("li",{tabIndex:0,ref:Ie,className:ua(M,ij,L==null?void 0:L.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[Vn],(n=p==null?void 0:p.classNames)==null?void 0:n[Vn]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:N,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":I,"data-promise":!!p.promise,"data-swiped":Oe,"data-removed":J,"data-visible":aj,"data-y-position":cj,"data-x-position":dj,"data-index":w,"data-front":Sn,"data-swiping":he,"data-dismissible":vo,"data-type":Vn,"data-invert":uj,"data-swipe-out":ee,"data-swipe-direction":oe,"data-expanded":!!(S||B&&I),style:{"--index":w,"--toasts-before":w,"--z-index":b.length-w,"--offset":`${J?ye:xi.current}px`,"--initial-height":B?"auto":`${_t}px`,...k,...p.style},onDragEnd:()=>{D(!1),ue(null),xo.current=null},onPointerDown:Je=>{vh||!vo||(go.current=new Date,We(xi.current),Je.target.setPointerCapture(Je.pointerId),Je.target.tagName!=="BUTTON"&&(D(!0),xo.current={x:Je.clientX,y:Je.clientY}))},onPointerUp:()=>{var Je,bt,Et,Vr;if(ee||!vo)return;xo.current=null;let Ar=Number(((Je=Ie.current)==null?void 0:Je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ca=Number(((bt=Ie.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),yi=new Date().getTime()-((Et=go.current)==null?void 0:Et.getTime()),hs=ie==="x"?Ar:ca,H=Math.abs(hs)/yi;if(Math.abs(hs)>=qee||H>.11){We(xi.current),(Vr=p.onDismiss)==null||Vr.call(p,p),Se(ie==="x"?Ar>0?"right":"left":ca>0?"down":"up"),la(),pe(!0),Y(!1);return}D(!1),ue(null)},onPointerMove:Je=>{var bt,Et,Vr,Ar;if(!xo.current||!vo||((bt=window.getSelection())==null?void 0:bt.toString().length)>0)return;let ca=Je.clientY-xo.current.y,yi=Je.clientX-xo.current.x,hs=(Et=e.swipeDirections)!=null?Et:Kee(E);!ie&&(Math.abs(yi)>1||Math.abs(ca)>1)&&ue(Math.abs(yi)>Math.abs(ca)?"x":"y");let H={x:0,y:0};ie==="y"?(hs.includes("top")||hs.includes("bottom"))&&(hs.includes("top")&&ca<0||hs.includes("bottom")&&ca>0)&&(H.y=ca):ie==="x"&&(hs.includes("left")||hs.includes("right"))&&(hs.includes("left")&&yi<0||hs.includes("right")&&yi>0)&&(H.x=yi),(Math.abs(H.x)>0||Math.abs(H.y)>0)&&Y(!0),(Vr=Ie.current)==null||Vr.style.setProperty("--swipe-amount-x",`${H.x}px`),(Ar=Ie.current)==null||Ar.style.setProperty("--swipe-amount-y",`${H.y}px`)}},lj&&!p.jsx?je.createElement("button",{"aria-label":se,"data-disabled":vh,"data-close-button":!0,onClick:vh||!vo?()=>{}:()=>{var Je;la(),(Je=p.onDismiss)==null||Je.call(p,p)},className:ua(L==null?void 0:L.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=Q==null?void 0:Q.close)!=null?i:Tee):null,p.jsx||m.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:je.createElement(je.Fragment,null,Vn||p.icon||p.promise?je.createElement("div",{"data-icon":"",className:ua(L==null?void 0:L.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Pp():null,p.type!=="loading"?p.icon||(Q==null?void 0:Q[Vn])||_ee(Vn):null):null,je.createElement("div",{"data-content":"",className:ua(L==null?void 0:L.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},je.createElement("div",{"data-title":"",className:ua(L==null?void 0:L.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?je.createElement("div",{"data-description":"",className:ua(z,oj,L==null?void 0:L.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),m.isValidElement(p.cancel)?p.cancel:p.cancel&&tg(p.cancel)?je.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:Je=>{var bt,Et;tg(p.cancel)&&vo&&((Et=(bt=p.cancel).onClick)==null||Et.call(bt,Je),la())},className:ua(L==null?void 0:L.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,m.isValidElement(p.action)?p.action:p.action&&tg(p.action)?je.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||O,onClick:Je=>{var bt,Et;tg(p.action)&&((Et=(bt=p.action).onClick)==null||Et.call(bt,Je),!Je.defaultPrevented&&la())},className:ua(L==null?void 0:L.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function iT(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Yee(e,t){let n={};return[e,t].forEach((r,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?Uee:zee;function c(d){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=l:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(l)}),n}var Xee=m.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:h,duration:f,style:p,visibleToasts:g=Bee,toastOptions:v,dir:j=iT(),gap:y=Wee,loadingIcon:x,icons:w,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:S}=e,[_,N]=je.useState([]),C=je.useMemo(()=>Array.from(new Set([r].concat(_.filter(W=>W.position).map(W=>W.position)))),[_,r]),[k,A]=je.useState([]),[O,M]=je.useState(!1),[z,P]=je.useState(!1),[E,U]=je.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=je.useRef(null),B=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=je.useRef(null),Q=je.useRef(!1),se=je.useCallback(W=>{N(ie=>{var ue;return(ue=ie.find(oe=>oe.id===W.id))!=null&&ue.delete||Hr.dismiss(W.id),ie.filter(({id:oe})=>oe!==W.id)})},[]);return je.useEffect(()=>Hr.subscribe(W=>{if(W.dismiss){N(ie=>ie.map(ue=>ue.id===W.id?{...ue,delete:!0}:ue));return}setTimeout(()=>{n$.flushSync(()=>{N(ie=>{let ue=ie.findIndex(oe=>oe.id===W.id);return ue!==-1?[...ie.slice(0,ue),{...ie[ue],...W},...ie.slice(ue+1)]:[W,...ie]})})})}),[]),je.useEffect(()=>{if(u!=="system"){U(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:ie})=>{U(ie?"dark":"light")})}catch{W.addListener(({matches:ue})=>{try{U(ue?"dark":"light")}catch(oe){console.error(oe)}})}},[u]),je.useEffect(()=>{_.length<=1&&M(!1)},[_]),je.useEffect(()=>{let W=ie=>{var ue,oe;a.every(Se=>ie[Se]||ie.code===Se)&&(M(!0),(ue=R.current)==null||ue.focus()),ie.code==="Escape"&&(document.activeElement===R.current||(oe=R.current)!=null&&oe.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[a]),je.useEffect(()=>{if(R.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,Q.current=!1)}},[R.current]),je.createElement("section",{ref:t,"aria-label":`${b} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((W,ie)=>{var ue;let[oe,Se]=W.split("-");return _.length?je.createElement("ol",{key:W,dir:j==="auto"?iT():j,tabIndex:-1,ref:R,className:l,"data-sonner-toaster":!0,"data-theme":E,"data-y-position":oe,"data-lifted":O&&_.length>1&&!i,"data-x-position":Se,style:{"--front-toast-height":`${((ue=k[0])==null?void 0:ue.height)||0}px`,"--width":`${Vee}px`,"--gap":`${y}px`,...p,...Yee(c,d)},onBlur:I=>{Q.current&&!I.currentTarget.contains(I.relatedTarget)&&(Q.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,L.current=I.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{z||M(!1)},onDragEnd:()=>M(!1),onPointerDown:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},_.filter(I=>!I.position&&ie===0||I.position===W).map((I,Z)=>{var J,X;return je.createElement(Gee,{key:I.id,icons:w,index:Z,toast:I,defaultRichColors:h,duration:(J=v==null?void 0:v.duration)!=null?J:f,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:g,closeButton:(X=v==null?void 0:v.closeButton)!=null?X:o,interacting:z,position:W,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:se,toasts:_.filter(he=>he.position==I.position),heights:k.filter(he=>he.position==I.position),setHeights:A,expandByDefault:i,gap:y,loadingIcon:x,expanded:O,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const Zee=({...e})=>{const{theme:t="system"}=Nee();return s.jsx(Xee,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Qee=Gx[" useId ".trim().toString()]||(()=>{}),Jee=0;function ir(e){const[t,n]=m.useState(Qee());return Nn(()=>{e||n(r=>r??String(Jee++))},[e]),e||(t?`radix-${t}`:"")}const ete=["top","right","bottom","left"],dl=Math.min,vs=Math.max,Mv=Math.round,ng=Math.floor,oi=e=>({x:e,y:e}),tte={left:"right",right:"left",bottom:"top",top:"bottom"},nte={start:"end",end:"start"};function P1(e,t,n){return vs(e,dl(t,n))}function Yi(e,t){return typeof e=="function"?e(t):e}function Xi(e){return e.split("-")[0]}function Yu(e){return e.split("-")[1]}function YS(e){return e==="x"?"y":"x"}function XS(e){return e==="y"?"height":"width"}const rte=new Set(["top","bottom"]);function Ja(e){return rte.has(Xi(e))?"y":"x"}function ZS(e){return YS(Ja(e))}function ste(e,t,n){n===void 0&&(n=!1);const r=Yu(e),a=ZS(e),i=XS(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Dv(o)),[o,Dv(o)]}function ate(e){const t=Dv(e);return[E1(e),t,E1(t)]}function E1(e){return e.replace(/start|end/g,t=>nte[t])}const oT=["left","right"],lT=["right","left"],ite=["top","bottom"],ote=["bottom","top"];function lte(e,t,n){switch(e){case"top":case"bottom":return n?t?lT:oT:t?oT:lT;case"left":case"right":return t?ite:ote;default:return[]}}function cte(e,t,n,r){const a=Yu(e);let i=lte(Xi(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(E1)))),i}function Dv(e){return e.replace(/left|right|bottom|top/g,t=>tte[t])}function dte(e){return{top:0,right:0,bottom:0,left:0,...e}}function W5(e){return typeof e!="number"?dte(e):{top:e,right:e,bottom:e,left:e}}function Rv(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function cT(e,t,n){let{reference:r,floating:a}=e;const i=Ja(t),o=ZS(t),l=XS(o),c=Xi(t),d=i==="y",u=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,f=r[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:r.y-a.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-a.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Yu(t)){case"start":p[o]-=f*(n&&d?-1:1);break;case"end":p[o]+=f*(n&&d?-1:1);break}return p}const ute=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=cT(d,r,c),f=r,p={},g=0;for(let v=0;v<l.length;v++){const{name:j,fn:y}=l[v],{x,y:w,data:b,reset:S}=await y({x:u,y:h,initialPlacement:r,placement:f,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=x??u,h=w??h,p={...p,[j]:{...p[j],...b}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(d=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:u,y:h}=cT(d,f,c)),v=-1)}return{x:u,y:h,placement:f,strategy:a,middlewareData:p}};async function em(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Yi(t,e),g=W5(p),j=l[f?h==="floating"?"reference":"floating":h],y=Rv(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(j)))==null||n?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),x=h==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Rv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(y.top-S.top+g.top)/b.y,bottom:(S.bottom-y.bottom+g.bottom)/b.y,left:(y.left-S.left+g.left)/b.x,right:(S.right-y.right+g.right)/b.x}}const hte=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Yi(e,t)||{};if(d==null)return{};const h=W5(u),f={x:n,y:r},p=ZS(a),g=XS(p),v=await o.getDimensions(d),j=p==="y",y=j?"top":"left",x=j?"bottom":"right",w=j?"clientHeight":"clientWidth",b=i.reference[g]+i.reference[p]-f[p]-i.floating[g],S=f[p]-i.reference[p],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let N=_?_[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(_)))&&(N=l.floating[w]||i.floating[g]);const C=b/2-S/2,k=N/2-v[g]/2-1,A=dl(h[y],k),O=dl(h[x],k),M=A,z=N-v[g]-O,P=N/2-v[g]/2+C,E=P1(M,P,z),U=!c.arrow&&Yu(a)!=null&&P!==E&&i.reference[g]/2-(P<M?A:O)-v[g]/2<0,R=U?P<M?P-M:P-z:0;return{[p]:f[p]+R,data:{[p]:E,centerOffset:P-E-R,...U&&{alignmentOffset:R}},reset:U}}}),fte=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...j}=Yi(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Xi(a),x=Ja(l),w=Xi(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(d.floating)),S=f||(w||!v?[Dv(l)]:ate(l)),_=g!=="none";!f&&_&&S.push(...cte(l,v,g,b));const N=[l,...S],C=await em(t,j),k=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&k.push(C[y]),h){const P=ste(a,o,b);k.push(C[P[0]],C[P[1]])}if(A=[...A,{placement:a,overflows:k}],!k.every(P=>P<=0)){var O,M;const P=(((O=i.flip)==null?void 0:O.index)||0)+1,E=N[P];if(E&&(!(h==="alignment"?x!==Ja(E):!1)||A.every(B=>B.overflows[0]>0&&Ja(B.placement)===x)))return{data:{index:P,overflows:A},reset:{placement:E}};let U=(M=A.filter(R=>R.overflows[0]<=0).sort((R,B)=>R.overflows[1]-B.overflows[1])[0])==null?void 0:M.placement;if(!U)switch(p){case"bestFit":{var z;const R=(z=A.filter(B=>{if(_){const L=Ja(B.placement);return L===x||L==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(L=>L>0).reduce((L,Q)=>L+Q,0)]).sort((B,L)=>B[1]-L[1])[0])==null?void 0:z[0];R&&(U=R);break}case"initialPlacement":U=l;break}if(a!==U)return{reset:{placement:U}}}return{}}}};function dT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function uT(e){return ete.some(t=>e[t]>=0)}const mte=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=Yi(e,t);switch(r){case"referenceHidden":{const i=await em(t,{...a,elementContext:"reference"}),o=dT(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:uT(o)}}}case"escaped":{const i=await em(t,{...a,altBoundary:!0}),o=dT(i,n.floating);return{data:{escapedOffsets:o,escaped:uT(o)}}}default:return{}}}}},q5=new Set(["left","top"]);async function pte(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=Xi(n),l=Yu(n),c=Ja(n)==="y",d=q5.has(o)?-1:1,u=i&&c?-1:1,h=Yi(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*u,y:f*d}:{x:f*d,y:p*u}}const gte=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await pte(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},vte=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:j=>{let{x:y,y:x}=j;return{x:y,y:x}}},...c}=Yi(e,t),d={x:n,y:r},u=await em(t,c),h=Ja(Xi(a)),f=YS(h);let p=d[f],g=d[h];if(i){const j=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=p+u[j],w=p-u[y];p=P1(x,p,w)}if(o){const j=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=g+u[j],w=g-u[y];g=P1(x,g,w)}const v=l.fn({...t,[f]:p,[h]:g});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[f]:i,[h]:o}}}}}},xte=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Yi(e,t),u={x:n,y:r},h=Ja(a),f=YS(h);let p=u[f],g=u[h];const v=Yi(l,t),j=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const w=f==="y"?"height":"width",b=i.reference[f]-i.floating[w]+j.mainAxis,S=i.reference[f]+i.reference[w]-j.mainAxis;p<b?p=b:p>S&&(p=S)}if(d){var y,x;const w=f==="y"?"width":"height",b=q5.has(Xi(a)),S=i.reference[h]-i.floating[w]+(b&&((y=o.offset)==null?void 0:y[h])||0)+(b?0:j.crossAxis),_=i.reference[h]+i.reference[w]+(b?0:((x=o.offset)==null?void 0:x[h])||0)-(b?j.crossAxis:0);g<S?g=S:g>_&&(g=_)}return{[f]:p,[h]:g}}}},yte=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Yi(e,t),u=await em(t,d),h=Xi(a),f=Yu(a),p=Ja(a)==="y",{width:g,height:v}=i.floating;let j,y;h==="top"||h==="bottom"?(j=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,j=f==="end"?"top":"bottom");const x=v-u.top-u.bottom,w=g-u.left-u.right,b=dl(v-u[j],x),S=dl(g-u[y],w),_=!t.middlewareData.shift;let N=b,C=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=x),_&&!f){const A=vs(u.left,0),O=vs(u.right,0),M=vs(u.top,0),z=vs(u.bottom,0);p?C=g-2*(A!==0||O!==0?A+O:vs(u.left,u.right)):N=v-2*(M!==0||z!==0?M+z:vs(u.top,u.bottom))}await c({...t,availableWidth:C,availableHeight:N});const k=await o.getDimensions(l.floating);return g!==k.width||v!==k.height?{reset:{rects:!0}}:{}}}};function Ny(){return typeof window<"u"}function Xu(e){return H5(e)?(e.nodeName||"").toLowerCase():"#document"}function Ns(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gi(e){var t;return(t=(H5(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function H5(e){return Ny()?e instanceof Node||e instanceof Ns(e).Node:!1}function Aa(e){return Ny()?e instanceof Element||e instanceof Ns(e).Element:!1}function di(e){return Ny()?e instanceof HTMLElement||e instanceof Ns(e).HTMLElement:!1}function hT(e){return!Ny()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ns(e).ShadowRoot}const jte=new Set(["inline","contents"]);function zm(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Pa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!jte.has(a)}const wte=new Set(["table","td","th"]);function bte(e){return wte.has(Xu(e))}const Nte=[":popover-open",":modal"];function _y(e){return Nte.some(t=>{try{return e.matches(t)}catch{return!1}})}const _te=["transform","translate","scale","rotate","perspective"],Ste=["transform","translate","scale","rotate","perspective","filter"],Cte=["paint","layout","strict","content"];function QS(e){const t=JS(),n=Aa(e)?Pa(e):e;return _te.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Ste.some(r=>(n.willChange||"").includes(r))||Cte.some(r=>(n.contain||"").includes(r))}function kte(e){let t=ul(e);for(;di(t)&&!gu(t);){if(QS(t))return t;if(_y(t))return null;t=ul(t)}return null}function JS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ate=new Set(["html","body","#document"]);function gu(e){return Ate.has(Xu(e))}function Pa(e){return Ns(e).getComputedStyle(e)}function Sy(e){return Aa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ul(e){if(Xu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||hT(e)&&e.host||gi(e);return hT(t)?t.host:t}function K5(e){const t=ul(e);return gu(t)?e.ownerDocument?e.ownerDocument.body:e.body:di(t)&&zm(t)?t:K5(t)}function tm(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=K5(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=Ns(a);if(i){const l=T1(o);return t.concat(o,o.visualViewport||[],zm(a)?a:[],l&&n?tm(l):[])}return t.concat(a,tm(a,[],n))}function T1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function G5(e){const t=Pa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=di(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=Mv(n)!==i||Mv(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function eC(e){return Aa(e)?e:e.contextElement}function Ud(e){const t=eC(e);if(!di(t))return oi(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=G5(t);let o=(i?Mv(n.width):n.width)/r,l=(i?Mv(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Pte=oi(0);function Y5(e){const t=Ns(e);return!JS()||!t.visualViewport?Pte:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ete(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ns(e)?!1:t}function kc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=eC(e);let o=oi(1);t&&(r?Aa(r)&&(o=Ud(r)):o=Ud(e));const l=Ete(i,n,r)?Y5(i):oi(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const f=Ns(i),p=r&&Aa(r)?Ns(r):r;let g=f,v=T1(g);for(;v&&r&&p!==g;){const j=Ud(v),y=v.getBoundingClientRect(),x=Pa(v),w=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*j.x,b=y.top+(v.clientTop+parseFloat(x.paddingTop))*j.y;c*=j.x,d*=j.y,u*=j.x,h*=j.y,c+=w,d+=b,g=Ns(v),v=T1(g)}}return Rv({width:u,height:h,x:c,y:d})}function tC(e,t){const n=Sy(e).scrollLeft;return t?t.left+n:kc(gi(e)).left+n}function X5(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:tC(e,r)),i=r.top+t.scrollTop;return{x:a,y:i}}function Tte(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=gi(r),l=t?_y(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=oi(1);const u=oi(0),h=di(r);if((h||!h&&!i)&&((Xu(r)!=="body"||zm(o))&&(c=Sy(r)),di(r))){const p=kc(r);d=Ud(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const f=o&&!h&&!i?X5(o,c,!0):oi(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:n.y*d.y-c.scrollTop*d.y+u.y+f.y}}function Ote(e){return Array.from(e.getClientRects())}function Mte(e){const t=gi(e),n=Sy(e),r=e.ownerDocument.body,a=vs(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=vs(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+tC(e);const l=-n.scrollTop;return Pa(r).direction==="rtl"&&(o+=vs(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}function Dte(e,t){const n=Ns(e),r=gi(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=JS();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const Rte=new Set(["absolute","fixed"]);function Ite(e,t){const n=kc(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=di(e)?Ud(e):oi(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=r*i.y;return{width:o,height:l,x:c,y:d}}function fT(e,t,n){let r;if(t==="viewport")r=Dte(e,n);else if(t==="document")r=Mte(gi(e));else if(Aa(t))r=Ite(t,n);else{const a=Y5(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Rv(r)}function Z5(e,t){const n=ul(e);return n===t||!Aa(n)||gu(n)?!1:Pa(n).position==="fixed"||Z5(n,t)}function $te(e,t){const n=t.get(e);if(n)return n;let r=tm(e,[],!1).filter(l=>Aa(l)&&Xu(l)!=="body"),a=null;const i=Pa(e).position==="fixed";let o=i?ul(e):e;for(;Aa(o)&&!gu(o);){const l=Pa(o),c=QS(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&Rte.has(a.position)||zm(o)&&!c&&Z5(e,o))?r=r.filter(u=>u!==o):a=l,o=ul(o)}return t.set(e,r),r}function Lte(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?_y(t)?[]:$te(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,u)=>{const h=fT(t,u,a);return d.top=vs(h.top,d.top),d.right=dl(h.right,d.right),d.bottom=dl(h.bottom,d.bottom),d.left=vs(h.left,d.left),d},fT(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Fte(e){const{width:t,height:n}=G5(e);return{width:t,height:n}}function Bte(e,t,n){const r=di(t),a=gi(t),i=n==="fixed",o=kc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=oi(0);function d(){c.x=tC(a)}if(r||!r&&!i)if((Xu(t)!=="body"||zm(a))&&(l=Sy(t)),r){const p=kc(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&d();i&&!r&&a&&d();const u=a&&!r&&!i?X5(a,l):oi(0),h=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function aw(e){return Pa(e).position==="static"}function mT(e,t){if(!di(e)||Pa(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return gi(e)===n&&(n=n.ownerDocument.body),n}function Q5(e,t){const n=Ns(e);if(_y(e))return n;if(!di(e)){let a=ul(e);for(;a&&!gu(a);){if(Aa(a)&&!aw(a))return a;a=ul(a)}return n}let r=mT(e,t);for(;r&&bte(r)&&aw(r);)r=mT(r,t);return r&&gu(r)&&aw(r)&&!QS(r)?n:r||kte(e)||n}const zte=async function(e){const t=this.getOffsetParent||Q5,n=this.getDimensions,r=await n(e.floating);return{reference:Bte(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ute(e){return Pa(e).direction==="rtl"}const Vte={convertOffsetParentRelativeRectToViewportRelativeRect:Tte,getDocumentElement:gi,getClippingRect:Lte,getOffsetParent:Q5,getElementRects:zte,getClientRects:Ote,getDimensions:Fte,getScale:Ud,isElement:Aa,isRTL:Ute};function J5(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Wte(e,t){let n=null,r;const a=gi(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=d;if(l||t(),!f||!p)return;const g=ng(h),v=ng(a.clientWidth-(u+f)),j=ng(a.clientHeight-(h+p)),y=ng(u),w={rootMargin:-g+"px "+-v+"px "+-j+"px "+-y+"px",threshold:vs(0,dl(1,c))||1};let b=!0;function S(_){const N=_[0].intersectionRatio;if(N!==c){if(!b)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!J5(d,e.getBoundingClientRect())&&o(),b=!1}try{n=new IntersectionObserver(S,{...w,root:a.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(e)}return o(!0),i}function qte(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=eC(e),u=a||i?[...d?tm(d):[],...tm(t)]:[];u.forEach(y=>{a&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const h=d&&l?Wte(d,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),n()}),d&&!c&&p.observe(d),p.observe(t));let g,v=c?kc(e):null;c&&j();function j(){const y=kc(e);v&&!J5(v,y)&&n(),v=y,g=requestAnimationFrame(j)}return n(),()=>{var y;u.forEach(x=>{a&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const Hte=gte,Kte=vte,Gte=fte,Yte=yte,Xte=mte,pT=hte,Zte=xte,Qte=(e,t,n)=>{const r=new Map,a={platform:Vte,...n},i={...a.platform,_c:r};return ute(e,t,{...a,platform:i})};var Jte=typeof document<"u",ene=function(){},Kg=Jte?m.useLayoutEffect:ene;function Iv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Iv(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!Iv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function eL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gT(e,t){const n=eL(e);return Math.round(t*n)/n}function iw(e){const t=m.useRef(e);return Kg(()=>{t.current=e}),t}function tne(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=m.useState(r);Iv(f,r)||p(r);const[g,v]=m.useState(null),[j,y]=m.useState(null),x=m.useCallback(B=>{B!==_.current&&(_.current=B,v(B))},[]),w=m.useCallback(B=>{B!==N.current&&(N.current=B,y(B))},[]),b=i||g,S=o||j,_=m.useRef(null),N=m.useRef(null),C=m.useRef(u),k=c!=null,A=iw(c),O=iw(a),M=iw(d),z=m.useCallback(()=>{if(!_.current||!N.current)return;const B={placement:t,strategy:n,middleware:f};O.current&&(B.platform=O.current),Qte(_.current,N.current,B).then(L=>{const Q={...L,isPositioned:M.current!==!1};P.current&&!Iv(C.current,Q)&&(C.current=Q,no.flushSync(()=>{h(Q)}))})},[f,t,n,O,M]);Kg(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(B=>({...B,isPositioned:!1})))},[d]);const P=m.useRef(!1);Kg(()=>(P.current=!0,()=>{P.current=!1}),[]),Kg(()=>{if(b&&(_.current=b),S&&(N.current=S),b&&S){if(A.current)return A.current(b,S,z);z()}},[b,S,z,A,k]);const E=m.useMemo(()=>({reference:_,floating:N,setReference:x,setFloating:w}),[x,w]),U=m.useMemo(()=>({reference:b,floating:S}),[b,S]),R=m.useMemo(()=>{const B={position:n,left:0,top:0};if(!U.floating)return B;const L=gT(U.floating,u.x),Q=gT(U.floating,u.y);return l?{...B,transform:"translate("+L+"px, "+Q+"px)",...eL(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:Q}},[n,l,U.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:z,refs:E,elements:U,floatingStyles:R}),[u,z,E,U,R])}const nne=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?pT({element:r.current,padding:a}).fn(n):{}:r?pT({element:r,padding:a}).fn(n):{}}}},rne=(e,t)=>({...Hte(e),options:[e,t]}),sne=(e,t)=>({...Kte(e),options:[e,t]}),ane=(e,t)=>({...Zte(e),options:[e,t]}),ine=(e,t)=>({...Gte(e),options:[e,t]}),one=(e,t)=>({...Yte(e),options:[e,t]}),lne=(e,t)=>({...Xte(e),options:[e,t]}),cne=(e,t)=>({...nne(e),options:[e,t]});var dne="Arrow",tL=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(Ce.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});tL.displayName=dne;var une=tL;function Cy(e){const[t,n]=m.useState(void 0);return Nn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var nC="Popper",[nL,Cl]=Ln(nC),[hne,rL]=nL(nC),sL=e=>{const{__scopePopper:t,children:n}=e,[r,a]=m.useState(null);return s.jsx(hne,{scope:t,anchor:r,onAnchorChange:a,children:n})};sL.displayName=nC;var aL="PopperAnchor",iL=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=rL(aL,n),o=m.useRef(null),l=Ze(t,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(Ce.div,{...a,ref:l})});iL.displayName=aL;var rC="PopperContent",[fne,mne]=nL(rC),oL=m.forwardRef((e,t)=>{var I,Z,J,X,he,D;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...v}=e,j=rL(rC,n),[y,x]=m.useState(null),w=Ze(t,ee=>x(ee)),[b,S]=m.useState(null),_=Cy(b),N=(_==null?void 0:_.width)??0,C=(_==null?void 0:_.height)??0,k=r+(i!=="center"?"-"+i:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(d)?d:[d],M=O.length>0,z={padding:A,boundary:O.filter(gne),altBoundary:M},{refs:P,floatingStyles:E,placement:U,isPositioned:R,middlewareData:B}=tne({strategy:"fixed",placement:k,whileElementsMounted:(...ee)=>qte(...ee,{animationFrame:p==="always"}),elements:{reference:j.anchor},middleware:[rne({mainAxis:a+C,alignmentAxis:o}),c&&sne({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?ane():void 0,...z}),c&&ine({...z}),one({...z,apply:({elements:ee,rects:pe,availableWidth:Oe,availableHeight:Y})=>{const{width:ye,height:We}=pe.reference,_t=ee.floating.style;_t.setProperty("--radix-popper-available-width",`${Oe}px`),_t.setProperty("--radix-popper-available-height",`${Y}px`),_t.setProperty("--radix-popper-anchor-width",`${ye}px`),_t.setProperty("--radix-popper-anchor-height",`${We}px`)}}),b&&cne({element:b,padding:l}),vne({arrowWidth:N,arrowHeight:C}),f&&lne({strategy:"referenceHidden",...z})]}),[L,Q]=dL(U),se=hn(g);Nn(()=>{R&&(se==null||se())},[R,se]);const W=(I=B.arrow)==null?void 0:I.x,ie=(Z=B.arrow)==null?void 0:Z.y,ue=((J=B.arrow)==null?void 0:J.centerOffset)!==0,[oe,Se]=m.useState();return Nn(()=>{y&&Se(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...E,transform:R?E.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(X=B.transformOrigin)==null?void 0:X.x,(he=B.transformOrigin)==null?void 0:he.y].join(" "),...((D=B.hide)==null?void 0:D.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(fne,{scope:n,placedSide:L,onArrowChange:S,arrowX:W,arrowY:ie,shouldHideArrow:ue,children:s.jsx(Ce.div,{"data-side":L,"data-align":Q,...v,ref:w,style:{...v.style,animation:R?void 0:"none"}})})})});oL.displayName=rC;var lL="PopperArrow",pne={top:"bottom",right:"left",bottom:"top",left:"right"},cL=m.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=mne(lL,r),o=pne[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(une,{...a,ref:n,style:{...a.style,display:"block"}})})});cL.displayName=lL;function gne(e){return e!==null}var vne=e=>({name:"transformOrigin",options:e,fn(t){var j,y,x;const{placement:n,rects:r,middlewareData:a}=t,o=((j=a.arrow)==null?void 0:j.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=dL(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,p=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let g="",v="";return d==="bottom"?(g=o?h:`${f}px`,v=`${-c}px`):d==="top"?(g=o?h:`${f}px`,v=`${r.floating.height+c}px`):d==="right"?(g=`${-c}px`,v=o?h:`${p}px`):d==="left"&&(g=`${r.floating.width+c}px`,v=o?h:`${p}px`),{data:{x:g,y:v}}}});function dL(e){const[t,n="center"]=e.split("-");return[t,n]}var sC=sL,Um=iL,ky=oL,Ay=cL,[Py,mTe]=Ln("Tooltip",[Cl]),aC=Cl(),uL="TooltipProvider",xne=700,vT="tooltip.open",[yne,hL]=Py(uL),fL=e=>{const{__scopeTooltip:t,delayDuration:n=xne,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=e,o=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(yne,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};fL.displayName=uL;var mL="Tooltip",[pTe,Ey]=Py(mL),O1="TooltipTrigger",jne=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Ey(O1,n),i=hL(O1,n),o=aC(n),l=m.useRef(null),c=Ze(t,l,a.onTriggerChange),d=m.useRef(!1),u=m.useRef(!1),h=m.useCallback(()=>d.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(Um,{asChild:!0,...o,children:s.jsx(Ce.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:ge(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:ge(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:ge(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ge(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:ge(e.onBlur,a.onClose),onClick:ge(e.onClick,a.onClose)})})});jne.displayName=O1;var wne="TooltipPortal",[gTe,bne]=Py(wne,{forceMount:void 0}),vu="TooltipContent",pL=m.forwardRef((e,t)=>{const n=bne(vu,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=e,o=Ey(vu,e.__scopeTooltip);return s.jsx(Fn,{present:r||o.open,children:o.disableHoverableContent?s.jsx(gL,{side:a,...i,ref:t}):s.jsx(Nne,{side:a,...i,ref:t})})}),Nne=m.forwardRef((e,t)=>{const n=Ey(vu,e.__scopeTooltip),r=hL(vu,e.__scopeTooltip),a=m.useRef(null),i=Ze(t,a),[o,l]=m.useState(null),{trigger:c,onClose:d}=n,u=a.current,{onPointerInTransitChange:h}=r,f=m.useCallback(()=>{l(null),h(!1)},[h]),p=m.useCallback((g,v)=>{const j=g.currentTarget,y={x:g.clientX,y:g.clientY},x=Ane(y,j.getBoundingClientRect()),w=Pne(y,x),b=Ene(v.getBoundingClientRect()),S=One([...w,...b]);l(S),h(!0)},[h]);return m.useEffect(()=>()=>f(),[f]),m.useEffect(()=>{if(c&&u){const g=j=>p(j,u),v=j=>p(j,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",v)}}},[c,u,p,f]),m.useEffect(()=>{if(o){const g=v=>{const j=v.target,y={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(j))||(u==null?void 0:u.contains(j)),w=!Tne(y,o);x?f():w&&(f(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,o,d,f]),s.jsx(gL,{...e,ref:i})}),[_ne,Sne]=Py(mL,{isInside:!1}),Cne=$3("TooltipContent"),gL=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Ey(vu,n),d=aC(n),{onClose:u}=c;return m.useEffect(()=>(document.addEventListener(vT,u),()=>document.removeEventListener(vT,u)),[u]),m.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),s.jsx(Vc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:s.jsxs(ky,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Cne,{children:r}),s.jsx(_ne,{scope:n,isInside:!0,children:s.jsx(VQ,{id:c.contentId,role:"tooltip",children:a||r})})]})})});pL.displayName=vu;var vL="TooltipArrow",kne=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=aC(n);return Sne(vL,n).isInside?null:s.jsx(Ay,{...a,...r,ref:t})});kne.displayName=vL;function Ane(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Pne(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Ene(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function Tne(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,f=c.y;u>r!=f>r&&n<(h-d)*(r-u)/(f-u)+d&&(a=!a)}return a}function One(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Mne(t)}function Mne(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Dne=fL,xL=pL;const Rne=Dne,Ine=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(xL,{ref:r,sideOffset:t,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Ine.displayName=xL.displayName;var Ty=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Oy=typeof window>"u"||"Deno"in globalThis;function pa(){}function $ne(e,t){return typeof e=="function"?e(t):e}function Lne(e){return typeof e=="number"&&e>=0&&e!==1/0}function Fne(e,t){return Math.max(e+(t||0)-Date.now(),0)}function M1(e,t){return typeof e=="function"?e(t):e}function Bne(e,t){return typeof e=="function"?e(t):e}function xT(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==iC(o,t.options))return!1}else if(!rm(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function yT(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(nm(t.options.mutationKey)!==nm(i))return!1}else if(!rm(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function iC(e,t){return((t==null?void 0:t.queryKeyHashFn)||nm)(e)}function nm(e){return JSON.stringify(e,(t,n)=>D1(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function rm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>rm(e[n],t[n])):!1}function yL(e,t){if(e===t)return e;const n=jT(e)&&jT(t);if(n||D1(e)&&D1(t)){const r=n?e:Object.keys(e),a=r.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{},c=new Set(r);let d=0;for(let u=0;u<o;u++){const h=n?u:i[u];(!n&&c.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,d++):(l[h]=yL(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&d++)}return a===o&&d===a?e:l}return t}function jT(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function D1(e){if(!wT(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!wT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function wT(e){return Object.prototype.toString.call(e)==="[object Object]"}function zne(e){return new Promise(t=>{setTimeout(t,e)})}function Une(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?yL(e,t):t}function Vne(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Wne(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var oC=Symbol();function jL(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===oC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ic,$o,Xd,ID,qne=(ID=class extends Ty{constructor(){super();xt(this,ic);xt(this,$o);xt(this,Xd);nt(this,Xd,t=>{if(!Oy&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){de(this,$o)||this.setEventListener(de(this,Xd))}onUnsubscribe(){var t;this.hasListeners()||((t=de(this,$o))==null||t.call(this),nt(this,$o,void 0))}setEventListener(t){var n;nt(this,Xd,t),(n=de(this,$o))==null||n.call(this),nt(this,$o,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){de(this,ic)!==t&&(nt(this,ic,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof de(this,ic)=="boolean"?de(this,ic):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ic=new WeakMap,$o=new WeakMap,Xd=new WeakMap,ID),wL=new qne,Zd,Lo,Qd,$D,Hne=($D=class extends Ty{constructor(){super();xt(this,Zd,!0);xt(this,Lo);xt(this,Qd);nt(this,Qd,t=>{if(!Oy&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){de(this,Lo)||this.setEventListener(de(this,Qd))}onUnsubscribe(){var t;this.hasListeners()||((t=de(this,Lo))==null||t.call(this),nt(this,Lo,void 0))}setEventListener(t){var n;nt(this,Qd,t),(n=de(this,Lo))==null||n.call(this),nt(this,Lo,t(this.setOnline.bind(this)))}setOnline(t){de(this,Zd)!==t&&(nt(this,Zd,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return de(this,Zd)}},Zd=new WeakMap,Lo=new WeakMap,Qd=new WeakMap,$D),$v=new Hne;function Kne(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function Gne(e){return Math.min(1e3*2**e,3e4)}function bL(e){return(e??"online")==="online"?$v.isOnline():!0}var NL=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ow(e){return e instanceof NL}function _L(e){let t=!1,n=0,r=!1,a;const i=Kne(),o=v=>{var j;r||(f(new NL(v)),(j=e.abort)==null||j.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>wL.isFocused()&&(e.networkMode==="always"||$v.isOnline())&&e.canRun(),u=()=>bL(e.networkMode)&&e.canRun(),h=v=>{var j;r||(r=!0,(j=e.onSuccess)==null||j.call(e,v),a==null||a(),i.resolve(v))},f=v=>{var j;r||(r=!0,(j=e.onError)==null||j.call(e,v),a==null||a(),i.reject(v))},p=()=>new Promise(v=>{var j;a=y=>{(r||d())&&v(y)},(j=e.onPause)==null||j.call(e)}).then(()=>{var v;a=void 0,r||(v=e.onContinue)==null||v.call(e)}),g=()=>{if(r)return;let v;const j=n===0?e.initialPromise:void 0;try{v=j??e.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(h).catch(y=>{var _;if(r)return;const x=e.retry??(Oy?0:3),w=e.retryDelay??Gne,b=typeof w=="function"?w(n,y):w,S=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,y);if(t||!S){f(y);return}n++,(_=e.onFail)==null||_.call(e,n,y),zne(b).then(()=>d()?void 0:p()).then(()=>{t?f(y):g()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():p().then(g),i)}}var Yne=e=>setTimeout(e,0);function Xne(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=Yne;const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var Tr=Xne(),oc,LD,SL=(LD=class{constructor(){xt(this,oc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Lne(this.gcTime)&&nt(this,oc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Oy?1/0:5*60*1e3))}clearGcTimeout(){de(this,oc)&&(clearTimeout(de(this,oc)),nt(this,oc,void 0))}},oc=new WeakMap,LD),Jd,lc,zs,cc,vr,km,dc,ga,bi,FD,Zne=(FD=class extends SL{constructor(t){super();xt(this,ga);xt(this,Jd);xt(this,lc);xt(this,zs);xt(this,cc);xt(this,vr);xt(this,km);xt(this,dc);nt(this,dc,!1),nt(this,km,t.defaultOptions),this.setOptions(t.options),this.observers=[],nt(this,cc,t.client),nt(this,zs,de(this,cc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,nt(this,Jd,Jne(this.options)),this.state=t.state??de(this,Jd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=de(this,vr))==null?void 0:t.promise}setOptions(t){this.options={...de(this,km),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&de(this,zs).remove(this)}setData(t,n){const r=Une(this.state.data,t,this.options);return mr(this,ga,bi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){mr(this,ga,bi).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=de(this,vr))==null?void 0:r.promise;return(a=de(this,vr))==null||a.cancel(t),n?n.then(pa).catch(pa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(de(this,Jd))}isActive(){return this.observers.some(t=>Bne(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>M1(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Fne(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=de(this,vr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=de(this,vr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),de(this,zs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(de(this,vr)&&(de(this,dc)?de(this,vr).cancel({revert:!0}):de(this,vr).cancelRetry()),this.scheduleGc()),de(this,zs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mr(this,ga,bi).call(this,{type:"invalidate"})}fetch(t,n){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(de(this,vr))return de(this,vr).continueRetry(),de(this,vr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(nt(this,dc,!0),r.signal)})},i=()=>{const f=jL(this.options,n),g=(()=>{const v={client:de(this,cc),queryKey:this.queryKey,meta:this.meta};return a(v),v})();return nt(this,dc,!1),this.options.persister?this.options.persister(f,g,this):f(g)},l=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:de(this,cc),state:this.state,fetchFn:i};return a(f),f})();(d=this.options.behavior)==null||d.onFetch(l,this),nt(this,lc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&mr(this,ga,bi).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=f=>{var p,g,v,j;ow(f)&&f.silent||mr(this,ga,bi).call(this,{type:"error",error:f}),ow(f)||((g=(p=de(this,zs).config).onError)==null||g.call(p,f,this),(j=(v=de(this,zs).config).onSettled)==null||j.call(v,this.state.data,f,this)),this.scheduleGc()};return nt(this,vr,_L({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,g,v,j;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){c(y);return}(g=(p=de(this,zs).config).onSuccess)==null||g.call(p,f,this),(j=(v=de(this,zs).config).onSettled)==null||j.call(v,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,p)=>{mr(this,ga,bi).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{mr(this,ga,bi).call(this,{type:"pause"})},onContinue:()=>{mr(this,ga,bi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),de(this,vr).start()}},Jd=new WeakMap,lc=new WeakMap,zs=new WeakMap,cc=new WeakMap,vr=new WeakMap,km=new WeakMap,dc=new WeakMap,ga=new WeakSet,bi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Qne(r.data,this.options),fetchMeta:t.meta??null};case"success":return nt(this,lc,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return ow(a)&&a.revert&&de(this,lc)?{...de(this,lc),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Tr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),de(this,zs).notify({query:this,type:"updated",action:t})})},FD);function Qne(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bL(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Jne(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ka,BD,ere=(BD=class extends Ty{constructor(t={}){super();xt(this,Ka);this.config=t,nt(this,Ka,new Map)}build(t,n,r){const a=n.queryKey,i=n.queryHash??iC(a,n);let o=this.get(i);return o||(o=new Zne({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){de(this,Ka).has(t.queryHash)||(de(this,Ka).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=de(this,Ka).get(t.queryHash);n&&(t.destroy(),n===t&&de(this,Ka).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Tr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return de(this,Ka).get(t)}getAll(){return[...de(this,Ka).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>xT(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>xT(t,r)):n}notify(t){Tr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Tr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Tr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ka=new WeakMap,BD),Ga,Pr,uc,Ya,So,zD,tre=(zD=class extends SL{constructor(t){super();xt(this,Ya);xt(this,Ga);xt(this,Pr);xt(this,uc);this.mutationId=t.mutationId,nt(this,Pr,t.mutationCache),nt(this,Ga,[]),this.state=t.state||nre(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){de(this,Ga).includes(t)||(de(this,Ga).push(t),this.clearGcTimeout(),de(this,Pr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){nt(this,Ga,de(this,Ga).filter(n=>n!==t)),this.scheduleGc(),de(this,Pr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){de(this,Ga).length||(this.state.status==="pending"?this.scheduleGc():de(this,Pr).remove(this))}continue(){var t;return((t=de(this,uc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,d,u,h,f,p,g,v,j,y,x,w,b,S,_,N,C;const n=()=>{mr(this,Ya,So).call(this,{type:"continue"})};nt(this,uc,_L({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,A)=>{mr(this,Ya,So).call(this,{type:"failed",failureCount:k,error:A})},onPause:()=>{mr(this,Ya,So).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>de(this,Pr).canRun(this)}));const r=this.state.status==="pending",a=!de(this,uc).canStart();try{if(r)n();else{mr(this,Ya,So).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=de(this,Pr).config).onMutate)==null?void 0:o.call(i,t,this));const A=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));A!==this.state.context&&mr(this,Ya,So).call(this,{type:"pending",context:A,variables:t,isPaused:a})}const k=await de(this,uc).start();return await((u=(d=de(this,Pr).config).onSuccess)==null?void 0:u.call(d,k,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,k,t,this.state.context)),await((g=(p=de(this,Pr).config).onSettled)==null?void 0:g.call(p,k,null,this.state.variables,this.state.context,this)),await((j=(v=this.options).onSettled)==null?void 0:j.call(v,k,null,t,this.state.context)),mr(this,Ya,So).call(this,{type:"success",data:k}),k}catch(k){try{throw await((x=(y=de(this,Pr).config).onError)==null?void 0:x.call(y,k,t,this.state.context,this)),await((b=(w=this.options).onError)==null?void 0:b.call(w,k,t,this.state.context)),await((_=(S=de(this,Pr).config).onSettled)==null?void 0:_.call(S,void 0,k,this.state.variables,this.state.context,this)),await((C=(N=this.options).onSettled)==null?void 0:C.call(N,void 0,k,t,this.state.context)),k}finally{mr(this,Ya,So).call(this,{type:"error",error:k})}}finally{de(this,Pr).runNext(this)}}},Ga=new WeakMap,Pr=new WeakMap,uc=new WeakMap,Ya=new WeakSet,So=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Tr.batch(()=>{de(this,Ga).forEach(r=>{r.onMutationUpdate(t)}),de(this,Pr).notify({mutation:this,type:"updated",action:t})})},zD);function nre(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ci,va,Am,UD,rre=(UD=class extends Ty{constructor(t={}){super();xt(this,Ci);xt(this,va);xt(this,Am);this.config=t,nt(this,Ci,new Set),nt(this,va,new Map),nt(this,Am,0)}build(t,n,r){const a=new tre({mutationCache:this,mutationId:++Ep(this,Am)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){de(this,Ci).add(t);const n=rg(t);if(typeof n=="string"){const r=de(this,va).get(n);r?r.push(t):de(this,va).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(de(this,Ci).delete(t)){const n=rg(t);if(typeof n=="string"){const r=de(this,va).get(n);if(r)if(r.length>1){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}else r[0]===t&&de(this,va).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=rg(t);if(typeof n=="string"){const r=de(this,va).get(n),a=r==null?void 0:r.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var r;const n=rg(t);if(typeof n=="string"){const a=(r=de(this,va).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Tr.batch(()=>{de(this,Ci).forEach(t=>{this.notify({type:"removed",mutation:t})}),de(this,Ci).clear(),de(this,va).clear()})}getAll(){return Array.from(de(this,Ci))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>yT(n,r))}findAll(t={}){return this.getAll().filter(n=>yT(t,n))}notify(t){Tr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Tr.batch(()=>Promise.all(t.map(n=>n.continue().catch(pa))))}},Ci=new WeakMap,va=new WeakMap,Am=new WeakMap,UD);function rg(e){var t;return(t=e.options.scope)==null?void 0:t.id}function bT(e){return{onFetch:(t,n)=>{var u,h,f,p,g;const r=t.options,a=(f=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const j=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},y=jL(t.options,t.fetchOptions),x=async(w,b,S)=>{if(v)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:b,direction:S?"backward":"forward",meta:t.options.meta};return j(O),O})(),C=await y(N),{maxPages:k}=t.options,A=S?Wne:Vne;return{pages:A(w.pages,C,k),pageParams:A(w.pageParams,b,k)}};if(a&&i.length){const w=a==="backward",b=w?sre:NT,S={pages:i,pageParams:o},_=b(r,S);l=await x(S,_,w)}else{const w=e??i.length;do{const b=c===0?o[0]??r.initialPageParam:NT(r,l);if(c>0&&b==null)break;l=await x(l,b),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var v,j;return(j=(v=t.options).persister)==null?void 0:j.call(v,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function NT(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function sre(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var on,Fo,Bo,eu,tu,zo,nu,ru,VD,are=(VD=class{constructor(e={}){xt(this,on);xt(this,Fo);xt(this,Bo);xt(this,eu);xt(this,tu);xt(this,zo);xt(this,nu);xt(this,ru);nt(this,on,e.queryCache||new ere),nt(this,Fo,e.mutationCache||new rre),nt(this,Bo,e.defaultOptions||{}),nt(this,eu,new Map),nt(this,tu,new Map),nt(this,zo,0)}mount(){Ep(this,zo)._++,de(this,zo)===1&&(nt(this,nu,wL.subscribe(async e=>{e&&(await this.resumePausedMutations(),de(this,on).onFocus())})),nt(this,ru,$v.subscribe(async e=>{e&&(await this.resumePausedMutations(),de(this,on).onOnline())})))}unmount(){var e,t;Ep(this,zo)._--,de(this,zo)===0&&((e=de(this,nu))==null||e.call(this),nt(this,nu,void 0),(t=de(this,ru))==null||t.call(this),nt(this,ru,void 0))}isFetching(e){return de(this,on).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return de(this,Fo).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=de(this,on).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=de(this,on).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(M1(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return de(this,on).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=de(this,on).get(r.queryHash),i=a==null?void 0:a.state.data,o=$ne(t,i);if(o!==void 0)return de(this,on).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Tr.batch(()=>de(this,on).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=de(this,on).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=de(this,on);Tr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=de(this,on);return Tr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Tr.batch(()=>de(this,on).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(pa).catch(pa)}invalidateQueries(e,t={}){return Tr.batch(()=>(de(this,on).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Tr.batch(()=>de(this,on).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(pa)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(pa)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=de(this,on).build(this,t);return n.isStaleByTime(M1(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(pa).catch(pa)}fetchInfiniteQuery(e){return e.behavior=bT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(pa).catch(pa)}ensureInfiniteQueryData(e){return e.behavior=bT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $v.isOnline()?de(this,Fo).resumePausedMutations():Promise.resolve()}getQueryCache(){return de(this,on)}getMutationCache(){return de(this,Fo)}getDefaultOptions(){return de(this,Bo)}setDefaultOptions(e){nt(this,Bo,e)}setQueryDefaults(e,t){de(this,eu).set(nm(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...de(this,eu).values()],n={};return t.forEach(r=>{rm(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){de(this,tu).set(nm(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...de(this,tu).values()],n={};return t.forEach(r=>{rm(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...de(this,Bo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=iC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===oC&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...de(this,Bo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){de(this,on).clear(),de(this,Fo).clear()}},on=new WeakMap,Fo=new WeakMap,Bo=new WeakMap,eu=new WeakMap,tu=new WeakMap,zo=new WeakMap,nu=new WeakMap,ru=new WeakMap,VD),ire=m.createContext(void 0),ore=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(ire.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sm.apply(this,arguments)}var Wo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wo||(Wo={}));const _T="popstate";function lre(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:l}=r.location;return R1("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Lv(a)}return dre(t,n,null,e)}function tn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function CL(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function cre(){return Math.random().toString(36).substr(2,8)}function ST(e,t){return{usr:e.state,key:e.key,idx:t}}function R1(e,t,n,r){return n===void 0&&(n=null),sm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zu(t):t,{state:n,key:t&&t.key||r||cre()})}function Lv(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Zu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function dre(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=Wo.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(sm({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Wo.Pop;let j=u(),y=j==null?null:j-d;d=j,c&&c({action:l,location:v.location,delta:y})}function f(j,y){l=Wo.Push;let x=R1(v.location,j,y);d=u()+1;let w=ST(x,d),b=v.createHref(x);try{o.pushState(w,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(b)}i&&c&&c({action:l,location:v.location,delta:1})}function p(j,y){l=Wo.Replace;let x=R1(v.location,j,y);d=u();let w=ST(x,d),b=v.createHref(x);o.replaceState(w,"",b),i&&c&&c({action:l,location:v.location,delta:0})}function g(j){let y=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof j=="string"?j:Lv(j);return x=x.replace(/ $/,"%20"),tn(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return l},get location(){return e(a,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(_T,h),c=j,()=>{a.removeEventListener(_T,h),c=null}},createHref(j){return t(a,j)},createURL:g,encodeLocation(j){let y=g(j);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(j){return o.go(j)}};return v}var CT;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(CT||(CT={}));function ure(e,t,n){return n===void 0&&(n="/"),hre(e,t,n,!1)}function hre(e,t,n,r){let a=typeof t=="string"?Zu(t):t,i=xu(a.pathname||"/",n);if(i==null)return null;let o=kL(e);fre(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=_re(i);l=bre(o[c],d,r)}return l}function kL(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(tn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=tl([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(tn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),kL(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:jre(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of AL(i.path))a(i,o,c)}),t}function AL(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=AL(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function fre(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:wre(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const mre=/^:[\w-]+$/,pre=3,gre=2,vre=1,xre=10,yre=-2,kT=e=>e==="*";function jre(e,t){let n=e.split("/"),r=n.length;return n.some(kT)&&(r+=yre),t&&(r+=gre),n.filter(a=>!kT(a)).reduce((a,i)=>a+(mre.test(i)?pre:i===""?vre:xre),r)}function wre(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function bre(e,t,n){let{routesMeta:r}=e,a={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=Fv({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h&&d&&n&&!r[r.length-1].route.index&&(h=Fv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:tl([i,h.pathname]),pathnameBase:Are(tl([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=tl([i,h.pathnameBase]))}return o}function Fv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Nre(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((d,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[h];return p&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function Nre(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),CL(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function _re(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return CL(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Sre(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Zu(e):e;return{pathname:n?n.startsWith("/")?n:Cre(n,t):t,search:Pre(r),hash:Ere(a)}}function Cre(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function lw(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kre(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function lC(e,t){let n=kre(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function cC(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=Zu(e):(a=sm({},e),tn(!a.pathname||!a.pathname.includes("?"),lw("?","pathname","search",a)),tn(!a.pathname||!a.pathname.includes("#"),lw("#","pathname","hash",a)),tn(!a.search||!a.search.includes("#"),lw("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=Sre(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const tl=e=>e.join("/").replace(/\/\/+/g,"/"),Are=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Pre=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ere=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Tre(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const PL=["post","put","patch","delete"];new Set(PL);const Ore=["get",...PL];new Set(Ore);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},am.apply(this,arguments)}const My=m.createContext(null),EL=m.createContext(null),ao=m.createContext(null),Dy=m.createContext(null),kl=m.createContext({outlet:null,matches:[],isDataRoute:!1}),TL=m.createContext(null);function Mre(e,t){let{relative:n}=t===void 0?{}:t;Qu()||tn(!1);let{basename:r,navigator:a}=m.useContext(ao),{hash:i,pathname:o,search:l}=Ry(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:tl([r,o])),a.createHref({pathname:c,search:l,hash:i})}function Qu(){return m.useContext(Dy)!=null}function io(){return Qu()||tn(!1),m.useContext(Dy).location}function OL(e){m.useContext(ao).static||m.useLayoutEffect(e)}function ur(){let{isDataRoute:e}=m.useContext(kl);return e?Hre():Dre()}function Dre(){Qu()||tn(!1);let e=m.useContext(My),{basename:t,future:n,navigator:r}=m.useContext(ao),{matches:a}=m.useContext(kl),{pathname:i}=io(),o=JSON.stringify(lC(a,n.v7_relativeSplatPath)),l=m.useRef(!1);return OL(()=>{l.current=!0}),m.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let h=cC(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:tl([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,o,i,e])}function Ry(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(ao),{matches:a}=m.useContext(kl),{pathname:i}=io(),o=JSON.stringify(lC(a,r.v7_relativeSplatPath));return m.useMemo(()=>cC(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Rre(e,t){return Ire(e,t)}function Ire(e,t,n,r){Qu()||tn(!1);let{navigator:a}=m.useContext(ao),{matches:i}=m.useContext(kl),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=io(),u;if(t){var h;let j=typeof t=="string"?Zu(t):t;c==="/"||(h=j.pathname)!=null&&h.startsWith(c)||tn(!1),u=j}else u=d;let f=u.pathname||"/",p=f;if(c!=="/"){let j=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(j.length).join("/")}let g=ure(e,{pathname:p}),v=zre(g&&g.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:tl([c,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:tl([c,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,n,r);return t&&v?m.createElement(Dy.Provider,{value:{location:am({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wo.Pop}},v):v}function $re(){let e=qre(),t=Tre(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:a},n):null,null)}const Lre=m.createElement($re,null);class Fre extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(kl.Provider,{value:this.props.routeContext},m.createElement(TL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Bre(e){let{routeContext:t,match:n,children:r}=e,a=m.useContext(My);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(kl.Provider,{value:t},r)}function zre(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||tn(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,g=!1,v=null,j=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||Lre,c&&(d<0&&f===0?(g=!0,j=null):d===f&&(g=!0,j=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),x=()=>{let w;return p?w=v:g?w=j:h.route.Component?w=m.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,m.createElement(Bre,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?m.createElement(Fre,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var ML=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ML||{}),Bv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Bv||{});function Ure(e){let t=m.useContext(My);return t||tn(!1),t}function Vre(e){let t=m.useContext(EL);return t||tn(!1),t}function Wre(e){let t=m.useContext(kl);return t||tn(!1),t}function DL(e){let t=Wre(),n=t.matches[t.matches.length-1];return n.route.id||tn(!1),n.route.id}function qre(){var e;let t=m.useContext(TL),n=Vre(Bv.UseRouteError),r=DL(Bv.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Hre(){let{router:e}=Ure(ML.UseNavigateStable),t=DL(Bv.UseNavigateStable),n=m.useRef(!1);return OL(()=>{n.current=!0}),m.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,am({fromRouteId:t},i)))},[e,t])}function Kre(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Gre(e){let{to:t,replace:n,state:r,relative:a}=e;Qu()||tn(!1);let{future:i,static:o}=m.useContext(ao),{matches:l}=m.useContext(kl),{pathname:c}=io(),d=ur(),u=cC(t,lC(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(u);return m.useEffect(()=>d(JSON.parse(h),{replace:n,state:r,relative:a}),[d,h,a,n,r]),null}function it(e){tn(!1)}function Yre(e){let{basename:t="/",children:n=null,location:r,navigationType:a=Wo.Pop,navigator:i,static:o=!1,future:l}=e;Qu()&&tn(!1);let c=t.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:i,static:o,future:am({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Zu(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,v=m.useMemo(()=>{let j=xu(u,c);return j==null?null:{location:{pathname:j,search:h,hash:f,state:p,key:g},navigationType:a}},[c,u,h,f,p,g,a]);return v==null?null:m.createElement(ao.Provider,{value:d},m.createElement(Dy.Provider,{children:n,value:v}))}function RL(e){let{children:t,location:n}=e;return Rre(I1(t),n)}new Promise(()=>{});function I1(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,a)=>{if(!m.isValidElement(r))return;let i=[...t,a];if(r.type===m.Fragment){n.push.apply(n,I1(r.props.children,i));return}r.type!==it&&tn(!1),!r.props.index||!r.props.children||tn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=I1(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zv.apply(this,arguments)}function IL(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Xre(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Zre(e,t){return e.button===0&&(!t||t==="_self")&&!Xre(e)}const Qre=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Jre=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ese="6";try{window.__reactRouterVersion=ese}catch{}const tse=m.createContext({isTransitioning:!1}),nse="startTransition",AT=Gx[nse];function rse(e){let{basename:t,children:n,future:r,window:a}=e,i=m.useRef();i.current==null&&(i.current=lre({window:a,v5Compat:!0}));let o=i.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},u=m.useCallback(h=>{d&&AT?AT(()=>c(h)):c(h)},[c,d]);return m.useLayoutEffect(()=>o.listen(u),[o,u]),m.useEffect(()=>Kre(r),[r]),m.createElement(Yre,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const sse=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ase=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vd=m.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,f=IL(t,Qre),{basename:p}=m.useContext(ao),g,v=!1;if(typeof d=="string"&&ase.test(d)&&(g=d,sse))try{let w=new URL(window.location.href),b=d.startsWith("//")?new URL(w.protocol+d):new URL(d),S=xu(b.pathname,p);b.origin===w.origin&&S!=null?d=S+b.search+b.hash:v=!0}catch{}let j=Mre(d,{relative:a}),y=lse(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function x(w){r&&r(w),w.defaultPrevented||y(w)}return m.createElement("a",zv({},f,{href:g||j,onClick:v||i?r:x,ref:n,target:c}))}),ise=m.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=t,h=IL(t,Jre),f=Ry(c,{relative:h.relative}),p=io(),g=m.useContext(EL),{navigator:v,basename:j}=m.useContext(ao),y=g!=null&&cse(f)&&d===!0,x=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,w=p.pathname,b=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(w=w.toLowerCase(),b=b?b.toLowerCase():null,x=x.toLowerCase()),b&&j&&(b=xu(b,j)||b);const S=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let _=w===x||!o&&w.startsWith(x)&&w.charAt(S)==="/",N=b!=null&&(b===x||!o&&b.startsWith(x)&&b.charAt(x.length)==="/"),C={isActive:_,isPending:N,isTransitioning:y},k=_?r:void 0,A;typeof i=="function"?A=i(C):A=[i,_?"active":null,N?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(C):l;return m.createElement(Vd,zv({},h,{"aria-current":k,className:A,ref:n,style:O,to:c,viewTransition:d}),typeof u=="function"?u(C):u)});var $1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($1||($1={}));var PT;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(PT||(PT={}));function ose(e){let t=m.useContext(My);return t||tn(!1),t}function lse(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=ur(),d=io(),u=Ry(e,{relative:o});return m.useCallback(h=>{if(Zre(h,n)){h.preventDefault();let f=r!==void 0?r:Lv(d)===Lv(u);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,r,a,n,e,i,o,l])}function cse(e,t){t===void 0&&(t={});let n=m.useContext(tse);n==null&&tn(!1);let{basename:r}=ose($1.useViewTransitionState),a=Ry(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=xu(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=xu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Fv(a.pathname,o)!=null||Fv(a.pathname,i)!=null}const dse="modulepreload",use=function(e){return"/"+e},ET={},Vm=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=use(c),c in ET)return;ET[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":dse,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},hse=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Vm(async()=>{const{default:r}=await Promise.resolve().then(()=>Ju);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class dC extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class TT extends dC{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class OT extends dC{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class MT extends dC{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var L1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(L1||(L1={}));var fse=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class mse{constructor(t,{headers:n={},customFetch:r,region:a=L1.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=hse(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return fse(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o,signal:l}=n;let c={},{region:d}=n;d||(d=this.region);const u=new URL(`${this.url}/${t}`);d&&d!=="any"&&(c["x-region"]=d,u.searchParams.set("forceFunctionRegion",d));let h;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(c["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(c["Content-Type"]="application/json",h=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:h,signal:l}).catch(j=>{throw j.name==="AbortError"?j:new TT(j)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new OT(f);if(!f.ok)throw new MT(f);let g=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield f.json():g==="application/octet-stream"?v=yield f.blob():g==="text/event-stream"?v=f:g==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new TT(a)}:{data:null,error:a,response:a instanceof MT||a instanceof OT?a.context:void 0}}})}}var Yr={},uC={},Iy={},Wm={},$y={},Ly={},pse=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yu=pse();const gse=yu.fetch,$L=yu.fetch.bind(yu),LL=yu.Headers,vse=yu.Request,xse=yu.Response,Ju=Object.freeze(Object.defineProperty({__proto__:null,Headers:LL,Request:vse,Response:xse,default:$L,fetch:gse},Symbol.toStringTag,{value:"Module"})),yse=cq(Ju);var Fy={};Object.defineProperty(Fy,"__esModule",{value:!0});let jse=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Fy.default=jse;var FL=Qs&&Qs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ly,"__esModule",{value:!0});const wse=FL(yse),bse=FL(Fy);let Nse=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=wse.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,d;let u=null,h=null,f=null,p=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=x:h=JSON.parse(x))}const j=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),y=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");j&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,p=406,g="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const j=await i.text();try{u=JSON.parse(j),Array.isArray(u)&&i.status===404&&(h=[],u=null,p=200,g="OK")}catch{i.status===404&&j===""?(p=204,g="No Content"):u={message:j}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&this.shouldThrowOnError)throw new bse.default(u)}return{error:u,data:h,count:f,status:p,statusText:g}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}returns(){return this}overrideTypes(){return this}};Ly.default=Nse;var _se=Qs&&Qs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($y,"__esModule",{value:!0});const Sse=_se(Ly);let Cse=class extends Sse.default{select(t){let n=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:a=r}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};$y.default=Cse;var kse=Qs&&Qs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wm,"__esModule",{value:!0});const Ase=kse($y);let Pse=class extends Ase.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Wm.default=Pse;var Ese=Qs&&Qs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Iy,"__esModule",{value:!0});const Eh=Ese(Wm);let Tse=class{constructor(t,{headers:n={},schema:r,fetch:a}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=a}select(t,{head:n=!1,count:r}={}){const a=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new Eh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var a;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Eh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Eh.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const a="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Eh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Eh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Iy.default=Tse;var BL=Qs&&Qs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uC,"__esModule",{value:!0});const Ose=BL(Iy),Mse=BL(Wm);let Dse=class zL{constructor(t,{headers:n={},schema:r,fetch:a}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new Ose.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new zL(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;r||a?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",d=n);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new Mse.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};uC.default=Dse;var eh=Qs&&Qs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.PostgrestError=Yr.PostgrestBuilder=Yr.PostgrestTransformBuilder=Yr.PostgrestFilterBuilder=Yr.PostgrestQueryBuilder=Yr.PostgrestClient=void 0;const UL=eh(uC);Yr.PostgrestClient=UL.default;const VL=eh(Iy);Yr.PostgrestQueryBuilder=VL.default;const WL=eh(Wm);Yr.PostgrestFilterBuilder=WL.default;const qL=eh($y);Yr.PostgrestTransformBuilder=qL.default;const HL=eh(Ly);Yr.PostgrestBuilder=HL.default;const KL=eh(Fy);Yr.PostgrestError=KL.default;var Rse=Yr.default={PostgrestClient:UL.default,PostgrestQueryBuilder:VL.default,PostgrestFilterBuilder:WL.default,PostgrestTransformBuilder:qL.default,PostgrestBuilder:HL.default,PostgrestError:KL.default};const{PostgrestClient:Ise,PostgrestQueryBuilder:bTe,PostgrestFilterBuilder:NTe,PostgrestTransformBuilder:_Te,PostgrestBuilder:STe,PostgrestError:CTe}=Rse;class $se{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,a=parseInt(r.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Lse="2.15.5",Fse=`realtime-js/${Lse}`,Bse="1.0.0",F1=1e4,zse=1e3,Use=100;var yf;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(yf||(yf={}));var Mn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Mn||(Mn={}));var ya;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ya||(ya={}));var B1;(function(e){e.websocket="websocket"})(B1||(B1={}));var Yl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yl||(Yl={}));class Vse{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const a=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+a));o=o+a;const c=r.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class GL{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Rt||(Rt={}));const DT=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Wse(o,e,t,a),i),{})},Wse=(e,t,n,r)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=n[e];return i&&!r.includes(i)?YL(i,o):z1(o)},YL=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Gse(t,n)}switch(e){case Rt.bool:return qse(t);case Rt.float4:case Rt.float8:case Rt.int2:case Rt.int4:case Rt.int8:case Rt.numeric:case Rt.oid:return Hse(t);case Rt.json:case Rt.jsonb:return Kse(t);case Rt.timestamp:return Yse(t);case Rt.abstime:case Rt.date:case Rt.daterange:case Rt.int4range:case Rt.int8range:case Rt.money:case Rt.reltime:case Rt.text:case Rt.time:case Rt.timestamptz:case Rt.timetz:case Rt.tsrange:case Rt.tstzrange:return z1(t);default:return z1(t)}},z1=e=>e,qse=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Hse=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Kse=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Gse=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>YL(t,l))}return e},Yse=e=>typeof e=="string"?e.replace(" ","T"):e,XL=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class cw{constructor(t,n,r={},a=F1){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var RT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(RT||(RT={}));class jf{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jf.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=jf.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=jf.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const f=u.map(j=>j.presence_ref),p=h.map(j=>j.presence_ref),g=u.filter(j=>p.indexOf(j.presence_ref)<0),v=h.filter(j=>f.indexOf(j.presence_ref)<0);g.length>0&&(l[d]=g),v.length>0&&(c[d]=v)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},r,a)}static syncDiff(t,n,r,a){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(p=>p.presence_ref),f=u.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...f)}r(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var IT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(IT||(IT={}));var wf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(wf||(wf={}));var _i;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(_i||(_i={}));class hC{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new cw(this,ya.join,this.params,this.timeout),this.rejoinTimer=new GL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ya.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new jf(this),this.broadcastEndpointURL=XL(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Mn.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[wf.PRESENCE]&&this.bindings[wf.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(_i.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(_i.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){t==null||t(_i.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,j=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,y=[];for(let x=0;x<j;x++){const w=v[x],{filter:{event:b,schema:S,table:_,filter:N}}=w,C=p&&p[x];if(C&&C.event===b&&C.schema===S&&C.table===_&&C.filter===N)y.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=Mn.errored,t==null||t(_i.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(_i.SUBSCRIBED);return}}).receive("error",p=>{this.state=Mn.errored,t==null||t(_i.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(_i.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Mn.joined&&t===wf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Mn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ya.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new cw(this,ya.leave,{},t),r.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const a=new AbortController,i=setTimeout(()=>a.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new cw(this,t,n,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Use){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=ya;if(r&&[l,c,d,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var g,v,j;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((j=(v=p.filter)===null||v===void 0?void 0:v.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var g,v,j,y,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const b=p.id,S=(g=p.filter)===null||g===void 0?void 0:g.event;return b&&((v=n.ids)===null||v===void 0?void 0:v.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const b=(x=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return b==="*"||b===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:v,table:j,commit_timestamp:y,type:x,errors:w}=g;f=Object.assign(Object.assign({},{schema:v,table:j,commit_timestamp:y,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(g))}p.callback(f,r)})}_isClosed(){return this.state===Mn.closed}_isJoined(){return this.state===Mn.joined}_isJoining(){return this.state===Mn.joining}_isLeaving(){return this.state===Mn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),i={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&hC.isEqual(a.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ya.close,{},t)}_onError(t){this._on(ya.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=DT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=DT(t.columns,t.old_record)),n}}const dw=()=>{},sg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Xse=[1e3,2e3,5e3,1e4],Zse=1e4,Qse=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Jse{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=F1,this.transport=null,this.heartbeatIntervalMs=sg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dw,this.ref=0,this.reconnectTimer=null,this.logger=dw,this.conn=null,this.sendBuffer=[],this.serializer=new Vse,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Vm(async()=>{const{default:l}=await Promise.resolve().then(()=>Ju);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${B1.websocket}`,this.httpEndpoint=XL(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$se.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bse}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case yf.connecting:return Yl.Connecting;case yf.open:return Yl.Open;case yf.closing:return Yl.Closing;default:return Yl.Closed}}isConnected(){return this.connectionState()===Yl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===r);if(a)return a;{const i=new hC(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(zse,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},sg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:a,payload:i,ref:o}=n,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ya.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Qse],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const a={access_token:n,version:Fse};n&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(ya.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new GL(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,a,i,o,l,c,d,u;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:F1,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:sg.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:dw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>Xse[h-1]||Zse,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(h,f)=>f(JSON.stringify(h)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class fC extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Cn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class eae extends fC{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class U1 extends fC{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var tae=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const ZL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Vm(async()=>{const{default:r}=await Promise.resolve().then(()=>Ju);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},nae=()=>tae(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vm(()=>Promise.resolve().then(()=>Ju),void 0)).Response:Response}),V1=e=>{if(Array.isArray(e))return e.map(n=>V1(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=V1(r)}),t},rae=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var qc=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const uw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sae=(e,t,n)=>qc(void 0,void 0,void 0,function*(){const r=yield nae();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new eae(uw(a),i,o))}).catch(a=>{t(new U1(uw(a),a))}):t(new U1(uw(e),e))}),aae=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?a:(rae(r)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),n))};function qm(e,t,n,r,a,i){return qc(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,aae(t,r,a,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>sae(c,l,r))})})}function Uv(e,t,n,r){return qc(this,void 0,void 0,function*(){return qm(e,"GET",t,n,r)})}function Ha(e,t,n,r,a){return qc(this,void 0,void 0,function*(){return qm(e,"POST",t,r,a,n)})}function W1(e,t,n,r,a){return qc(this,void 0,void 0,function*(){return qm(e,"PUT",t,r,a,n)})}function iae(e,t,n,r){return qc(this,void 0,void 0,function*(){return qm(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function QL(e,t,n,r,a){return qc(this,void 0,void 0,function*(){return qm(e,"DELETE",t,r,a,n)})}var oae=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class lae{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return oae(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Cn(t))return{data:null,error:t};throw t}})}}var cae=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class dae{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new lae(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return cae(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Cn(t))return{data:null,error:t};throw t}})}}var qr=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const uae={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$T={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hae{constructor(t,n={},r,a){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=ZL(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,a){return qr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},$T),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(n),u=this._getFinalPath(d),h=yield(t=="PUT"?W1:Ha)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Cn(i))return{data:null,error:i};throw i}})}upload(t,n,r){return qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,a){return qr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:$T.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield W1(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Cn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return qr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const i=yield Ha(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new fC("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}update(t,n,r){return qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return qr(this,void 0,void 0,function*(){try{return{data:yield Ha(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cn(a))return{data:null,error:a};throw a}})}copy(t,n,r){return qr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ha(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cn(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,r){return qr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Ha(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cn(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,r){return qr(this,void 0,void 0,function*(){try{const a=yield Ha(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cn(a))return{data:null,error:a};throw a}})}download(t,n){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>Uv(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new dae(c,this.shouldThrowOnError)}info(t){return qr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Uv(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:V1(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}exists(t){return qr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield iae(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r)&&r instanceof U1){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),a=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(t){return qr(this,void 0,void 0,function*(){try{return{data:yield QL(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}list(t,n,r){return qr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},uae),n),{prefix:t||""});return{data:yield Ha(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cn(a))return{data:null,error:a};throw a}})}listV2(t,n){return qr(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Ha(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const fae="2.12.2",mae={"X-Client-Info":`storage-js/${fae}`};var Jc=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class pae{constructor(t,n={},r,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},mae),n),this.fetch=ZL(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Jc(this,void 0,void 0,function*(){try{return{data:yield Uv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Cn(t))return{data:null,error:t};throw t}})}getBucket(t){return Jc(this,void 0,void 0,function*(){try{return{data:yield Uv(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Jc(this,void 0,void 0,function*(){try{return{data:yield Ha(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Jc(this,void 0,void 0,function*(){try{return{data:yield W1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Jc(this,void 0,void 0,function*(){try{return{data:yield Ha(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Jc(this,void 0,void 0,function*(){try{return{data:yield QL(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cn(n))return{data:null,error:n};throw n}})}}class gae extends pae{constructor(t,n={},r,a){super(t,n,r,a)}from(t){return new hae(this.url,this.headers,t,this.fetch)}}const vae="2.58.0";let Xh="";typeof Deno<"u"?Xh="deno":typeof document<"u"?Xh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xh="react-native":Xh="node";const xae={"X-Client-Info":`supabase-js-${Xh}/${vae}`},yae={headers:xae},jae={schema:"public"},wae={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bae={};var Nae=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const _ae=e=>{let t;return e?t=e:typeof fetch>"u"?t=$L:t=fetch,(...n)=>t(...n)},Sae=()=>typeof Headers>"u"?LL:Headers,Cae=(e,t,n)=>{const r=_ae(n),a=Sae();return(i,o)=>Nae(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:d}))})};var kae=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};function Aae(e){return e.endsWith("/")?e:e+"/"}function Pae(e,t){var n,r;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>kae(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function Eae(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Aae(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const JL="2.72.0",dd=30*1e3,q1=3,hw=q1*dd,Tae="http://localhost:9999",Oae="supabase.auth.token",Mae={"X-Client-Info":`gotrue-js/${JL}`},H1="X-Supabase-Api-Version",eF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Dae=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Rae=10*60*1e3;class mC extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function rt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Iae extends mC{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function $ae(e){return rt(e)&&e.name==="AuthApiError"}class tF extends mC{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Al extends mC{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class Co extends Al{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Lae(e){return rt(e)&&e.name==="AuthSessionMissingError"}class Th extends Al{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ag extends Al{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ig extends Al{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fae(e){return rt(e)&&e.name==="AuthImplicitGrantRedirectError"}class LT extends Al{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class K1 extends Al{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function fw(e){return rt(e)&&e.name==="AuthRetryableFetchError"}class FT extends Al{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class G1 extends Al{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),BT=` 	
\r=`.split(""),Bae=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<BT.length;t+=1)e[BT[t].charCodeAt(0)]=-2;for(let t=0;t<Vv.length;t+=1)e[Vv[t].charCodeAt(0)]=t;return e})();function zT(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Vv[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Vv[r]),t.queuedBits-=6}}function nF(e,t,n){const r=Bae[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function UT(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Vae(o,r,n)};for(let o=0;o<e.length;o+=1)nF(e.charCodeAt(o),a,i);return t.join("")}function zae(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Uae(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}zae(r,t)}}function Vae(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Wae(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)nF(e.charCodeAt(a),n,r);return new Uint8Array(t)}function qae(e){const t=[];return Uae(e,n=>t.push(n)),new Uint8Array(t)}function Hae(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};return e.forEach(a=>zT(a,n,r)),zT(null,n,r),t.join("")}function Kae(e){return Math.round(Date.now()/1e3)+e}function Gae(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ls=()=>typeof window<"u"&&typeof document<"u",Ll={tested:!1,writable:!1},rF=()=>{if(!Ls())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ll.tested)return Ll.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ll.tested=!0,Ll.writable=!0}catch{Ll.tested=!0,Ll.writable=!1}return Ll.writable};function Yae(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const sF=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Vm(async()=>{const{default:r}=await Promise.resolve().then(()=>Ju);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Xae=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ud=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Fl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},bo=async(e,t)=>{await e.removeItem(t)};class By{constructor(){this.promise=new By.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}By.promiseConstructor=Promise;function mw(e){const t=e.split(".");if(t.length!==3)throw new G1("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Dae.test(t[r]))throw new G1("JWT not in base64url format");return{header:JSON.parse(UT(t[0])),payload:JSON.parse(UT(t[1])),signature:Wae(t[2]),raw:{header:t[0],payload:t[1]}}}async function Zae(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Qae(e,t){return new Promise((r,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function Jae(e){return("0"+e.toString(16)).substr(-2)}function eie(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,Jae).join("")}async function tie(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function nie(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await tie(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ed(e,t,n=!1){const r=eie();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await ud(e,`${t}-code-verifier`,a);const i=await nie(r);return[i,r===i?"plain":"s256"]}const rie=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sie(e){const t=e.headers.get(H1);if(!t||!t.match(rie))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function aie(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function iie(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oie=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function td(e){if(!oie.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pw(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function VT(e){return JSON.parse(JSON.stringify(e))}var lie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Wl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cie=[502,503,504];async function WT(e){var t;if(!Xae(e))throw new K1(Wl(e),0);if(cie.includes(e.status))throw new K1(Wl(e),e.status);let n;try{n=await e.json()}catch(i){throw new tF(Wl(i),i)}let r;const a=sie(e);if(a&&a.getTime()>=eF["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new FT(Wl(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Co}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new FT(Wl(n),e.status,n.weak_password.reasons);throw new Iae(Wl(n),e.status||500,r)}const die=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function lt(e,t,n,r){var a;const i=Object.assign({},r==null?void 0:r.headers);i[H1]||(i[H1]=eF["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await uie(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function uie(e,t,n,r,a,i){const o=die(t,r,a,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new K1(Wl(c),0)}if(l.ok||await WT(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await WT(c)}}function Wa(e){var t;let n=null;pie(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Kae(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function qT(e){const t=Wa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ro(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function hie(e){return{data:e,error:null}}function fie(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=e,o=lie(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function mie(e){return e}function pie(e){return e.access_token&&e.refresh_token&&e.expires_in}const gw=["global","local","others"];var gie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class vie{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=sF(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=gw[0]){if(gw.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gw.join(", ")}`);try{return await lt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await lt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ro})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=gie(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await lt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:fie,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(rt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await lt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ro})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await lt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:mie});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(g.split(";")[1].split("=")[1]);d[`${j}Page`]=v}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(rt(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){td(t);try{return await lt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ro})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){td(t);try{return await lt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ro})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){td(t);try{return await lt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ro})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){td(t.userId);try{const{data:n,error:r}=await lt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){td(t.userId),td(t.id);try{return{data:await lt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}}function HT(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function xie(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const nd={debug:!!(globalThis&&rF()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aF extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class yie extends aF{}async function jie(e,t,n){nd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),nd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){nd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{nd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw nd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yie(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(nd.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function iF(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function wie(e){return parseInt(e,16)}function bie(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Nie(e){var t;const{chainId:n,domain:r,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=iF(e.address),g=u?`${u}://${r}`:r,v=e.statement?`${e.statement}
`:"",j=`${g} wants you to sign in with your Ethereum account:
${p}

${v}`;let y=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),d){let x=`
Resources:`;for(const w of d){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}y+=x}return`${j}
${y}`}xie();const _ie={url:Tae,storageKey:Oae,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Mae,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function KT(e,t,n){return await n()}const rd={};class im{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=im.nextInstanceID,im.nextInstanceID+=1,this.instanceID>0&&Ls()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},_ie),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new vie({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=sF(a.fetch),this.lock=a.lock||KT,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ls()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=jie:this.lock=KT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:rF()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=HT(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=HT(this.memoryStorage)),Ls()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=rd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){rd[this.storageKey]=Object.assign(Object.assign({},rd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=rd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){rd[this.storageKey]=Object.assign(Object.assign({},rd[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${JL}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Yae(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ls()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Fae(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return rt(n)?{error:n}:{error:new tF("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const i=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Wa}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(rt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,a;try{let i;if("email"in t){const{email:u,password:h,options:f}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await ed(this.storage,this.storageKey)),i=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:Wa})}else if("phone"in t){const{phone:u,password:h,options:f}=t;i=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Wa})}else throw new ag("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(rt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qT})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qT})}else throw new ag("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Th}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,a,i,o,l,c,d,u,h,f;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:v,wallet:j,statement:y,options:x}=t;let w;if(Ls())if(typeof j=="object")w=j;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")w=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=j}const b=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=iF(S[0]);let N=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!N){const k=await w.request({method:"eth_chainId"});N=wie(k)}const C={domain:b.host,address:_,statement:y,uri:b.href,version:"1",chainId:N,nonce:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=Nie(C),g=await w.request({method:"personal_sign",params:[bie(p),_]})}try{const{data:v,error:j}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Wa});if(j)throw j;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Th}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:j})}catch(v){if(rt(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(t){var n,r,a,i,o,l,c,d,u,h,f,p;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:j,wallet:y,statement:x,options:w}=t;let b;if(Ls())if(typeof y=="object")b=y;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))b=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const _=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let N;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")N=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)N=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),v=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const _=await b.signMessage(new TextEncoder().encode(g),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=_}}try{const{data:j,error:y}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Hae(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Wa});if(y)throw y;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Th}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:y})}catch(j){if(rt(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const n=await Fl(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:i,error:o}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Wa});if(await bo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Th}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(rt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:i,nonce:o}=t,l=await lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Wa}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Th}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await ed(this.storage,this.storageKey));const{error:h}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new ag("You must provide either an email or phone number.")}catch(l){if(rt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let a,i;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await lt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Wa});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(rt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,r,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ed(this.storage,this.storageKey)),await lt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:hie})}catch(i){if(rt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Co;const{error:a}=await lt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(rt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:i}=t,{error:o}=await lt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:a,options:i}=t,{data:o,error:l}=await lt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ag("You must provide either an email or phone number and a type")}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Fl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<hw:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Fl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=pw()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ro}):await this._useSession(async n=>{var r,a,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Co}:await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ro})})}catch(n){if(rt(n))return Lae(n)&&(await this._removeSession(),await bo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:i}=r;if(i)throw i;if(!a.session)throw new Co;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ed(this.storage,this.storageKey));const{data:d,error:u}=await lt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ro});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Co;const n=Date.now()/1e3;let r=n,a=!0,i=null;const{payload:o}=mw(t.access_token);if(o.exp&&(r=o.exp,a=r<=n),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(rt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Co;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(rt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ls())throw new ig("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ig(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new LT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ig("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new LT("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new ig("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const p=f-u;p*1e3<=dd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:v,error:j}=await this._getUser(i);if(j)throw j;const y={provider_token:r,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(rt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Fl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{error:i};const o=(r=a.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!($ae(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await bo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Gae(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await ed(this.storage,this.storageKey,!0));try{return await lt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(rt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await lt(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Ls()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(rt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)throw o;return await lt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Qae(async a=>(a>0&&await Zae(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await lt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Wa})),(a,i)=>{const o=200*Math.pow(2,a);return i&&fw(i)&&Date.now()+o-r<dd})}catch(r){if(this._debug(n,"error",r),rt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ls()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await Fl(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Fl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await ud(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:pw()}else if(a&&!a.user&&!a.user){const o=await Fl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await bo(this.storage,this.storageKey+"-user"),await ud(this.storage,this.storageKey,a)):a.user=pw()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const i=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<hw;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${hw}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),fw(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Co;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new By;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Co;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),rt(i)){const o={session:null,error:i};return fw(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ud(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const i=VT(a);await ud(this.storage,this.storageKey,i)}else{const a=VT(n);await ud(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await bo(this.storage,this.storageKey),await bo(this.storage,this.storageKey+"-code-verifier"),await bo(this.storage,this.storageKey+"-user"),this.userStorage&&await bo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ls()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),dd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/dd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${dd}ms, refresh threshold is ${q1} ticks`),a<=q1&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof aF)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ls()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await ed(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);a.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await lt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await lt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(rt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(rt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],a=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mw(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+Rae>a)return r;const{data:i,error:o}=await lt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};r=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=mw(r);n!=null&&n.allowExpired||aie(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const u=iie(a.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,qae(`${l}.${c}`)))throw new G1("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}}im.nextInstanceID=0;const Sie=im;class Cie extends Sie{constructor(t){super(t)}}var kie=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(h){o(h)}}function c(u){try{d(r.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class Aie{constructor(t,n,r){var a,i,o;this.supabaseUrl=t,this.supabaseKey=n;const l=Eae(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:jae,realtime:bae,auth:Object.assign(Object.assign({},wae),{storageKey:c}),global:yae},u=Pae(r??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Cae(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Ise(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new gae(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new mse(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return kie(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Cie({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,userStorage:i,flowType:l,lock:c,debug:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Jse(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Pie=(e,t,n)=>new Aie(e,t,n);function Eie(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Eie()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Tie="https://acnmqugtqjhxagfwtxcg.supabase.co",Oie="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFjbm1xdWd0cWpoeGFnZnd0eGNnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkxNTk1MDEsImV4cCI6MjA3NDczNTUwMX0.8hYYWRQ64WOHqnIXWv6h_X330fUIhcMi44bxIQEXttM",V=Pie(Tie,Oie,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function Mie({onComplete:e}){const[t,n]=m.useState(!0);return m.useEffect(()=>{const r=setTimeout(()=>{n(!1),setTimeout(e,300)},700);return()=>clearTimeout(r)},[e]),s.jsx(uy,{children:t&&s.jsx(Tt.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-gradient-to-br from-primary/10 via-background to-primary/5",children:s.jsxs(Tt.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,ease:[.43,.13,.23,.96]},className:"flex flex-col items-center space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"text-[120px] font-bold leading-none",style:{color:"#007FFF"},children:"t"}),s.jsx("div",{className:"absolute -inset-4 blur-2xl rounded-full",style:{backgroundColor:"rgba(0, 127, 255, 0.2)"}})]}),s.jsx(Tt.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.5},className:"text-3xl font-semibold text-foreground",children:"talebEdu"}),s.jsx(Tt.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{delay:.5,duration:.5},className:"w-32 h-1 bg-gradient-to-r from-primary/0 via-primary to-primary/0"})]})})})}const oF=m.createContext(void 0),ot=()=>{const e=m.useContext(oF);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Die=({children:e})=>{const t=ur(),[n,r]=m.useState(null),[a,i]=m.useState(null),[o,l]=m.useState(null),[c,d]=m.useState(!0),[u,h]=m.useState(()=>localStorage.getItem("hasShownInitialSplash")?!1:(localStorage.setItem("hasShownInitialSplash","true"),!0)),f=async v=>{try{const{data:j,error:y}=await V.from("profiles").select("*").eq("id",v).single();if(y)throw y;l(j)}catch(j){console.error("Error fetching profile:",j)}};m.useEffect(()=>{let v=null;const{data:{subscription:j}}=V.auth.onAuthStateChange((y,x)=>{i(x),r((x==null?void 0:x.user)??null),x!=null&&x.user?setTimeout(()=>{f(x.user.id)},0):l(null),y==="SIGNED_IN"&&!c&&(h(!0),v=setTimeout(()=>{h(!1)},1e3)),y==="SIGNED_OUT"&&t("/auth")});return V.auth.getSession().then(({data:{session:y}})=>{i(y),r((y==null?void 0:y.user)??null),y!=null&&y.user&&f(y.user.id),d(!1)}),u&&(v=setTimeout(()=>{h(!1)},1e3)),()=>{j.unsubscribe(),v&&clearTimeout(v)}},[]);const g={user:n,session:a,profile:o,isAuthenticated:!!a,loading:c,logout:async()=>{var v;try{const j=["admin@talebschool.com","teacher@talebschool.com","student@talebschool.com","parent@talebschool.com","driver@talebschool.com","finance@talebschool.com"];if(n!=null&&n.email&&j.includes(n.email)){console.log("Test account detected, resetting data...");try{const{error:x}=await V.functions.invoke("reset-test-account",{headers:{Authorization:`Bearer ${a==null?void 0:a.access_token}`}});x?console.error("Error resetting test account data:",x):console.log("Test account data reset successfully")}catch(x){console.error("Failed to reset test account:",x)}}h(!0),await new Promise(x=>setTimeout(x,100)),localStorage.removeItem("developerViewRole"),localStorage.removeItem("hasShownInitialSplash"),localStorage.clear(),sessionStorage.clear();const{error:y}=await V.auth.signOut();y&&!((v=y.message)!=null&&v.includes("session_not_found"))&&console.error("Logout error:",y),r(null),i(null),l(null),fe.success("Logged out successfully"),setTimeout(()=>{window.location.href="/auth"},1e3)}catch(j){console.error("Logout error:",j),r(null),i(null),l(null),localStorage.clear(),sessionStorage.clear(),h(!0),setTimeout(()=>{window.location.href="/auth"},1e3)}}};return u?s.jsx(Mie,{onComplete:()=>h(!1)}):s.jsx(oF.Provider,{value:g,children:e})},Rie={en:{"auth.selectRole":"Select Your Role","auth.login":"Login","auth.logout":"Logout","auth.email":"Email","auth.password":"Password","auth.welcomeBack":"Welcome Back","auth.loginSubtitle":"Enter your credentials to access your account","role.admin":"Administrator","role.teacher":"Teacher","role.parent":"Parent","role.student":"Student","role.driver":"Driver","dashboard.title":"Dashboard","dashboard.overview":"Home Page","dashboard.students":"Students","dashboard.teachers":"Teachers","dashboard.classes":"Classes","dashboard.attendance":"Attendance","dashboard.finance":"Finance","dashboard.transport":"Transportation","dashboard.canteen":"Canteen","dashboard.messages":"Messages","dashboard.settings":"Settings","dashboard.reports":"Reports","dashboard.schedule":"Schedule","dashboard.homework":"Homework","dashboard.grades":"Grades","dashboard.examSchedule":"Exam Schedule","dashboard.wallet":"Wallet","dashboard.kitchen":"School Kitchen","dashboard.tracking":"Bus Tracking","dashboard.profile":"Profile","dashboard.store":"Store","parent.welcome":"Welcome","parent.monitorChildren":"Monitor your children's academic progress and school activities","parent.viewProfile":"View Full Profile","parent.trackBus":"Track Bus","parent.wallet":"Wallet","parent.payFees":"Pay Fees","parent.canteen":"Canteen","parent.todaySchedule":"Today's Schedule","parent.busStatus":"Bus Status","parent.feeStatus":"Fee Status","parent.morningPickup":"Morning Pickup","parent.afternoonDrop":"Afternoon Drop","parent.trackLive":"Track Live","parent.totalFees":"Total Fees","parent.paid":"Paid","parent.remaining":"Remaining","parent.payNow":"Pay Now","parent.attendance":"Attendance","parent.averageGrade":"Average Grade","parent.dailyAllowance":"Daily Allowance","parent.todaySpending":"Today's Spending","parent.grade":"Grade","parent.setHomeLocation":"Set Home Location","parent.store":"School Store","students.manageProfiles":"Manage and view all student profiles","students.searchPlaceholder":"Search by name, NFC, or barcode...","students.addStudent":"Add Student","students.viewFullProfile":"View Full Profile","students.editProfile":"Edit Student Profile","students.scanBarcode":"Scan Barcode","students.studentProfile":"Student Profile","students.readNFC":"Read NFC","students.readingNFC":"Reading NFC Card...","students.tapCard":"Please tap the NFC card","students.nfcSuccess":"NFC Read Successful","students.foundStudent":"Found student","teachers.manageProfiles":"Manage and view all teacher profiles","teachers.searchPlaceholder":"Search by name or email...","teachers.addTeacher":"Add Teacher","teachers.viewProfile":"View Profile","teachers.editProfile":"Edit Teacher Profile","teachers.createEmail":"Create Email","teachers.qualification":"Qualification","teachers.experience":"Experience","teachers.joinDate":"Join Date","teachers.subjects":"Subjects","attendance.trackAttendance":"Track student attendance in school and bus","attendance.records":"Attendance Records","attendance.all":"All","attendance.school":"School","attendance.bus":"Bus","attendance.present":"Present","attendance.absent":"Absent","attendance.late":"Late","attendance.presentDays":"Present Days","attendance.absentDays":"Absent Days","attendance.lateDays":"Late Days","attendance.rate":"Attendance Rate","attendance.scanNFC":"Scan NFC","attendance.scanningNFC":"Scanning NFC Card...","attendance.tapStudent":"Please tap the student card","attendance.recorded":"Attendance Recorded","attendance.checkedIn":"Student checked in successfully","driver.dashboard":"Driver Dashboard","driver.route":"Route","driver.morningRoute":"Morning Route","driver.afternoonRoute":"Afternoon Route","driver.vehicle":"Vehicle","driver.students":"Students","driver.eta":"ETA","driver.toSchool":"To school","driver.nextStop":"Next Stop","driver.routeMap":"Route Map","driver.startNavigation":"Start Navigation","driver.studentPickupStatus":"Student Pickup Status","driver.quickActions":"Quick Actions","driver.markAbsent":"Mark Student Absent","driver.reportDelay":"Report Delay","driver.emergencyContact":"Emergency Contact","driver.endRoute":"End Route","driver.startRoute":"Start Route","driver.pauseRoute":"Pause","driver.resumeRoute":"Resume","driver.pickUp":"Pick Up","driver.absent":"Absent","driver.lowFuelAlert":"Low Fuel Alert","driver.trafficDelay":"Traffic Delay","driver.arrivedAtSchool":"Arrived at School","driver.progress":"Progress","driver.tracking":"Tracking","driver.offline":"Offline","driver.routeTracking":"Route Tracking","driver.liveLocation":"Live Location","driver.currentLocation":"Current Location","driver.studentList":"Student List","driver.report":"Report","driver.sendReport":"Send Report","driver.reportType":"Report Type","driver.routeDelay":"Route Delay","driver.incidentReport":"Incident Report","driver.mechanicalIssue":"Mechanical Issue","driver.other":"Other","driver.message":"Message","driver.describeIssue":"Describe the issue...","driver.waiting":"Waiting","driver.pickedUp":"Picked Up","driver.droppedOff":"Dropped Off","transport.manage":"Manage school transportation and buses","transport.addBus":"Add Bus","transport.totalBuses":"Total Buses","transport.activeBuses":"Active Buses","transport.totalCapacity":"Total Capacity","transport.currentStudents":"Current Students","transport.students":"Students","transport.lastLocation":"Last Location","transport.updated":"Updated","transport.route":"Route","transport.editBus":"Edit Bus Information","transport.driverName":"Driver Name","transport.driverPhone":"Driver Phone","transport.busNumber":"Bus Number","common.language":"Language","common.english":"English","common.arabic":"","common.save":"Save","common.cancel":"Cancel","common.add":"Add","common.edit":"Edit","common.delete":"Delete","common.search":"Search","common.filter":"Filter","common.export":"Export","common.import":"Import","common.actions":"Actions","common.view":"View","common.download":"Download","common.upload":"Upload","common.date":"Date","common.time":"Time","common.status":"Status","common.active":"Active","common.inactive":"Inactive","common.pending":"Pending","common.completed":"Completed","common.close":"Close","common.currency":"OMR","common.name":"Name","common.nameAr":"Name (Arabic)","common.email":"Email","common.phone":"Phone","common.class":"Class","common.address":"Address","common.bloodGroup":"Blood Group","common.allergies":"Allergies","common.emergencyContact":"Emergency Contact","common.dateOfBirth":"Date of Birth","common.parentName":"Parent Name","common.parentPhone":"Parent Phone","common.notes":"Notes","common.importantNotes":"Important Notes","common.contactInfo":"Contact Information","common.homeAddress":"Home Address","common.viewOnMap":"View on Map","common.call":"Call","common.maintenance":"Maintenance","common.capacity":"Capacity","common.subject":"Subject","common.teacher":"Teacher","common.room":"Room","common.day":"Day","common.duration":"Duration","common.examType":"Exam Type","common.newMessage":"New Message","common.typeMessage":"Type your message...","common.selectConversation":"Select a conversation to start messaging","common.messageSent":"Message Sent","common.messageSentDesc":"Your message has been sent successfully","common.searchConversations":"Search conversations...","common.calendar":"Calendar","common.deleted":"Deleted","common.deletedDesc":"Item deleted successfully","common.savedSuccessfully":"Saved successfully","common.profileUpdated":"Profile updated successfully","common.welcomeDashboard":"Welcome back to your school management dashboard","common.fromLastMonth":"from last month","common.recentActivities":"Recent Activities","common.upcomingEvents":"Upcoming Events","common.morningRoute":"Morning Route","common.parentContact":"Parent Contact","common.homeLocation":"Home Location","common.openInMaps":"Open in Maps","common.studentInfo":"Student Information","common.addClass":"Add Class","common.classTeacher":"Class Teacher","common.classesToday":"Classes Today","common.classSchedule":"Class Schedule","common.examSchedule":"Exam Schedule","common.addSchedule":"Add Schedule","common.addExam":"Add Exam","common.addClassSchedule":"Add Class Schedule","common.addExamSchedule":"Add Exam Schedule","common.emailCreated":"Email Account Created","common.emailCreatedDesc":"Email account has been created successfully","common.noPermission":"You don't have permission to view this page","common.manageClasses":"Manage class schedules and exams","common.communicateStaff":"Communicate with teachers and school staff","common.driverDashboard":"Driver Dashboard","common.busRouteManagement":"Bus route management and student tracking","common.teacherDashboard":"Teacher Dashboard","common.manageYourClasses":"Manage your classes and track student progress","common.barcode":"Barcode","common.nfcId":"NFC ID","common.rollNumber":"Roll Number","common.yes":"Yes","common.no":"No","common.approved":"Approved","common.rejected":"Rejected","common.available":"Available","common.notAvailable":"Not Available","common.id":"ID","common.grade":"Grade","common.section":"Section","common.viewDetails":"View Details","common.noRecords":"No records found","common.noStudentsOnboard":"No students onboard","common.noRecordsToday":"No records yet today","footer.allRightsReserved":"All rights reserved","log.info":"INFO","log.warn":"WARN","log.error":"ERROR","log.debug":"DEBUG","status.draft":"Draft","status.pendingApproval":"Pending Approval","status.approved":"Approved","status.rejected":"Rejected","status.active":"Active","status.inactive":"Inactive","status.available":"Available","status.notAvailable":"Not Available","status.present":"Present","status.absent":"Absent","status.late":"Late","status.notMarked":"Not Marked","stats.totalStudents":"Total Students","stats.totalTeachers":"Total Teachers","stats.attendance":"Attendance Rate","stats.busesActive":"Active Buses","stats.pendingFees":"Pending Fees","feature.busTracking":"Bus Tracking","feature.wallet":"Digital Wallet","feature.payments":"Payments","feature.canteen":"Canteen Management","schedule.mathematics":"Mathematics","schedule.physics":"Physics","schedule.english":"English","schedule.arabic":"Arabic","schedule.chemistry":"Chemistry","schedule.history":"History","schedule.pe":"PE","schedule.break":"Break","schedule.room":"Room","schedule.lab":"Lab","schedule.cafeteria":"Cafeteria","schedule.sportsHall":"Sports Hall","schedule.downloadSchedule":"Download Schedule","schedule.todaySchedule":"Today's Schedule","schedule.scheduleSummary":"Schedule Summary","schedule.classes":"Classes","schedule.totalHours":"Total Hours","schedule.manageSchedules":"View and manage daily schedules","grades.subject":"Subject","grades.grade":"Grade","grades.score":"Score","grades.date":"Date","grades.teacher":"Teacher","grades.exam":"Exam","grades.assignment":"Assignment","grades.project":"Project","grades.midterm":"Midterm","grades.final":"Final","grades.quiz":"Quiz","grades.homework":"Homework","grades.classwork":"Classwork","grades.recentGrades":"Recent Grades","grades.examType":"Exam Type","grades.notes":"Notes","grades.approve":"Approve","grades.addGrade":"Add Grade","grades.editGrade":"Edit Grade","grades.selectClass":"Select Class","grades.selectStudent":"Select Student","grades.selectSubject":"Select Subject","grades.enterScore":"Enter Score","grades.enterNotes":"Enter Notes","homework.pendingHomework":"Pending Homework","homework.dueDate":"Due Date","homework.submit":"Submit","homework.submitted":"Submitted","homework.notSubmitted":"Not Submitted","exams.upcomingExams":"Upcoming Exams","exams.examDate":"Exam Date","exams.examTime":"Exam Time","exams.examLocation":"Exam Location","time.minutes":"minutes","time.hours":"hours","time.days":"days","time.ago":"ago","time.min":"min","time.hrs":"hrs","profile.studentWallet":"Student Wallet","profile.studentHomework":"Student Homework","profile.studentNotes":"Notes","profile.studentSchedules":"Schedules","profile.viewGrades":"View Grades","profile.manageWallet":"Manage Wallet"},ar:{"auth.selectRole":" ","auth.login":" ","auth.logout":" ","auth.email":" ","auth.password":" ","auth.welcomeBack":" ","auth.loginSubtitle":"       ","role.admin":"","role.teacher":"","role.parent":" ","role.student":"","role.driver":"","dashboard.title":" ","dashboard.overview":" ","dashboard.students":"","dashboard.teachers":"","dashboard.classes":"","dashboard.attendance":"","dashboard.finance":"","dashboard.transport":"","dashboard.canteen":"","dashboard.messages":"","dashboard.settings":"","dashboard.reports":"","dashboard.schedule":"","dashboard.homework":"","dashboard.grades":"","dashboard.examSchedule":" ","dashboard.wallet":"","dashboard.kitchen":" ","dashboard.tracking":" ","dashboard.profile":" ","dashboard.store":"","parent.welcome":"","parent.monitorChildren":"     ","parent.viewProfile":"  ","parent.trackBus":" ","parent.wallet":"","parent.payFees":" ","parent.canteen":"","parent.todaySchedule":" ","parent.busStatus":" ","parent.feeStatus":" ","parent.morningPickup":" ","parent.afternoonDrop":"  ","parent.trackLive":" ","parent.totalFees":" ","parent.paid":"","parent.remaining":"","parent.payNow":" ","parent.attendance":"","parent.averageGrade":" ","parent.dailyAllowance":" ","parent.todaySpending":" ","parent.grade":"","parent.setHomeLocation":"  ","parent.store":" ","students.manageProfiles":"    ","students.searchPlaceholder":"   NFC  ...","students.addStudent":" ","students.viewFullProfile":"  ","students.editProfile":"  ","students.scanBarcode":" ","students.studentProfile":" ","students.readNFC":" NFC","students.readingNFC":"  NFC...","students.tapCard":"   NFC","students.nfcSuccess":"  NFC ","students.foundStudent":"   ","teachers.manageProfiles":"    ","teachers.searchPlaceholder":"    ...","teachers.addTeacher":" ","teachers.viewProfile":" ","teachers.editProfile":"  ","teachers.createEmail":" ","teachers.qualification":"","teachers.experience":"","teachers.joinDate":" ","teachers.subjects":"","attendance.trackAttendance":"     ","attendance.records":" ","attendance.all":"","attendance.school":"","attendance.bus":"","attendance.present":"","attendance.absent":"","attendance.late":"","attendance.presentDays":" ","attendance.absentDays":" ","attendance.lateDays":" ","attendance.rate":" ","attendance.scanNFC":" NFC","attendance.scanningNFC":"  NFC...","attendance.tapStudent":"   ","attendance.recorded":"  ","attendance.checkedIn":"    ","driver.dashboard":"  ","driver.route":"","driver.morningRoute":" ","driver.afternoonRoute":"  ","driver.vehicle":"","driver.students":"","driver.eta":"  ","driver.toSchool":" ","driver.nextStop":" ","driver.routeMap":" ","driver.startNavigation":" ","driver.studentPickupStatus":"  ","driver.quickActions":" ","driver.markAbsent":"  ","driver.reportDelay":"  ","driver.emergencyContact":" ","driver.endRoute":" ","driver.startRoute":" ","driver.pauseRoute":" ","driver.resumeRoute":"","driver.pickUp":"","driver.absent":"","driver.lowFuelAlert":"  ","driver.trafficDelay":" ","driver.arrivedAtSchool":"  ","driver.progress":"","driver.tracking":" ","driver.offline":" ","driver.routeTracking":" ","driver.liveLocation":" ","driver.currentLocation":" ","driver.studentList":" ","driver.report":"","driver.sendReport":" ","driver.reportType":" ","driver.routeDelay":" ","driver.incidentReport":" ","driver.mechanicalIssue":" ","driver.other":"","driver.message":"","driver.describeIssue":" ...","driver.waiting":" ","driver.pickedUp":" ","driver.droppedOff":" ","driver.busTracking":" ","driver.trackChildren":"     ","driver.live":"","driver.minutes":"","transport.manage":"   ","transport.addBus":" ","transport.totalBuses":" ","transport.activeBuses":" ","transport.totalCapacity":" ","transport.currentStudents":" ","transport.students":"","transport.lastLocation":" ","transport.updated":"","transport.route":"","transport.editBus":"  ","transport.driverName":" ","transport.driverPhone":" ","transport.busNumber":" ","common.language":"","common.english":"English","common.arabic":"","common.save":"","common.cancel":"","common.add":"","common.edit":"","common.delete":"","common.search":"","common.filter":"","common.export":"","common.import":"","common.actions":"","common.view":"","common.download":"","common.upload":"","common.date":"","common.time":"","common.status":"","common.active":"","common.inactive":" ","common.pending":" ","common.completed":"","common.close":"","common.currency":".","common.name":"","common.nameAr":" ()","common.email":" ","common.phone":"","common.class":"","common.address":"","common.bloodGroup":" ","common.allergies":"","common.emergencyContact":" ","common.dateOfBirth":" ","common.parentName":"  ","common.parentPhone":"  ","common.notes":"","common.importantNotes":" ","common.contactInfo":" ","common.homeAddress":" ","common.viewOnMap":"  ","common.call":"","common.maintenance":"","common.capacity":"","common.subject":"","common.teacher":"","common.room":"","common.day":"","common.duration":"","common.examType":" ","common.newMessage":" ","common.typeMessage":" ...","common.selectConversation":"    ","common.messageSent":"  ","common.messageSentDesc":"   ","common.searchConversations":"  ...","common.calendar":"","common.deleted":"","common.deletedDesc":"   ","common.savedSuccessfully":"  ","common.profileUpdated":"    ","common.welcomeDashboard":"     ","common.fromLastMonth":"  ","common.recentActivities":" ","common.upcomingEvents":" ","common.morningRoute":" ","common.parentContact":"  ","common.homeLocation":" ","common.openInMaps":"  ","common.studentInfo":" ","common.addClass":" ","common.classTeacher":" ","common.classesToday":" ","common.classSchedule":" ","common.examSchedule":" ","common.addSchedule":" ","common.addExam":" ","common.addClassSchedule":"  ","common.addExamSchedule":"  ","common.emailCreated":"    ","common.emailCreatedDesc":"     ","common.noPermission":"     ","common.manageClasses":"   ","common.communicateStaff":"    ","common.driverDashboard":"  ","common.busRouteManagement":"    ","common.teacherDashboard":"  ","common.manageYourClasses":"    ","common.barcode":"","common.nfcId":" NFC","common.rollNumber":" ","common.yes":"","common.no":"","common.approved":" ","common.rejected":"","common.available":"","common.notAvailable":" ","common.id":"","common.grade":"","common.section":"","common.viewDetails":" ","common.noRecords":"  ","common.noStudentsOnboard":"     ","common.noRecordsToday":"   ","footer.allRightsReserved":"  ","log.info":"","log.warn":"","log.error":"","log.debug":"","status.draft":"","status.pendingApproval":"  ","status.approved":"","status.rejected":"","status.active":"","status.inactive":" ","status.available":"","status.notAvailable":" ","status.present":"","status.absent":"","status.late":"","status.notMarked":" ","stats.totalStudents":" ","stats.totalTeachers":" ","stats.attendance":" ","stats.busesActive":" ","stats.pendingFees":" ","feature.busTracking":" ","feature.wallet":" ","feature.payments":"","feature.canteen":" ","schedule.mathematics":"","schedule.physics":"","schedule.english":" ","schedule.arabic":" ","schedule.chemistry":"","schedule.history":"","schedule.pe":" ","schedule.break":"","schedule.room":"","schedule.lab":"","schedule.cafeteria":"","schedule.sportsHall":" ","schedule.downloadSchedule":" ","schedule.todaySchedule":" ","schedule.scheduleSummary":" ","schedule.classes":"","schedule.totalHours":" ","schedule.manageSchedules":"   ","grades.subject":"","grades.grade":"","grades.score":"","grades.date":"","grades.teacher":"","grades.exam":"","grades.assignment":"","grades.project":"","grades.midterm":" ","grades.final":"","grades.quiz":" ","grades.homework":" ","grades.classwork":" ","grades.recentGrades":" ","grades.examType":" ","grades.notes":"","grades.approve":"","grades.addGrade":" ","grades.editGrade":" ","grades.selectClass":" ","grades.selectStudent":" ","grades.selectSubject":" ","grades.enterScore":" ","grades.enterNotes":" ","homework.pendingHomework":" ","homework.dueDate":" ","homework.submit":"","homework.submitted":" ","homework.notSubmitted":"  ","exams.upcomingExams":" ","exams.examDate":" ","exams.examTime":" ","exams.examLocation":" ","time.minutes":"","time.hours":"","time.days":"","time.ago":"","time.min":"","time.hrs":"","profile.studentWallet":" ","profile.studentHomework":" ","profile.studentNotes":"","profile.studentSchedules":"","profile.viewGrades":" ","profile.manageWallet":" ","Employee ID":" ","Base Salary":" ",Configure:"","Payment Frequency":" ","Teacher Payroll Configuration":"  ",Teacher:"",Period:"","Net Salary":" ","Payment Date":" ","Process Payment":" ","Configure Payroll":" ","Set up payroll configuration for":"   ","Base Salary (OMR)":"  ( )","Hourly Rate (OMR) - Optional":"  ( ) - ",Monthly:"","Bi-Weekly":" ",Weekly:"","Bank Account (Optional)":"  ()","Saving...":" ...",Calculate:"","Calculate Salary":" ","Calculate salary for":"  ",Month:"",Year:"","Calculating...":" ...","Process Salary Payment":"  ","Confirm salary payment processing":"   ","Payment Confirmation":" ","You are about to transfer":"   ",to:"","Working Days":" ","Present Days":" ",Deductions:"",Bonuses:"","Processing...":" ...","Confirm Payment":" ","Payroll Records":" ","Teacher Attendance":" ","Check In":" ","Check Out":" ","Total Hours":" ","Leave Requests":" ","Leave Type":" ","Start Date":" ","End Date":" ",Reason:"",Vacation:"","Sick Leave":" ",Personal:"",Emergency:"","Request Leave":" ","Payroll Reports":" ","Generate Report":" ","Report Type":" ","Salary Summary":" ","Attendance Report":" ","Deductions Report":" ","Select Period":" ","Current Month":" ","Last Month":" ","Custom Range":" ","Download PDF":" PDF","Total Salaries":" ","Total Deductions":" ","Total Bonuses":" ","Net Total":" ","Payroll Overview":"   ","Teachers Payroll":" ","Payroll Configuration":" ","Payment Status":" ",Paid:"",Pending:"",Approved:" ",Rejected:""}},lF=m.createContext(void 0),Te=()=>{const e=m.useContext(lF);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},Iie=({children:e})=>{const[t,n]=m.useState("en");m.useEffect(()=>{const i=localStorage.getItem("language");i&&(n(i),document.documentElement.dir=i==="ar"?"rtl":"ltr",document.documentElement.lang=i,document.documentElement.style.fontFamily=i==="ar"?"Cairo, sans-serif":"Inter, sans-serif")},[]);const r=i=>{n(i),localStorage.setItem("language",i),document.documentElement.dir=i==="ar"?"rtl":"ltr",document.documentElement.lang=i,document.documentElement.style.fontFamily=i==="ar"?"Cairo, sans-serif":"Inter, sans-serif"},a=i=>Rie[t][i]||i;return s.jsx(lF.Provider,{value:{language:t,setLanguage:r,t:a,dir:t==="ar"?"rtl":"ltr"},children:e})},cF=m.createContext(void 0);function $ie({children:e}){const[t,n]=m.useState(!1),[r,a]=m.useState(new Set),i=m.useCallback(c=>{n(c)},[]),o=m.useCallback(c=>{a(d=>{const u=new Set(d);return u.add(c),u}),n(!0)},[]),l=m.useCallback(c=>{a(d=>{const u=new Set(d);return u.delete(c),u.size===0&&n(!1),u})},[]);return s.jsx(cF.Provider,{value:{isPageLoading:t,setPageLoading:i,registerLoader:o,unregisterLoader:l},children:e})}function Lie(){const e=m.useContext(cF);if(e===void 0)throw new Error("useLoading must be used within a LoadingProvider");return e}function Fie(e){const{registerLoader:t,unregisterLoader:n}=Lie(),r=m.useCallback(()=>{t(e)},[e,t]),a=m.useCallback(()=>{n(e)},[e,n]);return{startLoading:r,stopLoading:a}}const dF=m.createContext(void 0);function Bie({children:e}){const[t,n]=m.useState([]),[r,a]=m.useState(!0);m.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:h,error:f}=await V.from("students").select("*").order("created_at",{ascending:!1});if(f)throw f;if(h){const p=h.map(g=>({id:g.id,firstName:g.first_name||"",lastName:g.last_name||"",firstNameAr:g.first_name_ar||"",lastNameAr:g.last_name_ar||"",dateOfBirth:g.date_of_birth||"",gender:g.gender||"",nationality:g.nationality||"",civilId:g.civil_id||"",grade:g.grade||"",class:g.class||"",academicYear:g.academic_year||"",enrollmentDate:g.enrollment_date||"",previousSchool:g.previous_school,email:g.email||"",phone:g.phone||"",address:g.address||"",parentName:g.parent_name||"",parentNameAr:g.parent_name_ar||"",parentPhone:g.parent_phone||"",parentEmail:g.parent_email||"",parentOccupation:g.parent_occupation,relationship:g.relationship||"",bloodGroup:g.blood_group||"",allergies:g.allergies,medicalConditions:g.medical_conditions,medications:g.medications,emergencyContact:g.emergency_contact||"",emergencyContactName:g.emergency_contact_name||"",transportationAgreement:g.transportation_agreement||!1,canteenAgreement:g.canteen_agreement||!1,uniformAgreement:g.uniform_agreement||!1,photoAgreement:g.photo_agreement||!1,medicalAgreement:g.medical_agreement||!1,termsAgreement:g.terms_agreement||!1,profileImage:g.profile_image,nfcId:g.nfc_id,barcode:g.barcode,status:g.status||"active"}));n(p)}}catch(h){console.error("Error fetching students:",h),ae({title:"Error",description:"Failed to load students",variant:"destructive"})}finally{a(!1)}},o=async h=>{try{const f=`STU${Date.now().toString().slice(-6)}`,{data:p,error:g}=await V.from("students").insert({student_id:f,first_name:h.firstName,last_name:h.lastName,first_name_ar:h.firstNameAr,last_name_ar:h.lastNameAr,date_of_birth:h.dateOfBirth,gender:h.gender,nationality:h.nationality,civil_id:h.civilId,grade:h.grade,class:h.class,academic_year:h.academicYear,enrollment_date:h.enrollmentDate,previous_school:h.previousSchool,email:h.email,phone:h.phone,address:h.address,parent_name:h.parentName,parent_name_ar:h.parentNameAr,parent_phone:h.parentPhone,parent_email:h.parentEmail,parent_occupation:h.parentOccupation,relationship:h.relationship,blood_group:h.bloodGroup,allergies:h.allergies,medical_conditions:h.medicalConditions,medications:h.medications,emergency_contact:h.emergencyContact,emergency_contact_name:h.emergencyContactName,transportation_agreement:h.transportationAgreement,canteen_agreement:h.canteenAgreement,uniform_agreement:h.uniformAgreement,photo_agreement:h.photoAgreement,medical_agreement:h.medicalAgreement,terms_agreement:h.termsAgreement,nfc_id:h.nfcId||`NFC${Date.now().toString().slice(-6)}`,barcode:h.barcode||`BAR${Date.now().toString().slice(-6)}`,status:"active",profile_image:h.profileImage}).select().single();if(g)throw g;p&&(await i(),ae({title:"Student Added",description:`${h.firstName} ${h.lastName} has been registered successfully`}))}catch(f){console.error("Error adding student:",f),ae({title:"Error",description:"Failed to add student",variant:"destructive"})}},l=async(h,f)=>{try{const p={};f.firstName!==void 0&&(p.first_name=f.firstName),f.lastName!==void 0&&(p.last_name=f.lastName),f.firstNameAr!==void 0&&(p.first_name_ar=f.firstNameAr),f.lastNameAr!==void 0&&(p.last_name_ar=f.lastNameAr),f.dateOfBirth!==void 0&&(p.date_of_birth=f.dateOfBirth),f.gender!==void 0&&(p.gender=f.gender),f.nationality!==void 0&&(p.nationality=f.nationality),f.civilId!==void 0&&(p.civil_id=f.civilId),f.grade!==void 0&&(p.grade=f.grade),f.class!==void 0&&(p.class=f.class),f.academicYear!==void 0&&(p.academic_year=f.academicYear),f.enrollmentDate!==void 0&&(p.enrollment_date=f.enrollmentDate),f.previousSchool!==void 0&&(p.previous_school=f.previousSchool),f.email!==void 0&&(p.email=f.email),f.phone!==void 0&&(p.phone=f.phone),f.address!==void 0&&(p.address=f.address),f.parentName!==void 0&&(p.parent_name=f.parentName),f.parentNameAr!==void 0&&(p.parent_name_ar=f.parentNameAr),f.parentPhone!==void 0&&(p.parent_phone=f.parentPhone),f.parentEmail!==void 0&&(p.parent_email=f.parentEmail),f.parentOccupation!==void 0&&(p.parent_occupation=f.parentOccupation),f.relationship!==void 0&&(p.relationship=f.relationship),f.bloodGroup!==void 0&&(p.blood_group=f.bloodGroup),f.allergies!==void 0&&(p.allergies=f.allergies),f.medicalConditions!==void 0&&(p.medical_conditions=f.medicalConditions),f.medications!==void 0&&(p.medications=f.medications),f.emergencyContact!==void 0&&(p.emergency_contact=f.emergencyContact),f.emergencyContactName!==void 0&&(p.emergency_contact_name=f.emergencyContactName),f.transportationAgreement!==void 0&&(p.transportation_agreement=f.transportationAgreement),f.canteenAgreement!==void 0&&(p.canteen_agreement=f.canteenAgreement),f.uniformAgreement!==void 0&&(p.uniform_agreement=f.uniformAgreement),f.photoAgreement!==void 0&&(p.photo_agreement=f.photoAgreement),f.medicalAgreement!==void 0&&(p.medical_agreement=f.medicalAgreement),f.termsAgreement!==void 0&&(p.terms_agreement=f.termsAgreement),f.nfcId!==void 0&&(p.nfc_id=f.nfcId),f.barcode!==void 0&&(p.barcode=f.barcode),f.status!==void 0&&(p.status=f.status),f.profileImage!==void 0&&(p.profile_image=f.profileImage);const{error:g}=await V.from("students").update(p).eq("id",h);if(g)throw g;await i(),ae({title:"Student Updated",description:"Student information has been updated successfully"})}catch(p){console.error("Error updating student:",p),ae({title:"Error",description:"Failed to update student",variant:"destructive"})}},c=async h=>{try{const f=t.find(g=>g.id===h),{error:p}=await V.from("students").delete().eq("id",h);if(p)throw p;await i(),f&&ae({title:"Student Removed",description:`${f.firstName} ${f.lastName} has been removed`})}catch(f){console.error("Error deleting student:",f),ae({title:"Error",description:"Failed to delete student",variant:"destructive"})}},d=h=>t.find(f=>f.id===h),u=h=>{const f=h.toLowerCase();return t.filter(p=>{var g;return p.firstName.toLowerCase().includes(f)||p.lastName.toLowerCase().includes(f)||p.firstNameAr.includes(f)||p.lastNameAr.includes(f)||p.civilId.includes(f)||((g=p.nfcId)==null?void 0:g.toLowerCase().includes(f))||p.class.toLowerCase().includes(f)})};return s.jsx(dF.Provider,{value:{students:t,addStudent:o,updateStudent:l,deleteStudent:c,getStudent:d,searchStudents:u},children:e})}function zy(){const e=m.useContext(dF);if(e===void 0)throw new Error("useStudents must be used within a StudentsProvider");return e}function zie({children:e}){const t=io();return s.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},children:e},t.pathname)}const om=qu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=m.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},i)=>{const o=r?jQ:"button";return s.jsx(o,{className:me(om({variant:t,size:n,className:e})),ref:i,...a})});$.displayName="Button";const q=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:me("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));q.displayName="Card";const te=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:me("flex flex-col space-y-1.5 p-6",e),...t}));te.displayName="CardHeader";const ne=m.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:me("text-2xl font-semibold leading-none tracking-tight",e),...t}));ne.displayName="CardTitle";const wn=m.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:me("text-sm text-muted-foreground",e),...t}));wn.displayName="CardDescription";const G=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:me("p-6 pt-0",e),...t}));G.displayName="CardContent";const Uie=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:me("flex items-center p-6 pt-0",e),...t}));Uie.displayName="CardFooter";const Vie=qu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ce({className:e,variant:t,...n}){return s.jsx("div",{className:me(Vie({variant:t}),e),...n})}const Wie=()=>{const{isAuthenticated:e}=ot(),{language:t,setLanguage:n,t:r,dir:a}=Te(),i=ur(),[o,l]=m.useState(!1);m.useEffect(()=>{const u=()=>{l(window.scrollY>20)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]),m.useEffect(()=>{e&&i("/dashboard")},[e,i]);const c=[{icon:_5,titleEn:"NFC Wristband Attendance",titleAr:"    NFC",descEn:"Automated student attendance tracking with NFC wristband technology",descAr:"       NFC"},{icon:bn,titleEn:"School Bus Tracking",titleAr:"  ",descEn:"Real-time GPS tracking of school buses for parent peace of mind",descAr:"        "},{icon:so,titleEn:"Cafeteria & Store",titleAr:" ",descEn:"Cashless purchases with automatic wallet deduction",descAr:"       "},{icon:Cr,titleEn:"Digital Wallet",titleAr:" ",descEn:"Secure student allowance management and transactions",descAr:"     "},{icon:Ki,titleEn:"In-App Communication",titleAr:"  ",descEn:"Direct messaging between parents, teachers, and students",descAr:"     "},{icon:ft,titleEn:"Academic Calendar",titleAr:" ",descEn:"Exams, grades, and schedule management in one place",descAr:"      "},{icon:ii,titleEn:"Homework Tracking",titleAr:" ",descEn:"Digital homework assignments and submission tracking",descAr:"   "},{icon:zS,titleEn:"Performance Analytics",titleAr:" ",descEn:"Comprehensive reports on student progress and grades",descAr:"     "},{icon:yy,titleEn:"Smart Notifications",titleAr:" ",descEn:"Real-time alerts for important school updates",descAr:"    "},{icon:ta,titleEn:"Secure & Private",titleAr:" ",descEn:"Bank-level security for all transactions and data",descAr:"     "}],d=[{icon:kJ,titleEn:"Parent Portal",titleAr:"  ",features:[{en:"Monitor wallet & transactions",ar:"  "},{en:"Track student grades",ar:"  "},{en:"Real-time bus location",ar:"  "},{en:"Chat with teachers",ar:" "}]},{icon:Sr,titleEn:"Teacher Panel",titleAr:" ",features:[{en:"Post grades & exams",ar:"  "},{en:"NFC attendance scan",ar:"  NFC"},{en:"Class management",ar:" "},{en:"Direct parent communication",ar:"   "}]},{icon:ta,titleEn:"Admin Dashboard",titleAr:" ",features:[{en:"Complete system control",ar:"  "},{en:"User management",ar:" "},{en:"Financial reports",ar:" "},{en:"School-wide analytics",ar:" "}]},{icon:bn,titleEn:"Driver Interface",titleAr:" ",features:[{en:"Route optimization",ar:" "},{en:"Student pickup alerts",ar:"  "},{en:"Real-time navigation",ar:" "},{en:"Incident reporting",ar:"  "}]}];return s.jsxs("div",{className:`min-h-screen bg-background ${a==="rtl"?"font-cairo":""}`,dir:a,children:[s.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${o?"bg-background/95 backdrop-blur-lg border-b shadow-sm":"bg-transparent"}`,children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(0, 127, 255, 0.1)"},children:s.jsx("span",{className:"text-3xl font-bold",style:{color:"#007FFF"},children:"t"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-primary",children:"TalebEdu"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:t==="en"?"Smart School Management":"  "})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs($,{variant:"ghost",size:"sm",onClick:()=>n(t==="en"?"ar":"en"),className:"gap-2",children:[s.jsx(wy,{className:"h-4 w-4"}),t==="en"?"":"English"]}),s.jsxs($,{onClick:()=>i("/auth"),className:"gap-2",children:[r("login"),s.jsx(Bd,{className:`h-4 w-4 ${a==="rtl"?"rotate-180":""}`})]})]})]})})}),s.jsxs("section",{className:"relative pt-32 pb-20 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-secondary/5"}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-8 animate-fade-in",children:[s.jsxs(ce,{className:"px-4 py-2 text-sm",variant:"secondary",children:[s.jsx(M5,{className:"h-4 w-4 mr-2"}),t==="en"?"The Future of School Management":"  "]}),s.jsx("h2",{className:"text-5xl md:text-6xl font-bold leading-tight",children:t==="en"?s.jsxs(s.Fragment,{children:["Complete School Management",s.jsx("br",{}),"in Your Pocket"]}):s.jsxs(s.Fragment,{children:["  ",s.jsx("br",{})," "]})}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:t==="en"?"Revolutionize your school with NFC attendance, real-time tracking, digital payments, and seamless communication - all in one platform.":"      NFC       -     ."}),s.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[s.jsxs($,{size:"lg",onClick:()=>i("/auth"),className:"gap-2 text-lg px-8",children:[t==="en"?"Get Started":" ",s.jsx(Bd,{className:`h-5 w-5 ${a==="rtl"?"rotate-180":""}`})]}),s.jsx($,{size:"lg",variant:"outline",className:"gap-2 text-lg px-8",children:t==="en"?"Learn More":" "})]})]})})]}),s.jsx("section",{className:"py-20 bg-muted/30",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center space-y-4 mb-16",children:[s.jsx(ce,{variant:"secondary",className:"px-4 py-2",children:t==="en"?"Powerful Features":" "}),s.jsx("h3",{className:"text-4xl font-bold",children:t==="en"?"Everything You Need, One Platform":"    "}),s.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:t==="en"?"Built for modern schools with cutting-edge technology":"    "})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((u,h)=>s.jsx(q,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1 border-2",children:s.jsxs(te,{children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:s.jsx(u.icon,{className:"h-6 w-6 text-primary"})}),s.jsx(ne,{className:"text-xl",children:t==="en"?u.titleEn:u.titleAr}),s.jsx(wn,{className:"text-base",children:t==="en"?u.descEn:u.descAr})]})},h))})]})}),s.jsx("section",{className:"py-20",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center space-y-4 mb-16",children:[s.jsx(ce,{variant:"secondary",className:"px-4 py-2",children:t==="en"?"For Everyone":""}),s.jsx("h3",{className:"text-4xl font-bold",children:t==="en"?"Tailored for Every User":"  "})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-6xl mx-auto",children:d.map((u,h)=>s.jsxs(q,{className:"border-2 hover:shadow-xl transition-all duration-300",children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"h-14 w-14 rounded-xl bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center",children:s.jsx(u.icon,{className:"h-7 w-7 text-primary-foreground"})}),s.jsx(ne,{className:"text-2xl",children:t==="en"?u.titleEn:u.titleAr})]})}),s.jsx(G,{children:s.jsx("ul",{className:"space-y-3",children:u.features.map((f,p)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(Hi,{className:"h-5 w-5 text-primary shrink-0 mt-0.5"}),s.jsx("span",{className:"text-muted-foreground",children:t==="en"?f.en:f.ar})]},p))})})]},h))})]})}),s.jsx("section",{className:"py-20 bg-gradient-to-br from-primary to-primary/80 text-primary-foreground",children:s.jsx("div",{className:"container mx-auto px-4 text-center space-y-8",children:s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[s.jsx("h3",{className:"text-4xl md:text-5xl font-bold",children:t==="en"?"Ready to Transform Your School?":"  "}),s.jsx("p",{className:"text-xl text-primary-foreground/90",children:t==="en"?"Join thousands of schools already using TalebEdu to create a better learning environment":"          "}),s.jsxs("div",{className:"flex flex-wrap gap-4 justify-center pt-4",children:[s.jsxs($,{size:"lg",variant:"secondary",onClick:()=>i("/auth"),className:"gap-2 text-lg px-8",children:[t==="en"?"Get Started":" ",s.jsx(Bd,{className:`h-5 w-5 ${a==="rtl"?"rotate-180":""}`})]}),s.jsxs($,{size:"lg",variant:"outline",className:"gap-2 text-lg px-8 bg-transparent border-2 border-primary-foreground text-primary-foreground hover:bg-primary-foreground hover:text-primary",children:[s.jsx(Ki,{className:"h-5 w-5"}),t==="en"?"Contact Sales":" "]})]})]})})}),s.jsx("footer",{className:"py-12 border-t bg-muted/30",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(0, 127, 255, 0.1)"},children:s.jsx("span",{className:"text-2xl font-bold",style:{color:"#007FFF"},children:"t"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-lg",children:"TalebEdu"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[" 2025 ",t==="en"?"All rights reserved":"  "]})]})]}),s.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground",children:[s.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:t==="en"?"Privacy":""}),s.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:t==="en"?"Terms":""}),s.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:t==="en"?"Support":""})]})]})})})]})},F=m.forwardRef(({className:e,type:t,dir:n,style:r,...a},i)=>{const o=document.documentElement.dir==="rtl";let l={...r};return o&&!n?l={textAlign:"right",direction:"ltr",unicodeBidi:"plaintext",...r}:n==="rtl"?l={direction:"rtl",textAlign:"right",...r}:n==="ltr"&&(l={direction:"ltr",textAlign:"left",...r}),s.jsx("input",{type:t,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),dir:n,style:l,ref:i,...a})});F.displayName="Input";var qie="Label",uF=m.forwardRef((e,t)=>s.jsx(Ce.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));uF.displayName=qie;var hF=uF;const Hie=qu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),T=m.forwardRef(({className:e,...t},n)=>s.jsx(hF,{ref:n,className:me(Hie(),e),...t}));T.displayName=hF.displayName;var Kie=m.createContext(void 0);function th(e){const t=m.useContext(Kie);return e||t||"ltr"}var vw="rovingFocusGroup.onEntryFocus",Gie={bubbles:!1,cancelable:!0},Hm="RovingFocusGroup",[Y1,fF,Yie]=py(Hm),[Xie,nh]=Ln(Hm,[Yie]),[Zie,Qie]=Xie(Hm),mF=m.forwardRef((e,t)=>s.jsx(Y1.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Y1.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Jie,{...e,ref:t})})}));mF.displayName=Hm;var Jie=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,f=m.useRef(null),p=Ze(t,f),g=th(i),[v,j]=Ca({prop:o,defaultProp:l??null,onChange:c,caller:Hm}),[y,x]=m.useState(!1),w=hn(d),b=fF(n),S=m.useRef(!1),[_,N]=m.useState(0);return m.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(vw,w),()=>C.removeEventListener(vw,w)},[w]),s.jsx(Zie,{scope:n,orientation:r,dir:g,loop:a,currentTabStopId:v,onItemFocus:m.useCallback(C=>j(C),[j]),onItemShiftTab:m.useCallback(()=>x(!0),[]),onFocusableItemAdd:m.useCallback(()=>N(C=>C+1),[]),onFocusableItemRemove:m.useCallback(()=>N(C=>C-1),[]),children:s.jsx(Ce.div,{tabIndex:y||_===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:ge(e.onMouseDown,()=>{S.current=!0}),onFocus:ge(e.onFocus,C=>{const k=!S.current;if(C.target===C.currentTarget&&k&&!y){const A=new CustomEvent(vw,Gie);if(C.currentTarget.dispatchEvent(A),!A.defaultPrevented){const O=b().filter(U=>U.focusable),M=O.find(U=>U.active),z=O.find(U=>U.id===v),E=[M,z,...O].filter(Boolean).map(U=>U.ref.current);vF(E,u)}}S.current=!1}),onBlur:ge(e.onBlur,()=>x(!1))})})}),pF="RovingFocusGroupItem",gF=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=ir(),d=i||c,u=Qie(pF,n),h=u.currentTabStopId===d,f=fF(n),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:v}=u;return m.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),s.jsx(Y1.ItemSlot,{scope:n,id:d,focusable:r,active:a,children:s.jsx(Ce.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:ge(e.onMouseDown,j=>{r?u.onItemFocus(d):j.preventDefault()}),onFocus:ge(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:ge(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){u.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const y=noe(j,u.orientation,u.dir);if(y!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let w=f().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const b=w.indexOf(j.currentTarget);w=u.loop?roe(w,b+1):w.slice(b+1)}setTimeout(()=>vF(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:v!=null}):o})})});gF.displayName=pF;var eoe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function toe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function noe(e,t,n){const r=toe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return eoe[r]}function vF(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function roe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var pC=mF,gC=gF,Uy="Tabs",[soe,kTe]=Ln(Uy,[nh]),xF=nh(),[aoe,vC]=soe(Uy),yF=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=th(l),[h,f]=Ca({prop:r,onChange:a,defaultProp:i??"",caller:Uy});return s.jsx(aoe,{scope:n,baseId:ir(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:s.jsx(Ce.div,{dir:u,"data-orientation":o,...d,ref:t})})});yF.displayName=Uy;var jF="TabsList",wF=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=vC(jF,n),o=xF(n);return s.jsx(pC,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:s.jsx(Ce.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});wF.displayName=jF;var bF="TabsTrigger",NF=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,o=vC(bF,n),l=xF(n),c=CF(o.baseId,r),d=kF(o.baseId,r),u=r===o.value;return s.jsx(gC,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(Ce.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:ge(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:ge(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:ge(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!a&&h&&o.onValueChange(r)})})})});NF.displayName=bF;var _F="TabsContent",SF=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=e,l=vC(_F,n),c=CF(l.baseId,r),d=kF(l.baseId,r),u=r===l.value,h=m.useRef(u);return m.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(Fn,{present:a||u,children:({present:f})=>s.jsx(Ce.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});SF.displayName=_F;function CF(e,t){return`${e}-trigger-${t}`}function kF(e,t){return`${e}-content-${t}`}var ioe=yF,AF=wF,PF=NF,EF=SF;const gn=ioe,sn=m.forwardRef(({className:e,...t},n)=>s.jsx(AF,{ref:n,className:me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));sn.displayName=AF.displayName;const _e=m.forwardRef(({className:e,...t},n)=>s.jsx(PF,{ref:n,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));_e.displayName=PF.displayName;const Re=m.forwardRef(({className:e,...t},n)=>s.jsx(EF,{ref:n,className:me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Re.displayName=EF.displayName;const ooe="/assets/hero-education-qG3ie9uR.jpg",loe="/assets/feature-nfc-3Cp3SqCw.jpg",coe="/assets/feature-tracking-Duv1tNVF.jpg",doe="/assets/feature-wallet-uRt0qlm1.jpg";function uoe(){const e=ur(),{language:t,setLanguage:n}=Te(),[r,a]=m.useState(!1),[i,o]=m.useState("signin"),[l,c]=m.useState(""),[d,u]=m.useState(""),[h,f]=m.useState(!1),[p,g]=m.useState(""),[v,j]=m.useState(""),[y,x]=m.useState(""),[w,b]=m.useState(""),[S,_]=m.useState(!1);m.useEffect(()=>{(async()=>{const{data:{session:M}}=await V.auth.getSession();M&&e("/dashboard")})()},[e]);const N=async O=>{O.preventDefault(),a(!0);try{const{data:M,error:z}=await V.auth.signInWithPassword({email:l.toLowerCase().trim(),password:d});if(z)throw z;M.user&&(fe.success(t==="en"?"Welcome back!":" !"),window.location.href="/dashboard")}catch(M){fe.error(M.message||(t==="en"?"Login failed":"  "))}finally{a(!1)}},C=async O=>{O.preventDefault(),a(!0);try{if(!y||!p||!v)throw new Error(t==="en"?"Please fill in all required fields":"    ");if(v.length<6)throw new Error(t==="en"?"Password must be at least 6 characters":"     6   ");const M=`${window.location.origin}/`,{data:z,error:P}=await V.auth.signUp({email:p.toLowerCase().trim(),password:v,options:{emailRedirectTo:M,data:{full_name:y,phone:w}}});if(P)throw P;fe.success(t==="en"?"Account created successfully! Please check your email to verify your account.":"   !     ."),o("signin"),c(p)}catch(M){fe.error(M.message||(t==="en"?"Sign up failed":" "))}finally{a(!1)}},k=[{icon:Fr,titleEn:"NFC Attendance",titleAr:" NFC",descEn:"Contactless check-in system",descAr:"    ",image:loe},{icon:bn,titleEn:"Live Bus Tracking",titleAr:"  ",descEn:"Real-time GPS location",descAr:" GPS ",image:coe},{icon:ii,titleEn:"Digital Wallet",titleAr:" ",descEn:"Cashless payments",descAr:"  ",image:doe}],A=[{en:"Real-time attendance tracking",ar:"  "},{en:"Secure digital payments",ar:"  "},{en:"Parent-teacher communication",ar:"   "},{en:"Academic performance monitoring",ar:"  "},{en:"Bus tracking & safety",ar:"  "},{en:"School store access",ar:"   "}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5",children:[s.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-lg border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("a",{href:"/",className:"flex items-center gap-3 cursor-pointer hover:opacity-80 transition-opacity",children:[s.jsx("img",{src:"/src/assets/talebedu-logo-hq.png",alt:"TalebEdu Logo",className:"h-12 w-12 object-contain"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-primary",children:"TalebEdu"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:t==="en"?"Smart School Management":"  "})]})]}),s.jsxs($,{variant:"outline",size:"sm",onClick:()=>n(t==="en"?"ar":"en"),className:"gap-2",children:[s.jsx(wy,{className:"h-4 w-4"}),t==="en"?"":"English"]})]})})}),s.jsx("div",{className:"container mx-auto px-4 pt-32 pb-12",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start max-w-7xl mx-auto",children:[s.jsxs("div",{className:"space-y-8 animate-fade-in",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(ce,{className:"px-4 py-2",variant:"secondary",children:t==="en"?" The Future of Education":"  "}),s.jsx("h1",{className:"text-5xl md:text-6xl font-bold leading-tight",children:t==="en"?s.jsxs(s.Fragment,{children:["Transform Your",s.jsx("br",{}),"School Experience"]}):s.jsxs(s.Fragment,{children:[" ",s.jsx("br",{}),""]})}),s.jsx("p",{className:"text-xl text-muted-foreground",children:t==="en"?"Complete school management platform with NFC attendance, live tracking, and digital payments - all in one place.":"      NFC     -     ."})]}),s.jsx("div",{className:"rounded-2xl overflow-hidden shadow-2xl",children:s.jsx("img",{src:ooe,alt:"Education",className:"w-full h-auto"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-xl font-semibold",children:t==="en"?"Why Choose TalebEdu?":"   "}),s.jsx("div",{className:"grid gap-2",children:A.map((O,M)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hi,{className:"h-5 w-5 text-primary shrink-0"}),s.jsx("span",{className:"text-muted-foreground",children:t==="en"?O.en:O.ar})]},M))})]}),s.jsx("div",{className:"grid grid-cols-3 gap-4",children:k.map((O,M)=>s.jsxs(q,{className:"overflow-hidden hover:shadow-lg transition-all",children:[s.jsx("div",{className:"aspect-square relative bg-gradient-to-br from-primary/10 to-primary/5",children:s.jsx("img",{src:O.image,alt:"",className:"w-full h-full object-cover"})}),s.jsxs(G,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(O.icon,{className:"h-4 w-4 text-primary"}),s.jsx("h4",{className:"font-semibold text-sm",children:t==="en"?O.titleEn:O.titleAr})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:t==="en"?O.descEn:O.descAr})]})]},M))})]}),s.jsx("div",{className:"sticky top-32",children:s.jsxs(q,{className:"w-full shadow-2xl",children:[s.jsxs(te,{className:"text-center",children:[s.jsx(ne,{className:"text-3xl",children:t==="en"?"Welcome":""}),s.jsx(wn,{children:t==="en"?"Sign in to your account or create a new one":"       "})]}),s.jsxs(G,{children:[s.jsxs(gn,{value:i,onValueChange:o,children:[s.jsxs(sn,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(_e,{value:"signin",children:t==="en"?"Sign In":" "}),s.jsx(_e,{value:"signup",children:t==="en"?"Sign Up":" "})]}),s.jsx(Re,{value:"signin",children:s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"signin-email",children:t==="en"?"Email":" "}),s.jsxs("div",{className:"relative",children:[s.jsx(Sc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(F,{id:"signin-email",type:"email",placeholder:t==="en"?"your@email.com":"@",value:l,onChange:O=>c(O.target.value),required:!0,className:"pl-10",dir:"ltr"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"signin-password",children:t==="en"?"Password":" "}),s.jsxs("div",{className:"relative",children:[s.jsx(C1,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(F,{id:"signin-password",type:h?"text":"password",placeholder:"",value:d,onChange:O=>u(O.target.value),required:!0,className:"pl-10 pr-10",dir:"ltr"}),s.jsx($,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>f(!h),children:h?s.jsx(Qr,{className:"h-4 w-4"}):s.jsx(Pn,{className:"h-4 w-4"})})]})]}),s.jsx($,{type:"submit",className:"w-full",size:"lg",disabled:r,children:r?t==="en"?"Signing in...":"  ...":t==="en"?"Sign In":" "})]})}),s.jsx(Re,{value:"signup",children:s.jsxs("form",{onSubmit:C,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{htmlFor:"signup-name",children:[t==="en"?"Full Name":" "," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx(as,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(F,{id:"signup-name",type:"text",placeholder:t==="en"?"John Doe":" ",value:y,onChange:O=>x(O.target.value),required:!0,className:"pl-10"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{htmlFor:"signup-email",children:[t==="en"?"Email":" "," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx(Sc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(F,{id:"signup-email",type:"email",placeholder:t==="en"?"your@email.com":"@",value:p,onChange:O=>g(O.target.value),required:!0,className:"pl-10",dir:"ltr"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"signup-phone",children:t==="en"?"Phone Number (Optional)":"  ()"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ku,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(F,{id:"signup-phone",type:"tel",placeholder:t==="en"?"+968 1234 5678":"+  ",value:w,onChange:O=>b(O.target.value),className:"pl-10",dir:"ltr"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{htmlFor:"signup-password",children:[t==="en"?"Password":" "," *"]}),s.jsxs("div",{className:"relative",children:[s.jsx(C1,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(F,{id:"signup-password",type:S?"text":"password",placeholder:"",value:v,onChange:O=>j(O.target.value),required:!0,className:"pl-10 pr-10",dir:"ltr"}),s.jsx($,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>_(!S),children:S?s.jsx(Qr,{className:"h-4 w-4"}):s.jsx(Pn,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:t==="en"?"Must be at least 6 characters":"   6   "})]}),s.jsx($,{type:"submit",className:"w-full",size:"lg",disabled:r,children:r?t==="en"?"Creating Account...":"  ...":t==="en"?"Create Account":" "})]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:t==="en"?"By signing up, you agree to our Terms of Service and Privacy Policy":"          "})})]})]})})]})})]})}const xw=768;function hoe(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const n=window.matchMedia(`(max-width: ${xw-1}px)`),r=()=>{t(window.innerWidth<xw)};return n.addEventListener("change",r),t(window.innerWidth<xw),()=>n.removeEventListener("change",r)},[]),!!e}function foe(){const{language:e,setLanguage:t,t:n}=Te();return s.jsxs($,{variant:"ghost",size:"sm",onClick:()=>t(e==="en"?"ar":"en"),className:"gap-2",children:[s.jsx(wy,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:e==="en"?"":"English"})]})}var TF={exports:{}},OF={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ju=m;function moe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var poe=typeof Object.is=="function"?Object.is:moe,goe=ju.useState,voe=ju.useEffect,xoe=ju.useLayoutEffect,yoe=ju.useDebugValue;function joe(e,t){var n=t(),r=goe({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return xoe(function(){a.value=n,a.getSnapshot=t,yw(a)&&i({inst:a})},[e,n,t]),voe(function(){return yw(a)&&i({inst:a}),e(function(){yw(a)&&i({inst:a})})},[e]),yoe(n),n}function yw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!poe(e,n)}catch{return!0}}function woe(e,t){return t()}var boe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?woe:joe;OF.useSyncExternalStore=ju.useSyncExternalStore!==void 0?ju.useSyncExternalStore:boe;TF.exports=OF;var MF=TF.exports;function Noe(){return MF.useSyncExternalStore(_oe,()=>!0,()=>!1)}function _oe(){return()=>{}}var xC="Avatar",[Soe,ATe]=Ln(xC),[Coe,DF]=Soe(xC),RF=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[a,i]=m.useState("idle");return s.jsx(Coe,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Ce.span,{...r,ref:t})})});RF.displayName=xC;var IF="AvatarImage",$F=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:a=()=>{},...i}=e,o=DF(IF,n),l=koe(r,i),c=hn(d=>{a(d),o.onImageLoadingStatusChange(d)});return Nn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Ce.img,{...i,ref:t,src:r}):null});$F.displayName=IF;var LF="AvatarFallback",FF=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...a}=e,i=DF(LF,n),[o,l]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Ce.span,{...a,ref:t}):null});FF.displayName=LF;function GT(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function koe(e,{referrerPolicy:t,crossOrigin:n}){const r=Noe(),a=m.useRef(null),i=r?(a.current||(a.current=new window.Image),a.current):null,[o,l]=m.useState(()=>GT(i,e));return Nn(()=>{l(GT(i,e))},[i,e]),Nn(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,n,t]),o}var BF=RF,zF=$F,UF=FF;const fn=m.forwardRef(({className:e,...t},n)=>s.jsx(BF,{ref:n,className:me("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));fn.displayName=BF.displayName;const sr=m.forwardRef(({className:e,...t},n)=>s.jsx(zF,{ref:n,className:me("aspect-square h-full w-full",e),...t}));sr.displayName=zF.displayName;const mn=m.forwardRef(({className:e,...t},n)=>s.jsx(UF,{ref:n,className:me("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));mn.displayName=UF.displayName;var jw=0;function Vy(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??YT()),document.body.insertAdjacentElement("beforeend",e[1]??YT()),jw++,()=>{jw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jw--}},[])}function YT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ww="focusScope.autoFocusOnMount",bw="focusScope.autoFocusOnUnmount",XT={bubbles:!1,cancelable:!0},Aoe="FocusScope",Km=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=m.useState(null),d=hn(a),u=hn(i),h=m.useRef(null),f=Ze(t,v=>c(v)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(w){if(p.paused||!l)return;const b=w.target;l.contains(b)?h.current=b:ko(h.current,{select:!0})},j=function(w){if(p.paused||!l)return;const b=w.relatedTarget;b!==null&&(l.contains(b)||ko(h.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&ko(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",j);const x=new MutationObserver(y);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",j),x.disconnect()}}},[r,l,p.paused]),m.useEffect(()=>{if(l){QT.add(p);const v=document.activeElement;if(!l.contains(v)){const y=new CustomEvent(ww,XT);l.addEventListener(ww,d),l.dispatchEvent(y),y.defaultPrevented||(Poe(Doe(VF(l)),{select:!0}),document.activeElement===v&&ko(l))}return()=>{l.removeEventListener(ww,d),setTimeout(()=>{const y=new CustomEvent(bw,XT);l.addEventListener(bw,u),l.dispatchEvent(y),y.defaultPrevented||ko(v??document.body,{select:!0}),l.removeEventListener(bw,u),QT.remove(p)},0)}}},[l,d,u,p]);const g=m.useCallback(v=>{if(!n&&!r||p.paused)return;const j=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(j&&y){const x=v.currentTarget,[w,b]=Eoe(x);w&&b?!v.shiftKey&&y===b?(v.preventDefault(),n&&ko(w,{select:!0})):v.shiftKey&&y===w&&(v.preventDefault(),n&&ko(b,{select:!0})):y===x&&v.preventDefault()}},[n,r,p.paused]);return s.jsx(Ce.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});Km.displayName=Aoe;function Poe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ko(r,{select:t}),document.activeElement!==n)return}function Eoe(e){const t=VF(e),n=ZT(t,e),r=ZT(t.reverse(),e);return[n,r]}function VF(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ZT(e,t){for(const n of e)if(!Toe(n,{upTo:t}))return n}function Toe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ooe(e){return e instanceof HTMLInputElement&&"select"in e}function ko(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Ooe(e)&&t&&e.select()}}var QT=Moe();function Moe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=JT(e,t),e.unshift(t)},remove(t){var n;e=JT(e,t),(n=e[0])==null||n.resume()}}}function JT(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Doe(e){return e.filter(t=>t.tagName!=="A")}var Roe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},sd=new WeakMap,og=new WeakMap,lg={},Nw=0,WF=function(e){return e&&(e.host||WF(e.parentNode))},Ioe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=WF(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},$oe=function(e,t,n,r){var a=Ioe(t,Array.isArray(e)?e:[e]);lg[n]||(lg[n]=new WeakMap);var i=lg[n],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var p=f.getAttribute(r),g=p!==null&&p!=="false",v=(sd.get(f)||0)+1,j=(i.get(f)||0)+1;sd.set(f,v),i.set(f,j),o.push(f),v===1&&g&&og.set(f,!0),j===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(t),l.clear(),Nw++,function(){o.forEach(function(h){var f=sd.get(h)-1,p=i.get(h)-1;sd.set(h,f),i.set(h,p),f||(og.has(h)||h.removeAttribute(r),og.delete(h)),p||h.removeAttribute(n)}),Nw--,Nw||(sd=new WeakMap,sd=new WeakMap,og=new WeakMap,lg={})}},Wy=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=Roe(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),$oe(r,a,n,"aria-hidden")):function(){return null}},Za=function(){return Za=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Za.apply(this,arguments)};function qF(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Loe(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Gg="right-scroll-bar-position",Yg="width-before-scroll-bar",Foe="with-scroll-bars-hidden",Boe="--removed-body-scroll-bar-size";function _w(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function zoe(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var Uoe=typeof window<"u"?m.useLayoutEffect:m.useEffect,eO=new WeakMap;function Voe(e,t){var n=zoe(null,function(r){return e.forEach(function(a){return _w(a,r)})});return Uoe(function(){var r=eO.get(n);if(r){var a=new Set(r),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||_w(l,null)}),i.forEach(function(l){a.has(l)||_w(l,o)})}eO.set(n,e)},[e]),n}function Woe(e){return e}function qoe(e,t){t===void 0&&(t=Woe);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return a}function Hoe(e){e===void 0&&(e={});var t=qoe(null);return t.options=Za({async:!0,ssr:!1},e),t}var HF=function(e){var t=e.sideCar,n=qF(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Za({},n))};HF.isSideCarExport=!0;function Koe(e,t){return e.useMedium(t),HF}var KF=Hoe(),Sw=function(){},qy=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:Sw,onWheelCapture:Sw,onTouchMoveCapture:Sw}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,g=e.noIsolation,v=e.inert,j=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,w=e.gapMode,b=qF(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,_=Voe([n,t]),N=Za(Za({},b),a);return m.createElement(m.Fragment,null,u&&m.createElement(S,{sideCar:KF,removeScrollBar:d,shards:h,noRelative:p,noIsolation:g,inert:v,setCallbacks:i,allowPinchZoom:!!j,lockRef:n,gapMode:w}),o?m.cloneElement(m.Children.only(l),Za(Za({},N),{ref:_})):m.createElement(x,Za({},N,{className:c,ref:_}),l))});qy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qy.classNames={fullWidth:Yg,zeroRight:Gg};var Goe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Yoe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Goe();return t&&e.setAttribute("nonce",t),e}function Xoe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Zoe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Qoe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Yoe())&&(Xoe(t,n),Zoe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Joe=function(){var e=Qoe();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},GF=function(){var e=Joe(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},ele={left:0,top:0,right:0,gap:0},Cw=function(e){return parseInt(e||"",10)||0},tle=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Cw(n),Cw(r),Cw(a)]},nle=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ele;var t=tle(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},rle=GF(),Wd="data-scroll-locked",sle=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Foe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Wd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gg,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Yg,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Gg," .").concat(Gg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yg," .").concat(Yg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Wd,`] {
    `).concat(Boe,": ").concat(l,`px;
  }
`)},tO=function(){var e=parseInt(document.body.getAttribute(Wd)||"0",10);return isFinite(e)?e:0},ale=function(){m.useEffect(function(){return document.body.setAttribute(Wd,(tO()+1).toString()),function(){var e=tO()-1;e<=0?document.body.removeAttribute(Wd):document.body.setAttribute(Wd,e.toString())}},[])},ile=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;ale();var i=m.useMemo(function(){return nle(a)},[a]);return m.createElement(rle,{styles:sle(i,!t,a,n?"":"!important")})},X1=!1;if(typeof window<"u")try{var cg=Object.defineProperty({},"passive",{get:function(){return X1=!0,!0}});window.addEventListener("test",cg,cg),window.removeEventListener("test",cg,cg)}catch{X1=!1}var ad=X1?{passive:!1}:!1,ole=function(e){return e.tagName==="TEXTAREA"},YF=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!ole(e)&&n[t]==="visible")},lle=function(e){return YF(e,"overflowY")},cle=function(e){return YF(e,"overflowX")},nO=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=XF(e,r);if(a){var i=ZF(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},dle=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ule=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},XF=function(e,t){return e==="v"?lle(t):cle(t)},ZF=function(e,t){return e==="v"?dle(t):ule(t)},hle=function(e,t){return e==="h"&&t==="rtl"?-1:1},fle=function(e,t,n,r,a){var i=hle(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),d=!1,u=o>0,h=0,f=0;do{if(!l)break;var p=ZF(e,l),g=p[0],v=p[1],j=p[2],y=v-j-i*g;(g||y)&&XF(e,l)&&(h+=y,f+=g);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(h)<1||!a)||!u&&(Math.abs(f)<1||!a))&&(d=!0),d},dg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rO=function(e){return[e.deltaX,e.deltaY]},sO=function(e){return e&&"current"in e?e.current:e},mle=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ple=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},gle=0,id=[];function vle(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),a=m.useState(gle++)[0],i=m.useState(GF)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=Loe([e.lockRef.current],(e.shards||[]).map(sO),!0).filter(Boolean);return v.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(v,j){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var y=dg(v),x=n.current,w="deltaX"in v?v.deltaX:x[0]-y[0],b="deltaY"in v?v.deltaY:x[1]-y[1],S,_=v.target,N=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in v&&N==="h"&&_.type==="range")return!1;var C=nO(N,_);if(!C)return!0;if(C?S=N:(S=N==="v"?"h":"v",C=nO(N,_)),!C)return!1;if(!r.current&&"changedTouches"in v&&(w||b)&&(r.current=S),!S)return!0;var k=r.current||S;return fle(k,j,v,k==="h"?w:b,!0)},[]),c=m.useCallback(function(v){var j=v;if(!(!id.length||id[id.length-1]!==i)){var y="deltaY"in j?rO(j):dg(j),x=t.current.filter(function(S){return S.name===j.type&&(S.target===j.target||j.target===S.shadowParent)&&mle(S.delta,y)})[0];if(x&&x.should){j.cancelable&&j.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(sO).filter(Boolean).filter(function(S){return S.contains(j.target)}),b=w.length>0?l(j,w[0]):!o.current.noIsolation;b&&j.cancelable&&j.preventDefault()}}},[]),d=m.useCallback(function(v,j,y,x){var w={name:v,delta:j,target:y,should:x,shadowParent:xle(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),u=m.useCallback(function(v){n.current=dg(v),r.current=void 0},[]),h=m.useCallback(function(v){d(v.type,rO(v),v.target,l(v,e.lockRef.current))},[]),f=m.useCallback(function(v){d(v.type,dg(v),v.target,l(v,e.lockRef.current))},[]);m.useEffect(function(){return id.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,ad),document.addEventListener("touchmove",c,ad),document.addEventListener("touchstart",u,ad),function(){id=id.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,ad),document.removeEventListener("touchmove",c,ad),document.removeEventListener("touchstart",u,ad)}},[]);var p=e.removeScrollBar,g=e.inert;return m.createElement(m.Fragment,null,g?m.createElement(i,{styles:ple(a)}):null,p?m.createElement(ile,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function xle(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const yle=Koe(KF,vle);var Gm=m.forwardRef(function(e,t){return m.createElement(qy,Za({},e,{ref:t,sideCar:yle}))});Gm.classNames=qy.classNames;var Z1=["Enter"," "],jle=["ArrowDown","PageUp","Home"],QF=["ArrowUp","PageDown","End"],wle=[...jle,...QF],ble={ltr:[...Z1,"ArrowRight"],rtl:[...Z1,"ArrowLeft"]},Nle={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ym="Menu",[lm,_le,Sle]=py(Ym),[Hc,JF]=Ln(Ym,[Sle,Cl,nh]),Hy=Cl(),e6=nh(),[Cle,Kc]=Hc(Ym),[kle,Xm]=Hc(Ym),t6=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=e,l=Hy(t),[c,d]=m.useState(null),u=m.useRef(!1),h=hn(i),f=th(a);return m.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),s.jsx(sC,{...l,children:s.jsx(Cle,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:d,children:s.jsx(kle,{scope:t,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:f,modal:o,children:r})})})};t6.displayName=Ym;var Ale="MenuAnchor",yC=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Hy(n);return s.jsx(Um,{...a,...r,ref:t})});yC.displayName=Ale;var jC="MenuPortal",[Ple,n6]=Hc(jC,{forceMount:void 0}),r6=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,i=Kc(jC,t);return s.jsx(Ple,{scope:t,forceMount:n,children:s.jsx(Fn,{present:n||i.open,children:s.jsx(Wu,{asChild:!0,container:a,children:r})})})};r6.displayName=jC;var Zs="MenuContent",[Ele,wC]=Hc(Zs),s6=m.forwardRef((e,t)=>{const n=n6(Zs,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Kc(Zs,e.__scopeMenu),o=Xm(Zs,e.__scopeMenu);return s.jsx(lm.Provider,{scope:e.__scopeMenu,children:s.jsx(Fn,{present:r||i.open,children:s.jsx(lm.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(Tle,{...a,ref:t}):s.jsx(Ole,{...a,ref:t})})})})}),Tle=m.forwardRef((e,t)=>{const n=Kc(Zs,e.__scopeMenu),r=m.useRef(null),a=Ze(t,r);return m.useEffect(()=>{const i=r.current;if(i)return Wy(i)},[]),s.jsx(bC,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ge(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Ole=m.forwardRef((e,t)=>{const n=Kc(Zs,e.__scopeMenu);return s.jsx(bC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Mle=cl("MenuContent.ScrollLock"),bC=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:g,...v}=e,j=Kc(Zs,n),y=Xm(Zs,n),x=Hy(n),w=e6(n),b=_le(n),[S,_]=m.useState(null),N=m.useRef(null),C=Ze(t,N,j.onContentChange),k=m.useRef(0),A=m.useRef(""),O=m.useRef(0),M=m.useRef(null),z=m.useRef("right"),P=m.useRef(0),E=g?Gm:m.Fragment,U=g?{as:Mle,allowPinchZoom:!0}:void 0,R=L=>{var I,Z;const Q=A.current+L,se=b().filter(J=>!J.disabled),W=document.activeElement,ie=(I=se.find(J=>J.ref.current===W))==null?void 0:I.textValue,ue=se.map(J=>J.textValue),oe=qle(ue,Q,ie),Se=(Z=se.find(J=>J.textValue===oe))==null?void 0:Z.ref.current;(function J(X){A.current=X,window.clearTimeout(k.current),X!==""&&(k.current=window.setTimeout(()=>J(""),1e3))})(Q),Se&&setTimeout(()=>Se.focus())};m.useEffect(()=>()=>window.clearTimeout(k.current),[]),Vy();const B=m.useCallback(L=>{var se,W;return z.current===((se=M.current)==null?void 0:se.side)&&Kle(L,(W=M.current)==null?void 0:W.area)},[]);return s.jsx(Ele,{scope:n,searchRef:A,onItemEnter:m.useCallback(L=>{B(L)&&L.preventDefault()},[B]),onItemLeave:m.useCallback(L=>{var Q;B(L)||((Q=N.current)==null||Q.focus(),_(null))},[B]),onTriggerLeave:m.useCallback(L=>{B(L)&&L.preventDefault()},[B]),pointerGraceTimerRef:O,onPointerGraceIntentChange:m.useCallback(L=>{M.current=L},[]),children:s.jsx(E,{...U,children:s.jsx(Km,{asChild:!0,trapped:a,onMountAutoFocus:ge(i,L=>{var Q;L.preventDefault(),(Q=N.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Vc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:s.jsx(pC,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:_,onEntryFocus:ge(c,L=>{y.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(ky,{role:"menu","aria-orientation":"vertical","data-state":j6(j.open),"data-radix-menu-content":"",dir:y.dir,...x,...v,ref:C,style:{outline:"none",...v.style},onKeyDown:ge(v.onKeyDown,L=>{const se=L.target.closest("[data-radix-menu-content]")===L.currentTarget,W=L.ctrlKey||L.altKey||L.metaKey,ie=L.key.length===1;se&&(L.key==="Tab"&&L.preventDefault(),!W&&ie&&R(L.key));const ue=N.current;if(L.target!==ue||!wle.includes(L.key))return;L.preventDefault();const Se=b().filter(I=>!I.disabled).map(I=>I.ref.current);QF.includes(L.key)&&Se.reverse(),Vle(Se)}),onBlur:ge(e.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(k.current),A.current="")}),onPointerMove:ge(e.onPointerMove,cm(L=>{const Q=L.target,se=P.current!==L.clientX;if(L.currentTarget.contains(Q)&&se){const W=L.clientX>P.current?"right":"left";z.current=W,P.current=L.clientX}}))})})})})})})});s6.displayName=Zs;var Dle="MenuGroup",NC=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Ce.div,{role:"group",...r,ref:t})});NC.displayName=Dle;var Rle="MenuLabel",a6=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Ce.div,{...r,ref:t})});a6.displayName=Rle;var Wv="MenuItem",aO="menu.itemSelect",Ky=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,i=m.useRef(null),o=Xm(Wv,e.__scopeMenu),l=wC(Wv,e.__scopeMenu),c=Ze(t,i),d=m.useRef(!1),u=()=>{const h=i.current;if(!n&&h){const f=new CustomEvent(aO,{bubbles:!0,cancelable:!0});h.addEventListener(aO,p=>r==null?void 0:r(p),{once:!0}),IS(h,f),f.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(i6,{...a,ref:c,disabled:n,onClick:ge(e.onClick,u),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),d.current=!0},onPointerUp:ge(e.onPointerUp,h=>{var f;d.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:ge(e.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||Z1.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Ky.displayName=Wv;var i6=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=e,o=wC(Wv,n),l=e6(n),c=m.useRef(null),d=Ze(t,c),[u,h]=m.useState(!1),[f,p]=m.useState("");return m.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[i.children]),s.jsx(lm.ItemSlot,{scope:n,disabled:r,textValue:a??f,children:s.jsx(gC,{asChild:!0,...l,focusable:!r,children:s.jsx(Ce.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:ge(e.onPointerMove,cm(g=>{r?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ge(e.onPointerLeave,cm(g=>o.onItemLeave(g))),onFocus:ge(e.onFocus,()=>h(!0)),onBlur:ge(e.onBlur,()=>h(!1))})})})}),Ile="MenuCheckboxItem",o6=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return s.jsx(h6,{scope:e.__scopeMenu,checked:n,children:s.jsx(Ky,{role:"menuitemcheckbox","aria-checked":qv(n)?"mixed":n,...a,ref:t,"data-state":SC(n),onSelect:ge(a.onSelect,()=>r==null?void 0:r(qv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});o6.displayName=Ile;var l6="MenuRadioGroup",[$le,Lle]=Hc(l6,{value:void 0,onValueChange:()=>{}}),c6=m.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,i=hn(r);return s.jsx($le,{scope:e.__scopeMenu,value:n,onValueChange:i,children:s.jsx(NC,{...a,ref:t})})});c6.displayName=l6;var d6="MenuRadioItem",u6=m.forwardRef((e,t)=>{const{value:n,...r}=e,a=Lle(d6,e.__scopeMenu),i=n===a.value;return s.jsx(h6,{scope:e.__scopeMenu,checked:i,children:s.jsx(Ky,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":SC(i),onSelect:ge(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});u6.displayName=d6;var _C="MenuItemIndicator",[h6,Fle]=Hc(_C,{checked:!1}),f6=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,i=Fle(_C,n);return s.jsx(Fn,{present:r||qv(i.checked)||i.checked===!0,children:s.jsx(Ce.span,{...a,ref:t,"data-state":SC(i.checked)})})});f6.displayName=_C;var Ble="MenuSeparator",m6=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Ce.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});m6.displayName=Ble;var zle="MenuArrow",p6=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Hy(n);return s.jsx(Ay,{...a,...r,ref:t})});p6.displayName=zle;var Ule="MenuSub",[PTe,g6]=Hc(Ule),Zh="MenuSubTrigger",v6=m.forwardRef((e,t)=>{const n=Kc(Zh,e.__scopeMenu),r=Xm(Zh,e.__scopeMenu),a=g6(Zh,e.__scopeMenu),i=wC(Zh,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(yC,{asChild:!0,...d,children:s.jsx(i6,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":j6(n.open),...e,ref:qi(t,a.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ge(e.onPointerMove,cm(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ge(e.onPointerLeave,cm(h=>{var p,g;u();const f=(p=n.content)==null?void 0:p.getBoundingClientRect();if(f){const v=(g=n.content)==null?void 0:g.dataset.side,j=v==="right",y=j?-5:5,x=f[j?"left":"right"],w=f[j?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x,y:f.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ge(e.onKeyDown,h=>{var p;const f=i.searchRef.current!=="";e.disabled||f&&h.key===" "||ble[r.dir].includes(h.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),h.preventDefault())})})})});v6.displayName=Zh;var x6="MenuSubContent",y6=m.forwardRef((e,t)=>{const n=n6(Zs,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Kc(Zs,e.__scopeMenu),o=Xm(Zs,e.__scopeMenu),l=g6(x6,e.__scopeMenu),c=m.useRef(null),d=Ze(t,c);return s.jsx(lm.Provider,{scope:e.__scopeMenu,children:s.jsx(Fn,{present:r||i.open,children:s.jsx(lm.Slot,{scope:e.__scopeMenu,children:s.jsx(bC,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ge(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ge(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:ge(e.onKeyDown,u=>{var p;const h=u.currentTarget.contains(u.target),f=Nle[o.dir].includes(u.key);h&&f&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});y6.displayName=x6;function j6(e){return e?"open":"closed"}function qv(e){return e==="indeterminate"}function SC(e){return qv(e)?"indeterminate":e?"checked":"unchecked"}function Vle(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Wle(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function qle(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=Wle(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function Hle(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,f=c.y;u>r!=f>r&&n<(h-d)*(r-u)/(f-u)+d&&(a=!a)}return a}function Kle(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Hle(n,t)}function cm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Gle=t6,Yle=yC,Xle=r6,Zle=s6,Qle=NC,Jle=a6,ece=Ky,tce=o6,nce=c6,rce=u6,sce=f6,ace=m6,ice=p6,oce=v6,lce=y6,Gy="DropdownMenu",[cce,ETe]=Ln(Gy,[JF]),Ur=JF(),[dce,w6]=cce(Gy),b6=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Ur(t),d=m.useRef(null),[u,h]=Ca({prop:a,defaultProp:i??!1,onChange:o,caller:Gy});return s.jsx(dce,{scope:t,triggerId:ir(),triggerRef:d,contentId:ir(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(f=>!f),[h]),modal:l,children:s.jsx(Gle,{...c,open:u,onOpenChange:h,dir:r,modal:l,children:n})})};b6.displayName=Gy;var N6="DropdownMenuTrigger",_6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,i=w6(N6,n),o=Ur(n);return s.jsx(Yle,{asChild:!0,...o,children:s.jsx(Ce.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:qi(t,i.triggerRef),onPointerDown:ge(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ge(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});_6.displayName=N6;var uce="DropdownMenuPortal",S6=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Ur(t);return s.jsx(Xle,{...r,...n})};S6.displayName=uce;var C6="DropdownMenuContent",k6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=w6(C6,n),i=Ur(n),o=m.useRef(!1);return s.jsx(Zle,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:t,onCloseAutoFocus:ge(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ge(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});k6.displayName=C6;var hce="DropdownMenuGroup",fce=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ur(n);return s.jsx(Qle,{...a,...r,ref:t})});fce.displayName=hce;var mce="DropdownMenuLabel",A6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ur(n);return s.jsx(Jle,{...a,...r,ref:t})});A6.displayName=mce;var pce="DropdownMenuItem",P6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ur(n);return s.jsx(ece,{...a,...r,ref:t})});P6.displayName=pce;var gce="DropdownMenuCheckboxItem",E6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ur(n);return s.jsx(tce,{...a,...r,ref:t})});E6.displayName=gce;var vce="DropdownMenuRadioGroup",xce=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ur(n);return s.jsx(nce,{...a,...r,ref:t})});xce.displayName=vce;var yce="DropdownMenuRadioItem",T6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ur(n);return s.jsx(rce,{...a,...r,ref:t})});T6.displayName=yce;var jce="DropdownMenuItemIndicator",O6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ur(n);return s.jsx(sce,{...a,...r,ref:t})});O6.displayName=jce;var wce="DropdownMenuSeparator",M6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ur(n);return s.jsx(ace,{...a,...r,ref:t})});M6.displayName=wce;var bce="DropdownMenuArrow",Nce=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ur(n);return s.jsx(ice,{...a,...r,ref:t})});Nce.displayName=bce;var _ce="DropdownMenuSubTrigger",D6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ur(n);return s.jsx(oce,{...a,...r,ref:t})});D6.displayName=_ce;var Sce="DropdownMenuSubContent",R6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ur(n);return s.jsx(lce,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});R6.displayName=Sce;var Cce=b6,kce=_6,Ace=S6,I6=k6,$6=A6,L6=P6,F6=E6,B6=T6,z6=O6,U6=M6,V6=D6,W6=R6;const Pce=Cce,Ece=kce,Tce=m.forwardRef(({className:e,inset:t,children:n,...r},a)=>s.jsxs(V6,{ref:a,className:me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...r,children:[n,s.jsx(Bd,{className:"ml-auto h-4 w-4"})]}));Tce.displayName=V6.displayName;const Oce=m.forwardRef(({className:e,...t},n)=>s.jsx(W6,{ref:n,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Oce.displayName=W6.displayName;const q6=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(Ace,{children:s.jsx(I6,{ref:r,sideOffset:t,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));q6.displayName=I6.displayName;const Xg=m.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(L6,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));Xg.displayName=L6.displayName;const Mce=m.forwardRef(({className:e,children:t,checked:n,...r},a)=>s.jsxs(F6,{ref:a,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(z6,{children:s.jsx(Hi,{className:"h-4 w-4"})})}),t]}));Mce.displayName=F6.displayName;const Dce=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(B6,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(z6,{children:s.jsx(m5,{className:"h-2 w-2 fill-current"})})}),t]}));Dce.displayName=B6.displayName;const H6=m.forwardRef(({className:e,inset:t,...n},r)=>s.jsx($6,{ref:r,className:me("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));H6.displayName=$6.displayName;const Q1=m.forwardRef(({className:e,...t},n)=>s.jsx(U6,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));Q1.displayName=U6.displayName;function J1(e,[t,n]){return Math.min(n,Math.max(t,e))}function Yy(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Rce=[" ","Enter","ArrowUp","ArrowDown"],Ice=[" ","Enter"],Ac="Select",[Xy,Zy,$ce]=py(Ac),[rh,TTe]=Ln(Ac,[$ce,Cl]),Qy=Cl(),[Lce,Pl]=rh(Ac),[Fce,Bce]=rh(Ac),K6=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:p,form:g}=e,v=Qy(t),[j,y]=m.useState(null),[x,w]=m.useState(null),[b,S]=m.useState(!1),_=th(d),[N,C]=Ca({prop:r,defaultProp:a??!1,onChange:i,caller:Ac}),[k,A]=Ca({prop:o,defaultProp:l,onChange:c,caller:Ac}),O=m.useRef(null),M=j?g||!!j.closest("form"):!0,[z,P]=m.useState(new Set),E=Array.from(z).map(U=>U.props.value).join(";");return s.jsx(sC,{...v,children:s.jsxs(Lce,{required:p,scope:t,trigger:j,onTriggerChange:y,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:S,contentId:ir(),value:k,onValueChange:A,open:N,onOpenChange:C,dir:_,triggerPointerDownPosRef:O,disabled:f,children:[s.jsx(Xy.Provider,{scope:t,children:s.jsx(Fce,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(U=>{P(R=>new Set(R).add(U))},[]),onNativeOptionRemove:m.useCallback(U=>{P(R=>{const B=new Set(R);return B.delete(U),B})},[]),children:n})}),M?s.jsxs(vB,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:k,onChange:U=>A(U.target.value),disabled:f,form:g,children:[k===void 0?s.jsx("option",{value:""}):null,Array.from(z)]},E):null]})})};K6.displayName=Ac;var G6="SelectTrigger",Y6=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=Qy(n),o=Pl(G6,n),l=o.disabled||r,c=Ze(t,o.onTriggerChange),d=Zy(n),u=m.useRef("touch"),[h,f,p]=yB(v=>{const j=d().filter(w=>!w.disabled),y=j.find(w=>w.value===o.value),x=jB(j,v,y);x!==void 0&&o.onValueChange(x.value)}),g=v=>{l||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return s.jsx(Um,{asChild:!0,...i,children:s.jsx(Ce.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":xB(o.value)?"":void 0,...a,ref:c,onClick:ge(a.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&g(v)}),onPointerDown:ge(a.onPointerDown,v=>{u.current=v.pointerType;const j=v.target;j.hasPointerCapture(v.pointerId)&&j.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:ge(a.onKeyDown,v=>{const j=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(j&&v.key===" ")&&Rce.includes(v.key)&&(g(),v.preventDefault())})})})});Y6.displayName=G6;var X6="SelectValue",Z6=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o="",...l}=e,c=Pl(X6,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=Ze(t,c.onValueNodeChange);return Nn(()=>{d(u)},[d,u]),s.jsx(Ce.span,{...l,ref:h,style:{pointerEvents:"none"},children:xB(c.value)?s.jsx(s.Fragment,{children:o}):i})});Z6.displayName=X6;var zce="SelectIcon",Q6=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(Ce.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});Q6.displayName=zce;var Uce="SelectPortal",J6=e=>s.jsx(Wu,{asChild:!0,...e});J6.displayName=Uce;var Pc="SelectContent",eB=m.forwardRef((e,t)=>{const n=Pl(Pc,e.__scopeSelect),[r,a]=m.useState();if(Nn(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?no.createPortal(s.jsx(tB,{scope:e.__scopeSelect,children:s.jsx(Xy.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(nB,{...e,ref:t})});eB.displayName=Pc;var fa=10,[tB,El]=rh(Pc),Vce="SelectContentImpl",Wce=cl("SelectContent.RemoveScroll"),nB=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:j,...y}=e,x=Pl(Pc,n),[w,b]=m.useState(null),[S,_]=m.useState(null),N=Ze(t,I=>b(I)),[C,k]=m.useState(null),[A,O]=m.useState(null),M=Zy(n),[z,P]=m.useState(!1),E=m.useRef(!1);m.useEffect(()=>{if(w)return Wy(w)},[w]),Vy();const U=m.useCallback(I=>{const[Z,...J]=M().map(D=>D.ref.current),[X]=J.slice(-1),he=document.activeElement;for(const D of I)if(D===he||(D==null||D.scrollIntoView({block:"nearest"}),D===Z&&S&&(S.scrollTop=0),D===X&&S&&(S.scrollTop=S.scrollHeight),D==null||D.focus(),document.activeElement!==he))return},[M,S]),R=m.useCallback(()=>U([C,w]),[U,C,w]);m.useEffect(()=>{z&&R()},[z,R]);const{onOpenChange:B,triggerPointerDownPosRef:L}=x;m.useEffect(()=>{if(w){let I={x:0,y:0};const Z=X=>{var he,D;I={x:Math.abs(Math.round(X.pageX)-(((he=L.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(X.pageY)-(((D=L.current)==null?void 0:D.y)??0))}},J=X=>{I.x<=10&&I.y<=10?X.preventDefault():w.contains(X.target)||B(!1),document.removeEventListener("pointermove",Z),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",J,{capture:!0})}}},[w,B,L]),m.useEffect(()=>{const I=()=>B(!1);return window.addEventListener("blur",I),window.addEventListener("resize",I),()=>{window.removeEventListener("blur",I),window.removeEventListener("resize",I)}},[B]);const[Q,se]=yB(I=>{const Z=M().filter(he=>!he.disabled),J=Z.find(he=>he.ref.current===document.activeElement),X=jB(Z,I,J);X&&setTimeout(()=>X.ref.current.focus())}),W=m.useCallback((I,Z,J)=>{const X=!E.current&&!J;(x.value!==void 0&&x.value===Z||X)&&(k(I),X&&(E.current=!0))},[x.value]),ie=m.useCallback(()=>w==null?void 0:w.focus(),[w]),ue=m.useCallback((I,Z,J)=>{const X=!E.current&&!J;(x.value!==void 0&&x.value===Z||X)&&O(I)},[x.value]),oe=r==="popper"?eN:rB,Se=oe===eN?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:j}:{};return s.jsx(tB,{scope:n,content:w,viewport:S,onViewportChange:_,itemRefCallback:W,selectedItem:C,onItemLeave:ie,itemTextRefCallback:ue,focusSelectedItem:R,selectedItemText:A,position:r,isPositioned:z,searchRef:Q,children:s.jsx(Gm,{as:Wce,allowPinchZoom:!0,children:s.jsx(Km,{asChild:!0,trapped:x.open,onMountAutoFocus:I=>{I.preventDefault()},onUnmountAutoFocus:ge(a,I=>{var Z;(Z=x.trigger)==null||Z.focus({preventScroll:!0}),I.preventDefault()}),children:s.jsx(Vc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:I=>I.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx(oe,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:I=>I.preventDefault(),...y,...Se,onPlaced:()=>P(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ge(y.onKeyDown,I=>{const Z=I.ctrlKey||I.altKey||I.metaKey;if(I.key==="Tab"&&I.preventDefault(),!Z&&I.key.length===1&&se(I.key),["ArrowUp","ArrowDown","Home","End"].includes(I.key)){let X=M().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(I.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(I.key)){const he=I.target,D=X.indexOf(he);X=X.slice(D+1)}setTimeout(()=>U(X)),I.preventDefault()}})})})})})})});nB.displayName=Vce;var qce="SelectItemAlignedPosition",rB=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=Pl(Pc,n),o=El(Pc,n),[l,c]=m.useState(null),[d,u]=m.useState(null),h=Ze(t,N=>u(N)),f=Zy(n),p=m.useRef(!1),g=m.useRef(!0),{viewport:v,selectedItem:j,selectedItemText:y,focusSelectedItem:x}=o,w=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&v&&j&&y){const N=i.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(i.dir!=="rtl"){const he=A.left-C.left,D=k.left-he,ee=N.left-D,pe=N.width+ee,Oe=Math.max(pe,C.width),Y=window.innerWidth-fa,ye=J1(D,[fa,Math.max(fa,Y-Oe)]);l.style.minWidth=pe+"px",l.style.left=ye+"px"}else{const he=C.right-A.right,D=window.innerWidth-k.right-he,ee=window.innerWidth-N.right-D,pe=N.width+ee,Oe=Math.max(pe,C.width),Y=window.innerWidth-fa,ye=J1(D,[fa,Math.max(fa,Y-Oe)]);l.style.minWidth=pe+"px",l.style.right=ye+"px"}const O=f(),M=window.innerHeight-fa*2,z=v.scrollHeight,P=window.getComputedStyle(d),E=parseInt(P.borderTopWidth,10),U=parseInt(P.paddingTop,10),R=parseInt(P.borderBottomWidth,10),B=parseInt(P.paddingBottom,10),L=E+U+z+B+R,Q=Math.min(j.offsetHeight*5,L),se=window.getComputedStyle(v),W=parseInt(se.paddingTop,10),ie=parseInt(se.paddingBottom,10),ue=N.top+N.height/2-fa,oe=M-ue,Se=j.offsetHeight/2,I=j.offsetTop+Se,Z=E+U+I,J=L-Z;if(Z<=ue){const he=O.length>0&&j===O[O.length-1].ref.current;l.style.bottom="0px";const D=d.clientHeight-v.offsetTop-v.offsetHeight,ee=Math.max(oe,Se+(he?ie:0)+D+R),pe=Z+ee;l.style.height=pe+"px"}else{const he=O.length>0&&j===O[0].ref.current;l.style.top="0px";const ee=Math.max(ue,E+v.offsetTop+(he?W:0)+Se)+J;l.style.height=ee+"px",v.scrollTop=Z-ue+v.offsetTop}l.style.margin=`${fa}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,l,d,v,j,y,i.dir,r]);Nn(()=>w(),[w]);const[b,S]=m.useState();Nn(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const _=m.useCallback(N=>{N&&g.current===!0&&(w(),x==null||x(),g.current=!1)},[w,x]);return s.jsx(Kce,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:_,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:s.jsx(Ce.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});rB.displayName=qce;var Hce="SelectPopperPosition",eN=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=fa,...i}=e,o=Qy(n);return s.jsx(ky,{...o,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});eN.displayName=Hce;var[Kce,CC]=rh(Pc,{}),tN="SelectViewport",sB=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=El(tN,n),o=CC(tN,n),l=Ze(t,i.onViewportChange),c=m.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Xy.Slot,{scope:n,children:s.jsx(Ce.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ge(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const p=Math.abs(c.current-u.scrollTop);if(p>0){const g=window.innerHeight-fa*2,v=parseFloat(h.style.minHeight),j=parseFloat(h.style.height),y=Math.max(v,j);if(y<g){const x=y+p,w=Math.min(g,x),b=x-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=b>0?b:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});sB.displayName=tN;var aB="SelectGroup",[Gce,Yce]=rh(aB),Xce=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=ir();return s.jsx(Gce,{scope:n,id:a,children:s.jsx(Ce.div,{role:"group","aria-labelledby":a,...r,ref:t})})});Xce.displayName=aB;var iB="SelectLabel",oB=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Yce(iB,n);return s.jsx(Ce.div,{id:a.id,...r,ref:t})});oB.displayName=iB;var Hv="SelectItem",[Zce,lB]=rh(Hv),cB=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=e,l=Pl(Hv,n),c=El(Hv,n),d=l.value===r,[u,h]=m.useState(i??""),[f,p]=m.useState(!1),g=Ze(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,r,a)}),v=ir(),j=m.useRef("touch"),y=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Zce,{scope:n,value:r,disabled:a,textId:v,isSelected:d,onItemTextChange:m.useCallback(x=>{h(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:s.jsx(Xy.ItemSlot,{scope:n,value:r,disabled:a,textValue:u,children:s.jsx(Ce.div,{role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:ge(o.onFocus,()=>p(!0)),onBlur:ge(o.onBlur,()=>p(!1)),onClick:ge(o.onClick,()=>{j.current!=="mouse"&&y()}),onPointerUp:ge(o.onPointerUp,()=>{j.current==="mouse"&&y()}),onPointerDown:ge(o.onPointerDown,x=>{j.current=x.pointerType}),onPointerMove:ge(o.onPointerMove,x=>{var w;j.current=x.pointerType,a?(w=c.onItemLeave)==null||w.call(c):j.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ge(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ge(o.onKeyDown,x=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&x.key===" "||(Ice.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});cB.displayName=Hv;var Qh="SelectItemText",dB=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,o=Pl(Qh,n),l=El(Qh,n),c=lB(Qh,n),d=Bce(Qh,n),[u,h]=m.useState(null),f=Ze(t,y=>h(y),c.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,c.value,c.disabled)}),p=u==null?void 0:u.textContent,g=m.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:j}=d;return Nn(()=>(v(g),()=>j(g)),[v,j,g]),s.jsxs(s.Fragment,{children:[s.jsx(Ce.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?no.createPortal(i.children,o.valueNode):null]})});dB.displayName=Qh;var uB="SelectItemIndicator",hB=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return lB(uB,n).isSelected?s.jsx(Ce.span,{"aria-hidden":!0,...r,ref:t}):null});hB.displayName=uB;var nN="SelectScrollUpButton",fB=m.forwardRef((e,t)=>{const n=El(nN,e.__scopeSelect),r=CC(nN,e.__scopeSelect),[a,i]=m.useState(!1),o=Ze(t,r.onScrollButtonChange);return Nn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(pB,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});fB.displayName=nN;var rN="SelectScrollDownButton",mB=m.forwardRef((e,t)=>{const n=El(rN,e.__scopeSelect),r=CC(rN,e.__scopeSelect),[a,i]=m.useState(!1),o=Ze(t,r.onScrollButtonChange);return Nn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(pB,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});mB.displayName=rN;var pB=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=El("SelectScrollButton",n),o=m.useRef(null),l=Zy(n),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Nn(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ce.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ge(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ge(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ge(a.onPointerLeave,()=>{c()})})}),Qce="SelectSeparator",gB=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Ce.div,{"aria-hidden":!0,...r,ref:t})});gB.displayName=Qce;var sN="SelectArrow",Jce=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Qy(n),i=Pl(sN,n),o=El(sN,n);return i.open&&o.position==="popper"?s.jsx(Ay,{...a,...r,ref:t}):null});Jce.displayName=sN;var ede="SelectBubbleInput",vB=m.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const a=m.useRef(null),i=Ze(r,a),o=Yy(t);return m.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(Ce.select,{...n,style:{...z3,...n.style},ref:i,defaultValue:t})});vB.displayName=ede;function xB(e){return e===""||e===void 0}function yB(e){const t=hn(e),n=m.useRef(""),r=m.useRef(0),a=m.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function jB(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=tde(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function tde(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var nde=K6,wB=Y6,rde=Z6,sde=Q6,ade=J6,bB=eB,ide=sB,NB=oB,_B=cB,ode=dB,lde=hB,SB=fB,CB=mB,kB=gB;const Pe=nde,Ee=rde,ke=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(wB,{ref:r,className:me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(sde,{asChild:!0,children:s.jsx(f5,{className:"h-4 w-4 opacity-50"})})]}));ke.displayName=wB.displayName;const AB=m.forwardRef(({className:e,...t},n)=>s.jsx(SB,{ref:n,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(yJ,{className:"h-4 w-4"})}));AB.displayName=SB.displayName;const PB=m.forwardRef(({className:e,...t},n)=>s.jsx(CB,{ref:n,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(f5,{className:"h-4 w-4"})}));PB.displayName=CB.displayName;const Ae=m.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(ade,{children:s.jsxs(bB,{ref:a,className:me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(AB,{}),s.jsx(ide,{className:me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(PB,{})]})}));Ae.displayName=bB.displayName;const cde=m.forwardRef(({className:e,...t},n)=>s.jsx(NB,{ref:n,className:me("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));cde.displayName=NB.displayName;const K=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(_B,{ref:r,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(lde,{children:s.jsx(Hi,{className:"h-4 w-4"})})}),s.jsx(ode,{children:t})]}));K.displayName=_B.displayName;const dde=m.forwardRef(({className:e,...t},n)=>s.jsx(kB,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));dde.displayName=kB.displayName;function ude(){const{profile:e}=ot(),[t,n]=m.useState([]),[r,a]=m.useState(!0);m.useEffect(()=>{e!=null&&e.role&&i()},[e==null?void 0:e.role]);const i=async()=>{try{const{data:d,error:u}=await V.from("role_feature_visibility").select("*").eq("role",e==null?void 0:e.role);if(u)throw u;n(d||[])}catch(d){console.error("Error fetching visibility settings:",d)}finally{a(!1)}};return{isFeatureVisible:d=>{if((e==null?void 0:e.role)==="developer")return!0;const u=t.find(h=>h.feature_key===d);return(u==null?void 0:u.is_visible)??!0},updateVisibility:async(d,u,h,f,p)=>{try{const{error:g}=await V.from("role_feature_visibility").upsert({role:d,feature_key:u,feature_name:h,is_visible:f,category:p,updated_at:new Date().toISOString()},{onConflict:"role,feature_key"});if(g)throw g;return d===(e==null?void 0:e.role)&&await i(),!0}catch(g){return console.error("Error updating visibility:",g),!1}},visibilitySettings:t,loading:r,fetchAllSettings:async()=>{try{const{data:d,error:u}=await V.from("role_feature_visibility").select("*").order("role").order("category").order("feature_name");if(u)throw u;return d||[]}catch(d){return console.error("Error fetching all visibility settings:",d),[]}},refetch:i}}const hde=[{title:"dashboard.overview",href:"/dashboard",icon:j5,roles:["admin","teacher","parent","student","driver","finance","developer"]},{title:"dashboard.students",href:"/dashboard/students",icon:Sr,roles:["admin","teacher","developer"]},{title:"dashboard.teachers",href:"/dashboard/teachers",icon:jt,roles:["admin","developer"]},{title:"dashboard.classes",href:"/dashboard/classes",icon:ii,roles:["admin","teacher","developer"]},{title:"dashboard.schedule",href:"/dashboard/schedule",icon:ft,roles:["teacher","student","parent","developer"]},{title:"dashboard.examSchedule",href:"/dashboard/exams",icon:S1,roles:["teacher","student","parent","developer"]},{title:"dashboard.homework",href:"/dashboard/homework",icon:Vt,roles:["teacher","student","parent","developer"]},{title:"dashboard.grades",href:"/dashboard/grades",icon:Hu,roles:["teacher","student","parent","developer"]},{title:"dashboard.attendance",href:"/dashboard/nfc-attendance",icon:S1,roles:["admin","teacher","developer"]},{title:"dashboard.tracking",href:"/dashboard/bus-tracking",icon:ka,roles:["parent","driver","admin","developer"]},{title:"dashboard.transport",href:"/dashboard/transport",icon:bn,roles:["admin","developer"]},{title:"dashboard.finance",href:"/dashboard/finance",icon:$r,roles:["admin","parent","finance","developer"]},{title:"Payroll",href:"/dashboard/payroll",icon:$r,roles:["admin","teacher","finance","developer"]},{title:"dashboard.wallet",href:"/dashboard/wallet",icon:Cr,roles:["parent","student","admin","developer"]},{title:"dashboard.store",href:"/dashboard/store",icon:Lr,roles:["admin","parent","developer"]},{title:"dashboard.kitchen",href:"/dashboard/kitchen",icon:fu,roles:["parent","developer"]},{title:"dashboard.canteen",href:"/dashboard/canteen",icon:so,roles:["admin","parent","student","developer"]},{title:"dashboard.messages",href:"/dashboard/messages",icon:Ki,roles:["admin","teacher","parent","developer"]},{title:"dashboard.reports",href:"/dashboard/reports",icon:Vt,roles:["admin","driver","finance","developer"]},{title:"User Management",href:"/dashboard/admin/users",icon:jt,roles:["developer"]},{title:"NFC Management",href:"/dashboard/admin/nfc",icon:VS,roles:["admin","developer"]},{title:"dashboard.settings",href:"/dashboard/settings",icon:Cc,roles:["admin","developer"]}];function iO({onItemClick:e}={}){const{user:t,profile:n}=ot(),{t:r,dir:a}=Te(),i=ur(),{isFeatureVisible:o}=ude(),l=(n==null?void 0:n.role)==="developer"?sessionStorage.getItem("developerViewRole")||"developer":n==null?void 0:n.role,c=hde.filter(u=>{if(!t||!n)return!1;if(n.role==="developer")return l!=="developer"?u.roles.includes(l):!0;if(!u.roles.includes(n.role))return!1;const f={"/dashboard/admin/users":"user_management","/dashboard/students":"view_students","/dashboard/teachers":"view_teachers","/dashboard/classes":"manage_classes","/dashboard/attendance":"attendance_tracking","/dashboard/homework":"homework_management","/dashboard/exams":"exam_management","/dashboard/grades":"grade_management","/dashboard/transport":"transport_management","/dashboard/canteen":"canteen_management","/dashboard/store":"store_management","/dashboard/finance":"finance_module","/dashboard/payroll":"payroll_management","/dashboard/messages":"messaging_system","/dashboard/reports":"reports_analytics","/dashboard/settings":"settings"}[u.href];return f?o(f):!0}),d=()=>{sessionStorage.removeItem("developerViewRole"),i("/dashboard"),window.location.reload()};return s.jsxs("aside",{className:"w-full bg-card border-r border-border/40 flex flex-col h-full overflow-hidden",children:[(n==null?void 0:n.role)==="developer"&&sessionStorage.getItem("developerViewRole")&&s.jsxs("div",{className:"p-3 md:p-4 border-b bg-primary/5",children:[s.jsxs($,{onClick:d,variant:"outline",className:"w-full gap-1 md:gap-2 border-primary/20 hover:bg-primary/10 h-8 md:h-10 text-xs md:text-sm",children:[s.jsx(d5,{className:"h-3 w-3 md:h-4 md:w-4"}),s.jsx("span",{className:"text-xs md:text-sm",children:r("returnToDeveloper")||"Return to Developer Dashboard"})]}),s.jsxs("div",{className:"mt-2 px-2 py-1 rounded-md bg-primary/10 text-[10px] md:text-xs text-center",children:[s.jsx(VS,{className:"inline h-2.5 w-2.5 md:h-3 md:w-3 mr-1"}),"Viewing as: ",sessionStorage.getItem("developerViewRole")]})]}),s.jsx("nav",{className:"flex-1 p-3 md:p-4 space-y-1 overflow-y-auto",children:c.map(u=>s.jsxs(ise,{to:u.href,onClick:e,className:({isActive:h})=>me("flex items-center gap-2 md:gap-3 px-2 md:px-3 py-2 rounded-lg text-xs md:text-sm font-medium transition-all duration-200",h?"bg-gradient-primary text-white shadow-md":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[s.jsx(u.icon,{className:"h-4 w-4 md:h-5 md:w-5 flex-shrink-0"}),s.jsx("span",{children:r(u.title)})]},u.href))})]})}var Jy="Dialog",[EB,TB]=Ln(Jy),[fde,Fa]=EB(Jy),OB=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[d,u]=Ca({prop:r,defaultProp:a??!1,onChange:i,caller:Jy});return s.jsx(fde,{scope:t,triggerRef:l,contentRef:c,contentId:ir(),titleId:ir(),descriptionId:ir(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};OB.displayName=Jy;var MB="DialogTrigger",DB=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Fa(MB,n),i=Ze(t,a.triggerRef);return s.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":PC(a.open),...r,ref:i,onClick:ge(e.onClick,a.onOpenToggle)})});DB.displayName=MB;var kC="DialogPortal",[mde,RB]=EB(kC,{forceMount:void 0}),IB=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=Fa(kC,t);return s.jsx(mde,{scope:t,forceMount:n,children:m.Children.map(r,o=>s.jsx(Fn,{present:n||i.open,children:s.jsx(Wu,{asChild:!0,container:a,children:o})}))})};IB.displayName=kC;var Kv="DialogOverlay",$B=m.forwardRef((e,t)=>{const n=RB(Kv,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=Fa(Kv,e.__scopeDialog);return i.modal?s.jsx(Fn,{present:r||i.open,children:s.jsx(gde,{...a,ref:t})}):null});$B.displayName=Kv;var pde=cl("DialogOverlay.RemoveScroll"),gde=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Fa(Kv,n);return s.jsx(Gm,{as:pde,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ce.div,{"data-state":PC(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ec="DialogContent",LB=m.forwardRef((e,t)=>{const n=RB(Ec,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=Fa(Ec,e.__scopeDialog);return s.jsx(Fn,{present:r||i.open,children:i.modal?s.jsx(vde,{...a,ref:t}):s.jsx(xde,{...a,ref:t})})});LB.displayName=Ec;var vde=m.forwardRef((e,t)=>{const n=Fa(Ec,e.__scopeDialog),r=m.useRef(null),a=Ze(t,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return Wy(i)},[]),s.jsx(FB,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ge(e.onFocusOutside,i=>i.preventDefault())})}),xde=m.forwardRef((e,t)=>{const n=Fa(Ec,e.__scopeDialog),r=m.useRef(!1),a=m.useRef(!1);return s.jsx(FB,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),FB=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Fa(Ec,n),c=m.useRef(null),d=Ze(t,c);return Vy(),s.jsxs(s.Fragment,{children:[s.jsx(Km,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Vc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":PC(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(jde,{titleId:l.titleId}),s.jsx(bde,{contentRef:c,descriptionId:l.descriptionId})]})]})}),AC="DialogTitle",BB=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Fa(AC,n);return s.jsx(Ce.h2,{id:a.titleId,...r,ref:t})});BB.displayName=AC;var zB="DialogDescription",UB=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Fa(zB,n);return s.jsx(Ce.p,{id:a.descriptionId,...r,ref:t})});UB.displayName=zB;var VB="DialogClose",WB=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Fa(VB,n);return s.jsx(Ce.button,{type:"button",...r,ref:t,onClick:ge(e.onClick,()=>a.onOpenChange(!1))})});WB.displayName=VB;function PC(e){return e?"open":"closed"}var qB="DialogTitleWarning",[yde,HB]=xQ(qB,{contentName:Ec,titleName:AC,docsSlug:"dialog"}),jde=({titleId:e})=>{const t=HB(qB),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},wde="DialogDescriptionWarning",bde=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${HB(wde).contentName}}.`;return m.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},e0=OB,EC=DB,t0=IB,sh=$B,ah=LB,Zm=BB,Qm=UB,n0=WB;const Nde=e0,_de=EC,Sde=t0,KB=m.forwardRef(({className:e,...t},n)=>s.jsx(sh,{className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));KB.displayName=sh.displayName;const Cde=qu("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),GB=m.forwardRef(({side:e="right",className:t,children:n,...r},a)=>s.jsxs(Sde,{children:[s.jsx(KB,{}),s.jsxs(ah,{ref:a,className:me(Cde({side:e}),t),...r,children:[n,s.jsxs(n0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Xn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));GB.displayName=ah.displayName;const kde=m.forwardRef(({className:e,...t},n)=>s.jsx(Zm,{ref:n,className:me("text-lg font-semibold text-foreground",e),...t}));kde.displayName=Zm.displayName;const Ade=m.forwardRef(({className:e,...t},n)=>s.jsx(Qm,{ref:n,className:me("text-sm text-muted-foreground",e),...t}));Ade.displayName=Qm.displayName;function Pde(){const{t:e,dir:t}=Te();return s.jsx("footer",{className:"border-t border-border bg-background mt-auto",children:s.jsx("div",{className:"container mx-auto px-1.5 md:px-2 py-1 md:py-1.5",children:s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-0.5 md:space-y-1 text-center",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-2 text-[10px] md:text-xs text-muted-foreground",children:[s.jsxs("span",{children:[" ",new Date().getFullYear()," talebEdu"]}),s.jsx("span",{className:"hidden md:inline",children:""}),s.jsx("span",{children:e("footer.allRightsReserved")})]}),s.jsxs("div",{className:"flex flex-col items-center space-y-0 md:space-y-0.5 text-[10px] md:text-xs text-muted-foreground",children:[s.jsx("span",{children:"Mazen Khanfar"}),s.jsx("a",{href:"tel:+96896564540",className:"hover:text-primary transition-colors number-display",dir:"ltr",children:"+968 9656 4540"})]})]})})})}function Ede(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var TC="ScrollArea",[YB,OTe]=Ln(TC),[Tde,sa]=YB(TC),XB=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=m.useState(null),[d,u]=m.useState(null),[h,f]=m.useState(null),[p,g]=m.useState(null),[v,j]=m.useState(null),[y,x]=m.useState(0),[w,b]=m.useState(0),[S,_]=m.useState(!1),[N,C]=m.useState(!1),k=Ze(t,O=>c(O)),A=th(a);return s.jsx(Tde,{scope:n,type:r,dir:A,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:_,scrollbarY:v,onScrollbarYChange:j,scrollbarYEnabled:N,onScrollbarYEnabledChange:C,onCornerWidthChange:x,onCornerHeightChange:b,children:s.jsx(Ce.div,{dir:A,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});XB.displayName=TC;var ZB="ScrollAreaViewport",QB=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...i}=e,o=sa(ZB,n),l=m.useRef(null),c=Ze(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Ce.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});QB.displayName=ZB;var vi="ScrollAreaScrollbar",OC=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=sa(vi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(Ode,{...r,ref:t,forceMount:n}):a.type==="scroll"?s.jsx(Mde,{...r,ref:t,forceMount:n}):a.type==="auto"?s.jsx(JB,{...r,ref:t,forceMount:n}):a.type==="always"?s.jsx(MC,{...r,ref:t}):null});OC.displayName=vi;var Ode=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=sa(vi,e.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Fn,{present:n||i,children:s.jsx(JB,{"data-state":i?"visible":"hidden",...r,ref:t})})}),Mde=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=sa(vi,e.__scopeScrollArea),i=e.orientation==="horizontal",o=s0(()=>c("SCROLL_END"),100),[l,c]=Ede("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),m.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const f=()=>{const p=d[u];h!==p&&(c("SCROLL"),o()),h=p};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[a.viewport,i,c,o]),s.jsx(Fn,{present:n||l!=="hidden",children:s.jsx(MC,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ge(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ge(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),JB=m.forwardRef((e,t)=>{const n=sa(vi,e.__scopeScrollArea),{forceMount:r,...a}=e,[i,o]=m.useState(!1),l=e.orientation==="horizontal",c=s0(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:u)}},10);return wu(n.viewport,c),wu(n.content,c),s.jsx(Fn,{present:r||i,children:s.jsx(MC,{"data-state":i?"visible":"hidden",...a,ref:t})})}),MC=m.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=sa(vi,e.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=s8(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,p){return Fde(f,o.current,l,p)}return n==="horizontal"?s.jsx(Dde,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollLeft,p=oO(f,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=h(f,a.dir))}}):n==="vertical"?s.jsx(Rde,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollTop,p=oO(f,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=h(f))}}):null}),Dde=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=sa(vi,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),d=Ze(t,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(t8,{"data-orientation":"horizontal",...a,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":r0(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),i8(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Yv(o.paddingLeft),paddingEnd:Yv(o.paddingRight)}})}})}),Rde=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=sa(vi,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),d=Ze(t,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(t8,{"data-orientation":"vertical",...a,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":r0(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),i8(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Yv(o.paddingTop),paddingEnd:Yv(o.paddingBottom)}})}})}),[Ide,e8]=YB(vi),t8=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...f}=e,p=sa(vi,n),[g,v]=m.useState(null),j=Ze(t,k=>v(k)),y=m.useRef(null),x=m.useRef(""),w=p.viewport,b=r.content-r.viewport,S=hn(u),_=hn(c),N=s0(h,10);function C(k){if(y.current){const A=k.clientX-y.current.left,O=k.clientY-y.current.top;d({x:A,y:O})}}return m.useEffect(()=>{const k=A=>{const O=A.target;(g==null?void 0:g.contains(O))&&S(A,b)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[w,g,b,S]),m.useEffect(_,[r,_]),wu(g,N),wu(p.content,N),s.jsx(Ide,{scope:n,scrollbar:g,hasThumb:a,onThumbChange:hn(i),onThumbPointerUp:hn(o),onThumbPositionChange:_,onThumbPointerDown:hn(l),children:s.jsx(Ce.div,{...f,ref:j,style:{position:"absolute",...f.style},onPointerDown:ge(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),y.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(k))}),onPointerMove:ge(e.onPointerMove,C),onPointerUp:ge(e.onPointerUp,k=>{const A=k.target;A.hasPointerCapture(k.pointerId)&&A.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),Gv="ScrollAreaThumb",n8=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=e8(Gv,e.__scopeScrollArea);return s.jsx(Fn,{present:n||a.hasThumb,children:s.jsx($de,{ref:t,...r})})}),$de=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,i=sa(Gv,n),o=e8(Gv,n),{onThumbPositionChange:l}=o,c=Ze(t,h=>o.onThumbChange(h)),d=m.useRef(void 0),u=s0(()=>{d.current&&(d.current(),d.current=void 0)},100);return m.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(u(),!d.current){const p=Bde(h,l);d.current=p,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,u,l]),s.jsx(Ce.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ge(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),g=h.clientX-p.left,v=h.clientY-p.top;o.onThumbPointerDown({x:g,y:v})}),onPointerUp:ge(e.onPointerUp,o.onThumbPointerUp)})});n8.displayName=Gv;var DC="ScrollAreaCorner",r8=m.forwardRef((e,t)=>{const n=sa(DC,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(Lde,{...e,ref:t}):null});r8.displayName=DC;var Lde=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=sa(DC,n),[i,o]=m.useState(0),[l,c]=m.useState(0),d=!!(i&&l);return wu(a.scrollbarX,()=>{var h;const u=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),wu(a.scrollbarY,()=>{var h;const u=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?s.jsx(Ce.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Yv(e){return e?parseInt(e,10):0}function s8(e,t){const n=e/t;return isNaN(n)?0:n}function r0(e){const t=s8(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Fde(e,t,n,r="ltr"){const a=r0(n),i=a/2,o=t||i,l=a-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return a8([c,d],h)(e)}function oO(e,t,n="ltr"){const r=r0(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],d=J1(e,c);return a8([0,o],[0,l])(d)}function a8(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function i8(e,t){return e>0&&e<t}var Bde=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function s0(e,t){const n=hn(e),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function wu(e,t){const n=hn(t);Nn(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var o8=XB,zde=QB,Ude=r8;const Gn=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(o8,{ref:r,className:me("relative overflow-hidden",e),...n,children:[s.jsx(zde,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(l8,{}),s.jsx(Ude,{})]}));Gn.displayName=o8.displayName;const l8=m.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx(OC,{ref:r,orientation:t,className:me("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(n8,{className:"relative flex-1 rounded-full bg-border"})}));l8.displayName=OC.displayName;function gt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ks(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function nr(e,t){const n=gt(e);return isNaN(t)?ks(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Ea(e,t){const n=gt(e);if(isNaN(t))return ks(e,NaN);if(!t)return n;const r=n.getDate(),a=ks(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const i=a.getDate();return r>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}const RC=6048e5,Vde=864e5;let Wde={};function Jm(){return Wde}function ui(e,t){var l,c,d,u;const n=Jm(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=gt(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Tc(e){return ui(e,{weekStartsOn:1})}function c8(e){const t=gt(e),n=t.getFullYear(),r=ks(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=Tc(r),i=ks(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Tc(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function bu(e){const t=gt(e);return t.setHours(0,0,0,0),t}function Xv(e){const t=gt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ei(e,t){const n=bu(e),r=bu(t),a=+n-Xv(n),i=+r-Xv(r);return Math.round((a-i)/Vde)}function qde(e){const t=c8(e),n=ks(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Tc(n)}function aN(e,t){const n=t*7;return nr(e,n)}function Hde(e,t){return Ea(e,t*12)}function Kde(e){let t;return e.forEach(function(n){const r=gt(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function Gde(e){let t;return e.forEach(n=>{const r=gt(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Jr(e,t){const n=bu(e),r=bu(t);return+n==+r}function IC(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Yde(e){if(!IC(e)&&typeof e!="number")return!1;const t=gt(e);return!isNaN(Number(t))}function dm(e,t){const n=gt(e),r=gt(t),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return a*12+i}function Xde(e,t,n){const r=ui(e,n),a=ui(t,n),i=+r-Xv(r),o=+a-Xv(a);return Math.round((i-o)/RC)}function Nu(e){const t=gt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function or(e){const t=gt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function d8(e){const t=gt(e),n=ks(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function $C(e,t){var l,c,d,u;const n=Jm(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=gt(e),i=a.getDay(),o=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function u8(e){return $C(e,{weekStartsOn:1})}const Zde={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Qde=(e,t,n)=>{let r;const a=Zde[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function kw(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Jde={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nue={date:kw({formats:Jde,defaultWidth:"full"}),time:kw({formats:eue,defaultWidth:"full"}),dateTime:kw({formats:tue,defaultWidth:"full"})},rue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sue=(e,t,n,r)=>rue[e];function Oh(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const aue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},due={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uue=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},hue={ordinalNumber:uue,era:Oh({values:aue,defaultWidth:"wide"}),quarter:Oh({values:iue,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Oh({values:oue,defaultWidth:"wide"}),day:Oh({values:lue,defaultWidth:"wide"}),dayPeriod:Oh({values:cue,defaultWidth:"wide",formattingValues:due,defaultFormattingWidth:"wide"})};function Mh(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?mue(l,h=>h.test(o)):fue(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function fue(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function mue(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function pue(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const gue=/^(\d+)(th|st|nd|rd)?/i,vue=/\d+/i,xue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yue={any:[/^b/i,/^(a|c)/i]},jue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wue={any:[/1/i,/2/i,/3/i,/4/i]},bue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Nue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_ue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Sue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Aue={ordinalNumber:pue({matchPattern:gue,parsePattern:vue,valueCallback:e=>parseInt(e,10)}),era:Mh({matchPatterns:xue,defaultMatchWidth:"wide",parsePatterns:yue,defaultParseWidth:"any"}),quarter:Mh({matchPatterns:jue,defaultMatchWidth:"wide",parsePatterns:wue,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Mh({matchPatterns:bue,defaultMatchWidth:"wide",parsePatterns:Nue,defaultParseWidth:"any"}),day:Mh({matchPatterns:_ue,defaultMatchWidth:"wide",parsePatterns:Sue,defaultParseWidth:"any"}),dayPeriod:Mh({matchPatterns:Cue,defaultMatchWidth:"any",parsePatterns:kue,defaultParseWidth:"any"})},h8={code:"en-US",formatDistance:Qde,formatLong:nue,formatRelative:sue,localize:hue,match:Aue,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Pue(e){const t=gt(e);return ei(t,d8(t))+1}function f8(e){const t=gt(e),n=+Tc(t)-+qde(t);return Math.round(n/RC)+1}function m8(e,t){var u,h,f,p;const n=gt(e),r=n.getFullYear(),a=Jm(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(f=a.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=ks(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=ui(o,t),c=ks(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=ui(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function Eue(e,t){var l,c,d,u;const n=Jm(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=m8(e,t),i=ks(e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),ui(i,t)}function p8(e,t){const n=gt(e),r=+ui(n,t)-+Eue(n,t);return Math.round(r/RC)+1}function St(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const No={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return St(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):St(n+1,2)},d(e,t){return St(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return St(e.getHours()%12||12,t.length)},H(e,t){return St(e.getHours(),t.length)},m(e,t){return St(e.getMinutes(),t.length)},s(e,t){return St(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return St(a,t.length)}},od={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lO={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return No.y(e,t)},Y:function(e,t,n,r){const a=m8(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return St(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):St(i,t.length)},R:function(e,t){const n=c8(e);return St(n,t.length)},u:function(e,t){const n=e.getFullYear();return St(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return St(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return St(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return No.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return St(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=p8(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):St(a,t.length)},I:function(e,t,n){const r=f8(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):St(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):No.d(e,t)},D:function(e,t,n){const r=Pue(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):St(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return St(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return St(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return St(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=od.noon:r===0?a=od.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=od.evening:r>=12?a=od.afternoon:r>=4?a=od.morning:a=od.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return No.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):No.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):St(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):St(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):No.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):No.s(e,t)},S:function(e,t){return No.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return dO(r);case"XXXX":case"XX":return ql(r);case"XXXXX":case"XXX":default:return ql(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return dO(r);case"xxxx":case"xx":return ql(r);case"xxxxx":case"xxx":default:return ql(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+cO(r,":");case"OOOO":default:return"GMT"+ql(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+cO(r,":");case"zzzz":default:return"GMT"+ql(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return St(r,t.length)},T:function(e,t,n){const r=e.getTime();return St(r,t.length)}};function cO(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+St(i,2)}function dO(e,t){return e%60===0?(e>0?"-":"+")+St(Math.abs(e)/60,2):ql(e,t)}function ql(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=St(Math.trunc(r/60),2),i=St(r%60,2);return n+a+t+i}const uO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},g8=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Tue=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return uO(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",uO(r,t)).replace("{{time}}",g8(a,t))},Oue={p:g8,P:Tue},Mue=/^D+$/,Due=/^Y+$/,Rue=["D","DD","YY","YYYY"];function Iue(e){return Mue.test(e)}function $ue(e){return Due.test(e)}function Lue(e,t,n){const r=Fue(e,t,n);if(console.warn(r),Rue.includes(e))throw new RangeError(r)}function Fue(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Bue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Uue=/^'([^]*?)'?$/,Vue=/''/g,Wue=/[a-zA-Z]/;function De(e,t,n){var u,h,f,p,g,v,j,y;const r=Jm(),a=(n==null?void 0:n.locale)??r.locale??h8,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((y=(j=r.locale)==null?void 0:j.options)==null?void 0:y.weekStartsOn)??0,l=gt(e);if(!Yde(l))throw new RangeError("Invalid time value");let c=t.match(zue).map(x=>{const w=x[0];if(w==="p"||w==="P"){const b=Oue[w];return b(x,a.formatLong)}return x}).join("").match(Bue).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:que(x)};if(lO[w])return{isToken:!0,value:x};if(w.match(Wue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const w=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&$ue(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Iue(w))&&Lue(w,t,String(e));const b=lO[w[0]];return b(l,w,a.localize,d)}).join("")}function que(e){const t=e.match(Uue);return t?t[1].replace(Vue,"'"):e}function Hue(e){const t=gt(e),n=t.getFullYear(),r=t.getMonth(),a=ks(e,0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function Kue(e){return Math.trunc(+gt(e)/1e3)}function Gue(e){const t=gt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Yue(e,t){return Xde(Gue(e),or(e),t)+1}function iN(e,t){const n=gt(e),r=gt(t);return n.getTime()>r.getTime()}function v8(e,t){const n=gt(e),r=gt(t);return+n<+r}function LC(e,t){const n=gt(e),r=gt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Xue(e,t){const n=gt(e),r=gt(t);return n.getFullYear()===r.getFullYear()}function tc(e,t){return nr(e,-t)}function Aw(e,t){const n=gt(e),r=n.getFullYear(),a=n.getDate(),i=ks(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const o=Hue(i);return n.setMonth(t,Math.min(a,o)),n}function hO(e,t){const n=gt(e);return isNaN(+n)?ks(e,NaN):(n.setFullYear(t),n)}function fO({conversation:e,onBack:t}){const{user:n}=ot(),{language:r}=Te(),[a,i]=m.useState([]),[o,l]=m.useState(""),[c,d]=m.useState(!1),[u,h]=m.useState([]),[f,p]=m.useState(!1),g=m.useRef(null),v=m.useRef(null);m.useEffect(()=>{y();const C=x();return()=>{C()}},[e.recipient_id]),m.useEffect(()=>{j()},[a]);const j=()=>{var C;(C=v.current)==null||C.scrollIntoView({behavior:"smooth"})},y=async()=>{const{data:C,error:k}=await V.from("direct_messages").select(`
        *,
        message_attachments (
          id,
          file_name,
          file_url,
          file_type,
          file_size
        )
      `).or(`and(sender_id.eq.${n==null?void 0:n.id},recipient_id.eq.${e.recipient_id}),and(sender_id.eq.${e.recipient_id},recipient_id.eq.${n==null?void 0:n.id})`).order("created_at",{ascending:!0});if(!k&&C){const A=C.map(O=>({...O,attachments:O.message_attachments||[]}));i(A)}},x=()=>{const C=V.channel(`chat-${e.recipient_id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"direct_messages",filter:`or(and(sender_id.eq.${n==null?void 0:n.id},recipient_id.eq.${e.recipient_id}),and(sender_id.eq.${e.recipient_id},recipient_id.eq.${n==null?void 0:n.id}))`},k=>{if(k.new&&k.new.id){const A=k.new;i(O=>O.some(z=>z.id===A.id)?O:[...O,{...A,attachments:[]}]),j()}}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"direct_messages",filter:`or(and(sender_id.eq.${n==null?void 0:n.id},recipient_id.eq.${e.recipient_id}),and(sender_id.eq.${e.recipient_id},recipient_id.eq.${n==null?void 0:n.id}))`},k=>{k.new&&k.new.id&&i(A=>A.map(O=>O.id===k.new.id?{...O,is_read:k.new.is_read}:O))}).subscribe();return()=>{V.removeChannel(C)}},w=async()=>{if(!o.trim()&&u.length===0||c)return;d(!0),p(!0);const{data:C,error:k}=await V.from("direct_messages").insert({sender_id:n==null?void 0:n.id,recipient_id:e.recipient_id,content:o.trim()||null}).select().single();if(!k&&C){const A={id:C.id,content:C.content||"",sender_id:C.sender_id,recipient_id:C.recipient_id,created_at:C.created_at,is_read:!1,attachments:[]};if(u.length>0){const O=[];for(const M of u){const z=M.name.split(".").pop(),P=`${n==null?void 0:n.id}/${Date.now()}_${Math.random().toString(36).substring(7)}.${z}`,{data:E,error:U}=await V.storage.from("message-attachments").upload(P,M);if(!U&&E){const{data:{publicUrl:R}}=V.storage.from("message-attachments").getPublicUrl(P),B={id:crypto.randomUUID(),file_name:M.name,file_url:R,file_type:M.type,file_size:M.size};await V.from("message_attachments").insert({message_id:C.id,file_name:M.name,file_url:R,file_type:M.type,file_size:M.size}),O.push(B)}}A.attachments=O}i(O=>[...O,A]),l(""),h([]),setTimeout(j,100)}d(!1),p(!1)},b=C=>{const A=Array.from(C.target.files||[]).filter(O=>O.size<=10*1024*1024);h(A)},S=C=>{h(k=>k.filter((A,O)=>O!==C))},_=C=>C.startsWith("image/")?s.jsx(Bm,{className:"h-4 w-4"}):s.jsx(Vt,{className:"h-4 w-4"}),N=C=>C.sender_id===(n==null?void 0:n.id)?C.is_read?s.jsx(h5,{className:"h-3 w-3 text-blue-500"}):s.jsx(Hi,{className:"h-3 w-3 text-muted-foreground"}):null;return s.jsxs("div",{className:"flex flex-col h-full w-full bg-background",children:[s.jsxs("div",{className:"flex items-center gap-2 p-3 border-b",children:[s.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:t,children:s.jsx(d5,{className:"h-4 w-4"})}),s.jsxs(fn,{className:"h-8 w-8",children:[s.jsx(sr,{src:e.recipient_image||void 0}),s.jsx(mn,{className:"text-xs",children:e.recipient_name.charAt(0).toUpperCase()})]}),s.jsx("span",{className:"font-semibold text-sm",children:e.recipient_name})]}),s.jsx(Gn,{className:"flex-1 p-3",children:s.jsxs("div",{className:"space-y-3",children:[a.map(C=>{const k=C.sender_id===(n==null?void 0:n.id);return s.jsx("div",{className:me("flex",k?"justify-end":"justify-start"),children:s.jsxs("div",{className:me("max-w-[70%] rounded-lg px-3 py-2",k?"bg-primary text-primary-foreground":"bg-secondary"),children:[C.content&&s.jsx("p",{className:"text-sm",children:C.content}),C.attachments&&C.attachments.length>0&&s.jsx("div",{className:"mt-2 space-y-2",children:C.attachments.map(A=>s.jsx("div",{children:A.file_type.startsWith("image/")?s.jsx("img",{src:A.file_url,alt:A.file_name,className:"rounded max-w-full"}):s.jsxs("a",{href:A.file_url,download:A.file_name,className:"flex items-center gap-2 text-xs hover:underline",children:[_(A.file_type),s.jsx("span",{className:"truncate",children:A.file_name}),s.jsx(br,{className:"h-3 w-3"})]})},A.id))}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx("p",{className:"text-xs opacity-70",children:De(new Date(C.created_at),"h:mm a")}),k&&s.jsx("span",{className:"ml-1",children:N(C)})]})]})},C.id)}),s.jsx("div",{ref:v})]})}),u.length>0&&s.jsx("div",{className:"px-3 py-2 border-t",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((C,k)=>s.jsxs("div",{className:"flex items-center gap-1 bg-secondary rounded px-2 py-1",children:[_(C.type),s.jsx("span",{className:"text-xs truncate max-w-[100px]",children:C.name}),s.jsx($,{variant:"ghost",size:"icon",className:"h-4 w-4",onClick:()=>S(k),children:s.jsx(Xn,{className:"h-3 w-3"})})]},k))})}),s.jsxs("div",{className:"p-3 border-t",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>{var C;return(C=g.current)==null?void 0:C.click()},disabled:c||f,children:s.jsx(b5,{className:"h-4 w-4"})}),s.jsx(F,{placeholder:r==="en"?"Type a message...":" ...",value:o,onChange:C=>l(C.target.value),onKeyPress:C=>C.key==="Enter"&&!C.shiftKey&&w(),className:"h-9",disabled:c}),s.jsx($,{size:"icon",className:"h-9 w-9",onClick:w,disabled:c||f||!o.trim()&&u.length===0,children:s.jsx(Gi,{className:"h-4 w-4"})})]}),s.jsx("input",{ref:g,type:"file",multiple:!0,onChange:b,className:"hidden",accept:"image/*,.pdf,.doc,.docx,.txt"})]})]})}function Zue({embedded:e=!1}){const{user:t}=ot(),{language:n}=Te(),[r,a]=m.useState(!1),[i,o]=m.useState(!1),[l,c]=m.useState([]),[d,u]=m.useState(null),[h,f]=m.useState(0),[p,g]=m.useState(!1),[v,j]=m.useState(""),[y,x]=m.useState([]),[w,b]=m.useState(!1);m.useEffect(()=>{const P=()=>{a(window.innerWidth<768)};return P(),window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]),m.useEffect(()=>{t&&i&&(S(),N())},[t,i]),m.useEffect(()=>{v.trim().length>0?_():x([])},[v]),m.useEffect(()=>{const P=l.reduce((E,U)=>E+U.unread_count,0);f(P)},[l]);const S=async()=>{g(!0);const{data:P,error:E}=await V.from("direct_messages").select("*").or(`sender_id.eq.${t==null?void 0:t.id},recipient_id.eq.${t==null?void 0:t.id}`).order("created_at",{ascending:!1});if(!E&&P){const U=new Set;P.forEach(Q=>{Q.sender_id!==(t==null?void 0:t.id)&&U.add(Q.sender_id),Q.recipient_id!==(t==null?void 0:t.id)&&U.add(Q.recipient_id)});const{data:R}=await V.from("profiles").select("id, full_name, profile_image").in("id",Array.from(U)),B=new Map;R==null||R.forEach(Q=>{B.set(Q.id,Q)});const L=new Map;P.forEach(Q=>{const se=Q.recipient_id===(t==null?void 0:t.id),W=se?Q.sender_id:Q.recipient_id,ie=B.get(W);if(ie&&!L.has(W)&&L.set(W,{id:W,recipient_id:W,recipient_name:ie.full_name||"Unknown User",recipient_image:ie.profile_image,last_message:Q.content,last_message_time:Q.created_at,unread_count:0}),se&&!Q.is_read&&L.has(W)){const ue=L.get(W);ue.unread_count++}}),c(Array.from(L.values()))}g(!1)},_=async()=>{if(v.trim().length===0)return;b(!0);const{data:P,error:E}=await V.from("profiles").select("id, full_name, profile_image, role").ilike("full_name",`%${v}%`).neq("id",t==null?void 0:t.id).limit(10);if(!E&&P){const U=new Set(l.map(B=>B.recipient_id)),R=P.filter(B=>!U.has(B.id));x(R)}b(!1)},N=()=>{const P=V.channel("floating-chat-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"direct_messages",filter:`recipient_id=eq.${t==null?void 0:t.id}`},()=>{S()}).subscribe();return()=>{V.removeChannel(P)}},C=()=>{o(!i),i||u(null)},k=P=>{u(P),j(""),O(P.recipient_id)},A=async P=>{const E={id:P.id,recipient_id:P.id,recipient_name:P.full_name,recipient_image:P.profile_image,last_message:null,last_message_time:null,unread_count:0};u(E),j("")},O=async P=>{await V.from("direct_messages").update({is_read:!0}).eq("sender_id",P).eq("recipient_id",t==null?void 0:t.id),c(E=>E.map(U=>U.recipient_id===P?{...U,unread_count:0}:U))},M=()=>{u(null),j(""),S()},z=l.filter(P=>P.recipient_name.toLowerCase().includes(v.toLowerCase()));return t?e?s.jsx("div",{className:"h-full w-full flex flex-col bg-background",children:d?s.jsx("div",{className:"h-full",children:s.jsx(fO,{conversation:d,onBack:M})}):s.jsxs("div",{className:"flex flex-col h-full w-full",children:[s.jsx("div",{className:"p-3 border-b bg-background",children:s.jsxs("div",{className:"relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:n==="en"?"Search conversations or users...":"    ...",value:v,onChange:P=>j(P.target.value),className:"pl-10 w-full"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:p?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):v&&(y.length>0||w)?s.jsx("div",{className:"p-2",children:y.map(P=>s.jsxs("button",{onClick:()=>A(P),className:"w-full p-3 flex items-center gap-3 hover:bg-accent rounded-lg transition-colors",children:[s.jsxs(fn,{children:[s.jsx(sr,{src:P.profile_image||void 0}),s.jsx(mn,{children:P.full_name.charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("p",{className:"font-semibold text-sm",children:P.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:P.role})]}),s.jsx(pu,{className:"h-4 w-4 text-muted-foreground"})]},P.id))}):l.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center",children:[s.jsx(Yh,{className:"h-12 w-12 text-muted-foreground mb-2"}),s.jsx("p",{className:"text-muted-foreground",children:n==="en"?"No conversations yet":"   "}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n==="en"?"Search for users to start chatting":"    "})]}):s.jsx("div",{className:"p-2",children:z.map(P=>s.jsxs("button",{onClick:()=>k(P),className:"w-full p-3 flex items-center gap-3 hover:bg-accent rounded-lg transition-colors",children:[s.jsxs(fn,{className:"h-10 w-10",children:[s.jsx(sr,{src:P.recipient_image||void 0}),s.jsx(mn,{children:P.recipient_name.charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-semibold text-sm",children:P.recipient_name}),P.unread_count>0&&s.jsx(ce,{variant:"destructive",className:"h-5 min-w-[20px] px-1",children:P.unread_count})]}),P.last_message&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:P.last_message})]})]},P.id))})})]})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:me("fixed z-50",r?"bottom-4 right-4":"bottom-6 right-6"),children:!i&&s.jsxs($,{onClick:C,size:"lg",className:"rounded-full h-14 w-14 shadow-lg hover:scale-105 transition-transform relative",children:[s.jsx(Yh,{className:"h-6 w-6"}),h>0&&s.jsx(ce,{className:"absolute -top-1 -right-1 h-5 min-w-[20px] px-1 bg-destructive text-destructive-foreground",children:h>99?"99+":h})]})}),i&&s.jsxs(q,{className:me("fixed z-50 shadow-2xl transition-all duration-300",r?"h-[calc(100vh-8rem)] w-[calc(100vw-2rem)] bottom-4 right-4 left-4":"h-[500px] w-96 bottom-6 right-6"),children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-primary text-primary-foreground rounded-t-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yh,{className:"h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:n==="en"?"Messages":""}),h>0&&s.jsx(ce,{variant:"destructive",className:"ml-2",children:h})]}),s.jsx("div",{className:"flex items-center gap-1",children:s.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8 text-primary-foreground hover:bg-primary-foreground/20",onClick:C,children:s.jsx(Xn,{className:"h-4 w-4"})})})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:d?s.jsx(fO,{conversation:d,onBack:M}):s.jsxs("div",{className:"flex flex-col h-[440px]",children:[s.jsx("div",{className:"p-3 border-b",children:s.jsxs("div",{className:"relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:n==="en"?"Search conversations or users...":"    ...",value:v,onChange:P=>j(P.target.value),className:"pl-9 h-9"})]})}),s.jsx(Gn,{className:"flex-1",children:p||w?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("p",{className:"text-muted-foreground",children:n==="en"?"Loading...":" ..."})}):v.trim()?s.jsxs("div",{className:"p-2",children:[z.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground px-3 py-2",children:n==="en"?"Conversations":""}),z.map(P=>s.jsxs("button",{onClick:()=>k(P),className:"w-full p-3 flex items-center gap-3 hover:bg-accent rounded-lg transition-colors",children:[s.jsxs(fn,{children:[s.jsx(sr,{src:P.recipient_image||void 0}),s.jsx(mn,{children:P.recipient_name.charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-semibold text-sm",children:P.recipient_name}),P.unread_count>0&&s.jsx(ce,{variant:"destructive",className:"h-5 min-w-[20px] px-1",children:P.unread_count})]}),P.last_message&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:P.last_message})]})]},P.id))]}),y.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground px-3 py-2",children:n==="en"?"Start new conversation":"  "}),y.map(P=>s.jsxs("button",{onClick:()=>A(P),className:"w-full p-3 flex items-center gap-3 hover:bg-accent rounded-lg transition-colors",children:[s.jsxs(fn,{children:[s.jsx(sr,{src:P.profile_image||void 0}),s.jsx(mn,{children:P.full_name.charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("p",{className:"font-semibold text-sm",children:P.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:P.role})]}),s.jsx(pu,{className:"h-4 w-4 text-muted-foreground"})]},P.id))]}),z.length===0&&y.length===0&&s.jsx("div",{className:"flex flex-col items-center justify-center h-32 text-center",children:s.jsx("p",{className:"text-muted-foreground text-sm",children:n==="en"?"No results found":"    "})})]}):l.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center",children:[s.jsx(Yh,{className:"h-12 w-12 text-muted-foreground mb-2"}),s.jsx("p",{className:"text-muted-foreground",children:n==="en"?"No conversations yet":"   "}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n==="en"?"Search for users to start chatting":"    "})]}):s.jsx("div",{className:"p-2",children:l.map(P=>s.jsxs("button",{onClick:()=>k(P),className:"w-full p-3 flex items-center gap-3 hover:bg-accent rounded-lg transition-colors",children:[s.jsxs(fn,{children:[s.jsx(sr,{src:P.recipient_image||void 0}),s.jsx(mn,{children:P.recipient_name.charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-semibold text-sm",children:P.recipient_name}),P.unread_count>0&&s.jsx(ce,{variant:"destructive",className:"h-5 min-w-[20px] px-1",children:P.unread_count})]}),P.last_message&&s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:P.last_message})]})]},P.id))})})]})})]})]}):null}function Que({children:e}){const{user:t,profile:n,logout:r}=ot(),{t:a,dir:i,language:o}=Te(),l=ur(),c=io(),d=hoe(),[u,h]=m.useState(!1),[f,p]=m.useState(!1);d&&c.pathname;const g=(n==null?void 0:n.role)==="developer",v=g?sessionStorage.getItem("developerViewRole"):null,j=[{value:"admin",label:o==="ar"?"":"Administrator",icon:ta,color:"text-red-600"},{value:"teacher",label:o==="ar"?"":"Teacher",icon:by,color:"text-blue-600"},{value:"parent",label:o==="ar"?" ":"Parent",icon:jt,color:"text-green-600"},{value:"student",label:o==="ar"?"":"Student",icon:Sr,color:"text-purple-600"},{value:"driver",label:o==="ar"?"":"Driver",icon:Fm,color:"text-orange-600"}],y=()=>{r(),l("/")},x=w=>{w==="developer"?sessionStorage.removeItem("developerViewRole"):sessionStorage.setItem("developerViewRole",w),window.location.reload()};return s.jsxs("div",{className:"min-h-screen bg-background",dir:i,children:[s.jsxs("header",{className:"fixed left-0 right-0 top-0 h-12 md:h-16 border-b border-border/40 bg-background/95 backdrop-blur-sm flex items-center justify-between px-1 md:px-6 z-50",children:[s.jsxs("div",{className:"flex items-center gap-0.5 md:gap-2 w-[120px] md:w-[180px]",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>h(!u),className:"hidden lg:flex h-9 w-9","aria-label":"Toggle sidebar",children:u?s.jsx(Xn,{className:"h-6 w-6 md:h-7 md:w-7"}):s.jsx(QE,{className:"h-6 w-6 md:h-7 md:w-7"})}),s.jsxs(Nde,{open:f,onOpenChange:p,children:[s.jsx(_de,{asChild:!0,children:s.jsx($,{variant:"ghost",size:"icon",className:"lg:hidden h-7 w-7","aria-label":"Toggle mobile sidebar",children:s.jsx(QE,{className:"h-6 w-6"})})}),s.jsx(GB,{side:i==="rtl"?"right":"left",className:"p-0 w-[280px] max-w-[85vw]",children:s.jsx(iO,{onItemClick:()=>p(!1)})})]}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>l("/dashboard"),className:"h-7 w-7 md:h-9 md:w-9","aria-label":"Go to home",children:s.jsx(WS,{className:"h-6 w-6 md:h-7 md:w-7"})}),s.jsx("div",{className:"scale-[0.85] md:scale-100 origin-left",children:s.jsx(foe,{})})]}),s.jsxs("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center justify-center gap-3 md:gap-4",dir:"ltr",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"text-4xl md:text-6xl font-bold text-primary leading-none",children:"t"}),s.jsx("div",{className:"absolute -inset-4 bg-primary/20 blur-xl rounded-full opacity-50 hidden md:block"})]}),s.jsx("span",{className:"font-semibold text-2xl md:text-3xl text-foreground",children:"talebEdu"})]}),s.jsxs("div",{className:"flex items-center gap-1 md:gap-2 w-[120px] md:w-[180px] justify-end",children:[g&&v&&s.jsxs("div",{className:`flex items-center gap-0.5 md:gap-2 ${i==="rtl"?"flex-row-reverse":""}`,children:[s.jsx(ce,{variant:"secondary",className:"text-[8px] md:text-xs px-0.5 md:px-2 hidden sm:inline-flex",children:o==="ar"?" ":"Testing Mode"}),s.jsxs(Pe,{value:v,onValueChange:x,children:[s.jsx(ke,{className:"w-[100px] md:w-[180px] h-7 md:h-9 text-[10px] md:text-sm",children:s.jsx(Ee,{children:(()=>{const w=j.find(b=>b.value===v);if(w){const b=w.icon;return s.jsxs("div",{className:`flex items-center gap-2 ${i==="rtl"?"flex-row-reverse":""}`,children:[s.jsx(b,{className:`h-4 w-4 ${w.color}`}),s.jsx("span",{children:w.label})]})}return null})()})}),s.jsxs(Ae,{children:[j.map(w=>{const b=w.icon;return s.jsx(K,{value:w.value,children:s.jsxs("div",{className:`flex items-center gap-2 ${i==="rtl"?"flex-row-reverse":""}`,children:[s.jsx(b,{className:`h-4 w-4 ${w.color}`}),s.jsx("span",{children:w.label})]})},w.value)}),s.jsx(K,{value:"developer",children:s.jsxs("div",{className:`flex items-center gap-2 ${i==="rtl"?"flex-row-reverse":""}`,children:[s.jsx(ta,{className:"h-4 w-4 text-indigo-600"}),s.jsx("span",{children:o==="ar"?" ":"Back to Developer"})]})})]})]})]}),s.jsxs(Pce,{children:[s.jsx(Ece,{asChild:!0,children:s.jsx($,{variant:"ghost",className:"relative h-7 w-7 md:h-10 md:w-10 rounded-full",children:s.jsx(fn,{className:"h-7 w-7 md:h-10 md:w-10",children:s.jsx(mn,{className:"bg-gradient-primary text-white",children:s.jsx(as,{className:"h-5 w-5 md:h-7 md:w-7"})})})})}),s.jsxs(q6,{className:"w-48 md:w-56 bg-background",align:i==="rtl"?"start":"end",forceMount:!0,children:[s.jsx(H6,{className:"font-normal",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:(n==null?void 0:n.full_name)||(t==null?void 0:t.email)}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t==null?void 0:t.email})]})}),s.jsx(Q1,{}),s.jsx(Xg,{asChild:!0,children:s.jsxs(Vd,{to:"/dashboard/profile",className:`flex cursor-pointer ${i==="rtl"?"flex-row-reverse":""}`,children:[s.jsx(as,{className:`h-6 w-6 ${i==="rtl"?"ml-2":"mr-2"}`}),s.jsx("span",{children:a("dashboard.profile")})]})}),s.jsx(Xg,{asChild:!0,children:s.jsxs(Vd,{to:"/dashboard/settings",className:`flex cursor-pointer ${i==="rtl"?"flex-row-reverse":""}`,children:[s.jsx(Cc,{className:`h-6 w-6 ${i==="rtl"?"ml-2":"mr-2"}`}),s.jsx("span",{children:a("dashboard.settings")})]})}),s.jsx(Q1,{}),s.jsxs(Xg,{onClick:y,className:`text-destructive ${i==="rtl"?"flex flex-row-reverse":""}`,children:[s.jsx(qS,{className:`h-6 w-6 ${i==="rtl"?"ml-2":"mr-2"}`}),s.jsx("span",{children:a("auth.logout")})]})]})]})]})]}),s.jsxs("div",{className:"flex h-screen pt-12 md:pt-16",children:[s.jsx("div",{className:me("hidden lg:block transition-all duration-300 overflow-hidden",u?"w-64":"w-0"),children:s.jsx("div",{className:"h-full overflow-y-auto",children:s.jsx(iO,{})})}),s.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:s.jsx("main",{className:"flex-1 overflow-y-auto bg-muted/10",children:s.jsxs("div",{className:me("flex flex-col h-full",d?"px-2":"px-4 py-4"),children:[s.jsx("div",{className:"flex-1",children:e}),s.jsx(Pde,{})]})})})]}),s.jsx(Zue,{})]})}function Jue(){const{language:e}=Te(),t=ur(),[n,r]=m.useState(!0),[a,i]=m.useState({totalStudents:0,totalTeachers:0,activeBuses:0,totalWalletBalance:0,studentsChange:0,teachersChange:0}),[o,l]=m.useState([]);m.useEffect(()=>{c(),d()},[]);const c=async()=>{try{const{count:p}=await V.from("students").select("*",{count:"exact",head:!0}),{count:g}=await V.from("teachers").select("*",{count:"exact",head:!0}),{count:v}=await V.from("buses").select("*",{count:"exact",head:!0}).eq("status","active"),{data:j}=await V.from("wallet_balances").select("balance"),y=(j==null?void 0:j.reduce((w,b)=>w+Number(b.balance||0),0))||0,{data:x}=await V.from("wallet_transactions").select(`
          *,
          profiles!wallet_transactions_user_id_fkey(full_name, full_name_ar)
        `).order("created_at",{ascending:!1}).limit(5);i({totalStudents:p||0,totalTeachers:g||0,activeBuses:v||0,totalWalletBalance:y,studentsChange:0,teachersChange:0}),l(x||[])}catch(p){console.error("Error loading dashboard data:",p)}finally{r(!1)}},d=()=>{const p=V.channel("wallet-changes").on("postgres_changes",{event:"*",schema:"public",table:"wallet_transactions"},()=>{c()}).subscribe(),g=V.channel("students-changes").on("postgres_changes",{event:"*",schema:"public",table:"students"},()=>{c()}).subscribe();return()=>{V.removeChannel(p),V.removeChannel(g)}},u=[{title:e==="ar"?" ":"User Management",desc:e==="ar"?"  ":"Add and manage users",icon:jt,onClick:()=>t("/dashboard/admin/users")},{title:e==="ar"?" ":"Buses & Drivers",desc:e==="ar"?"  ":"Manage buses and routes",icon:bn,onClick:()=>t("/dashboard/admin/buses")},{title:e==="ar"?" ":"Financial Reports",desc:e==="ar"?"  ":"View reports and analytics",icon:zS,onClick:()=>t("/dashboard/reports")},{title:e==="ar"?"":"Settings",desc:e==="ar"?" ":"System settings",icon:Cc,onClick:()=>t("/dashboard/settings")}],h=p=>{switch(p){case"topup":return e==="ar"?" ":"Wallet top-up";case"payment":return e==="ar"?"":"Payment";case"refund":return e==="ar"?"":"Refund";case"transfer":return e==="ar"?"":"Transfer";default:return p}},f=p=>{const g=new Date,v=new Date(p),j=g.getTime()-v.getTime(),y=Math.floor(j/6e4),x=Math.floor(j/36e5),w=Math.floor(j/864e5);return y<1?e==="ar"?"":"Just now":y<60?`${y} ${e==="ar"?"":"min"} ${e==="ar"?"":"ago"}`:x<24?`${x} ${e==="ar"?"":"hour"} ${e==="ar"?"":"ago"}`:`${w} ${e==="ar"?"":"day"} ${e==="ar"?"":"ago"}`};return n?s.jsx(Pt,{fullScreen:!0}):s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:e==="ar"?" ":"Admin Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:e==="ar"?"   ":"Complete school overview"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:e==="ar"?" ":"Total Students"}),s.jsx(Sr,{className:"h-4 w-4 text-blue-500"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a.totalStudents}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==="ar"?" ":"Registered students"})]})]}),s.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:e==="ar"?"":"Teachers"}),s.jsx(jt,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a.totalTeachers}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==="ar"?" ":"Active teachers"})]})]}),s.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:e==="ar"?" ":"Active Buses"}),s.jsx(bn,{className:"h-4 w-4 text-orange-500"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a.activeBuses}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==="ar"?"  ":"Buses in service"})]})]}),s.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:e==="ar"?" ":"Total Wallet Balance"}),s.jsx(Cr,{className:"h-4 w-4 text-purple-500"})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[a.totalWalletBalance.toFixed(3)," OMR"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==="ar"?" ":"Total balances"})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:e==="ar"?" ":"Quick Actions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:u.map((p,g)=>s.jsx(q,{className:"cursor-pointer hover:shadow-lg transition-all hover:-translate-y-1",onClick:p.onClick,children:s.jsxs(te,{children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center mb-3",children:s.jsx(p.icon,{className:"h-6 w-6 text-primary"})}),s.jsx(ne,{className:"text-lg",children:p.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.desc})]})},g))})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(dr,{className:"h-5 w-5"}),e==="ar"?" ":"Recent Activity"]})}),s.jsx(G,{children:o.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e==="ar"?"   ":"No recent activity"}):s.jsx("div",{className:"space-y-4",children:o.map(p=>{var g,v,j;return s.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:h(p.type)}),s.jsx("div",{className:"text-sm text-muted-foreground",children:e==="ar"?((g=p.profiles)==null?void 0:g.full_name_ar)||((v=p.profiles)==null?void 0:v.full_name)||"":((j=p.profiles)==null?void 0:j.full_name)||"User"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-medium text-sm",children:[p.amount>=0?"+":"",p.amount.toFixed(3)," OMR"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:f(p.created_at)})]})]},p.id)})})})]})]})}function ehe(){const{language:e}=Te(),{user:t}=ot(),n=ur(),[r,a]=m.useState(!0),[i,o]=m.useState({totalStudents:0,todayAttendance:0,attendanceRate:0,upcomingExams:0,totalClasses:0}),[l,c]=m.useState([]);m.useEffect(()=>{t&&(d(),u())},[t]);const d=async()=>{try{const{data:f}=await V.from("teachers").select("id").eq("profile_id",t==null?void 0:t.id).single();if(!f){a(!1);return}const{data:p}=await V.from("classes").select("*, students:students(count)").eq("class_teacher_id",f.id),g=(p==null?void 0:p.reduce((b,S)=>b+(S.total_students||0),0))||0,v=new Date().toISOString().split("T")[0],{count:j}=await V.from("attendance_records").select("*",{count:"exact",head:!0}).eq("date",v).eq("recorded_by",t==null?void 0:t.id).eq("status","present"),{count:y}=await V.from("exams").select("*",{count:"exact",head:!0}).gte("date",v),x=new Date().toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),{data:w}=await V.from("class_schedules").select(`
          *,
          classes(name, grade, section)
        `).eq("teacher_id",f.id).eq("day",x).order("time",{ascending:!0});o({totalStudents:g,todayAttendance:j||0,attendanceRate:g>0?Math.round((j||0)/g*100):0,upcomingExams:y||0,totalClasses:(p==null?void 0:p.length)||0}),c(w||[])}catch(f){console.error("Error loading teacher data:",f)}finally{a(!1)}},u=()=>{const f=V.channel("attendance-changes").on("postgres_changes",{event:"*",schema:"public",table:"attendance_records"},()=>{d()}).subscribe();return()=>{V.removeChannel(f)}},h=[{icon:KS,titleEn:"NFC Attendance",titleAr:" ",descEn:"Mark attendance with NFC",descAr:"   ",onClick:()=>n("/dashboard/nfc-attendance"),color:"text-blue-500"},{icon:Hu,titleEn:"Post Grades",titleAr:" ",descEn:"Enter student grades",descAr:"  ",onClick:()=>n("/dashboard/grades"),color:"text-green-500"},{icon:ft,titleEn:"Exams",titleAr:"",descEn:"Manage exams schedule",descAr:"  ",onClick:()=>n("/dashboard/exams"),color:"text-purple-500"},{icon:ii,titleEn:"Homework",titleAr:"",descEn:"Assign homework",descAr:" ",onClick:()=>n("/dashboard/homework"),color:"text-orange-500"},{icon:jt,titleEn:"My Classes",titleAr:"",descEn:"View class lists",descAr:"  ",onClick:()=>n("/dashboard/classes"),color:"text-cyan-500"},{icon:Ki,titleEn:"Messages",titleAr:"",descEn:"Chat with parents",descAr:"  ",onClick:()=>n("/dashboard/messages"),color:"text-pink-500"}];return r?s.jsx(Pt,{fullScreen:!0}):s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:e==="ar"?" ":"Teacher Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:e==="ar"?"  ":"Manage your classes and students"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(te,{children:s.jsxs(ne,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(Sr,{className:"h-4 w-4"}),e==="ar"?" ":"Total Students"]})}),s.jsxs(G,{children:[s.jsx("div",{className:"text-3xl font-bold",children:i.totalStudents}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.totalClasses," ",e==="ar"?"":"classes"]})]})]}),s.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(te,{children:s.jsxs(ne,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(dr,{className:"h-4 w-4"}),e==="ar"?" ":"Today's Attendance"]})}),s.jsxs(G,{children:[s.jsx("div",{className:"text-3xl font-bold",children:i.todayAttendance}),s.jsxs("p",{className:"text-sm text-green-500",children:[i.attendanceRate,"% ",e==="ar"?" ":"attendance rate"]})]})]}),s.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(te,{children:s.jsxs(ne,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(Vt,{className:"h-4 w-4"}),e==="ar"?" ":"Upcoming Exams"]})}),s.jsxs(G,{children:[s.jsx("div",{className:"text-3xl font-bold",children:i.upcomingExams}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="ar"?"":"scheduled"})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:e==="ar"?" ":"Quick Actions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map((f,p)=>s.jsx(q,{className:"cursor-pointer hover:shadow-lg transition-all hover:-translate-y-1",onClick:f.onClick,children:s.jsxs(te,{children:[s.jsx("div",{className:`h-12 w-12 rounded-full bg-muted flex items-center justify-center mb-3 ${f.color}`,children:s.jsx(f.icon,{className:"h-6 w-6"})}),s.jsx(ne,{className:"text-lg",children:e==="ar"?f.titleAr:f.titleEn}),s.jsx(wn,{children:e==="ar"?f.descAr:f.descEn})]})},p))})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-5 w-5"}),e==="ar"?" ":"Today's Schedule"]})}),s.jsx(G,{children:l.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e==="ar"?"   ":"No classes scheduled for today"}):s.jsx("div",{className:"space-y-4",children:l.map(f=>{var p,g,v,j;return s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-sm font-medium text-primary min-w-[120px]",children:f.time}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:e==="ar"?` ${(p=f.classes)==null?void 0:p.grade} ${(g=f.classes)==null?void 0:g.section}`:`Class ${(v=f.classes)==null?void 0:v.grade}${(j=f.classes)==null?void 0:j.section}`}),s.jsx("div",{className:"text-sm text-muted-foreground",children:f.subject}),f.room&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:[e==="ar"?":":"Room:"," ",f.room]})]})]}),s.jsx($,{size:"sm",variant:"ghost",onClick:()=>n("/dashboard/classes"),children:e==="ar"?"":"View"})]},f.id)})})})]})]})}function mO(){const{language:e}=Te(),{user:t}=ot(),n=ur(),[r,a]=m.useState(!0),[i,o]=m.useState([]),[l,c]=m.useState([]);m.useEffect(()=>{t&&d()},[t]);const d=async()=>{try{const{data:f,error:p}=await V.from("students").select("*").eq("parent_id",t==null?void 0:t.id);if(p)throw p;const g=(f==null?void 0:f.map(x=>x.id))||[],{data:v}=await V.from("wallet_balances").select("*").in("user_id",g),j=(f==null?void 0:f.map(x=>{var w;return{...x,wallet_balance:((w=v==null?void 0:v.find(b=>b.user_id===x.id))==null?void 0:w.balance)||0}}))||[];o(j);const y=(v==null?void 0:v.reduce((x,w)=>x+Number(w.balance||0),0))||0;c([{balance:y}])}catch(f){console.error("Error loading parent data:",f)}finally{a(!1)}};if(r)return s.jsx(Pt,{fullScreen:!0});const u=[{icon:Cr,titleEn:"Top Up Wallet",titleAr:" ",descEn:"Add money to student wallet",descAr:"   ",onClick:()=>n("/dashboard/wallet"),color:"text-green-500"},{icon:bn,titleEn:"Track Bus",titleAr:" ",descEn:"Live location tracking",descAr:"  ",onClick:()=>n("/dashboard/bus-tracking"),color:"text-blue-500"},{icon:Sr,titleEn:"Grades",titleAr:"",descEn:"View academic progress",descAr:"  ",onClick:()=>n("/dashboard/grades"),color:"text-purple-500"},{icon:so,titleEn:"Canteen Controls",titleAr:" ",descEn:"Manage what your child can buy",descAr:"    ",onClick:()=>n("/dashboard/canteen-controls"),color:"text-orange-500"},{icon:Ki,titleEn:"Messages",titleAr:"",descEn:"Chat with teachers",descAr:" ",onClick:()=>n("/dashboard/messages"),color:"text-orange-500"}],h=l.reduce((f,p)=>f+Number(p.balance||0),0);return s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:e==="ar"?"  ":"Parent Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:e==="ar"?" !":"Welcome back!"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.map(f=>s.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(ne,{className:"text-xl",children:e==="ar"?`${f.first_name_ar||f.first_name} ${f.last_name_ar||f.last_name}`:`${f.first_name} ${f.last_name}`}),s.jsx(wn,{children:e==="ar"?`: ${f.class}`:`Class: ${f.class}`})]}),s.jsx(ce,{variant:"secondary",children:f.grade})]})}),s.jsxs(G,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:e==="ar"?" ":"Wallet Balance"}),s.jsxs("span",{className:"font-bold text-lg",children:[f.wallet_balance||0," ",e==="ar"?"":"OMR"]})]}),s.jsxs($,{variant:"outline",className:"w-full",onClick:()=>n(`/student/${f.id}`),children:[e==="ar"?" ":"View Details",s.jsx(BS,{className:"ml-2 h-4 w-4"})]})]})]},f.id)),i.length===0&&s.jsx(q,{className:"col-span-full",children:s.jsxs(G,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Sr,{className:"h-16 w-16 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:e==="ar"?"   ":"No students linked"})]})})]}),s.jsxs(q,{className:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground",children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Cr,{className:"h-5 w-5"}),e==="ar"?" ":"Total Balance"]})}),s.jsxs(G,{children:[s.jsxs("div",{className:"text-4xl font-bold mb-2",children:[h.toFixed(2)," ",e==="ar"?"":"OMR"]}),s.jsx("p",{className:"text-primary-foreground/80",children:e==="ar"?`${i.length} ${i.length===1?"":""}`:`${i.length} ${i.length===1?"student":"students"}`})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:e==="ar"?" ":"Quick Actions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:u.map((f,p)=>s.jsx(q,{className:"cursor-pointer hover:shadow-lg transition-all hover:-translate-y-1",onClick:f.onClick,children:s.jsxs(te,{children:[s.jsx("div",{className:`h-12 w-12 rounded-full bg-muted flex items-center justify-center mb-3 ${f.color}`,children:s.jsx(f.icon,{className:"h-6 w-6"})}),s.jsx(ne,{className:"text-lg",children:e==="ar"?f.titleAr:f.titleEn}),s.jsx(wn,{children:e==="ar"?f.descAr:f.descEn})]})},p))})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(yy,{className:"h-5 w-5"}),e==="ar"?" ":"Recent Activity"]})}),s.jsx(G,{children:s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e==="ar"?"   ":"No recent activity"})})]})]})}class the{constructor(){xh(this,"isNFCSupported",!1);xh(this,"isScanning",!1);this.checkNFCSupport()}async checkNFCSupport(){var t;return"NDEFReader"in window?(this.isNFCSupported=!0,!0):(t=window.Capacitor)!=null&&t.isNativePlatform()?(this.isNFCSupported=!0,!0):(this.isNFCSupported=!1,!1)}async requestPermission(){var t;if(!this.isNFCSupported)return fe.error("NFC is not supported on this device"),!1;try{return!!("NDEFReader"in window||(t=window.Capacitor)!=null&&t.isNativePlatform())}catch(n){return console.error("Error requesting NFC permission:",n),!1}}async writeTag(t){var n;if(!this.isNFCSupported)return fe.error("NFC is not supported on this device"),!1;try{if("NDEFReader"in window){const r=new window.NDEFReader,a=[{recordType:"text",data:JSON.stringify(t)}];return await r.write({records:a}),fe.success("NFC tag written successfully"),!0}return(n=window.Capacitor)!=null&&n.isNativePlatform()?(console.log("Writing NFC tag (native):",t),await new Promise(r=>setTimeout(r,1e3)),fe.success("NFC tag written successfully"),!0):(console.log("Writing NFC tag (simulation):",t),await new Promise(r=>setTimeout(r,1e3)),fe.success("NFC tag written successfully (Simulation Mode)"),!0)}catch(r){return console.error("Error writing NFC tag:",r),r.name==="NotAllowedError"?fe.error("NFC permission denied"):r.name==="NetworkError"?fe.error("No NFC tag found nearby"):fe.error("Failed to write NFC tag"),!1}}async readTag(){var t;if(!this.isNFCSupported)return fe.error("NFC is not supported on this device"),null;try{if("NDEFReader"in window){const n=new window.NDEFReader;return await n.scan(),new Promise(r=>{n.addEventListener("reading",({message:a,serialNumber:i})=>{for(const o of a.records)if(o.recordType==="text"){const c=new TextDecoder(o.encoding).decode(o.data),d=JSON.parse(c);r(d);return}r(null)})})}return(t=window.Capacitor)!=null&&t.isNativePlatform()&&(console.log("Reading NFC tag (native)"),await new Promise(n=>setTimeout(n,1e3))),null}catch(n){return console.error("Error reading NFC tag:",n),n.name==="NotAllowedError"?fe.error("NFC permission denied"):fe.error("Failed to read NFC tag"),null}}async startScanning(t){var n;if(!this.isScanning){if(!this.isNFCSupported){fe.error("NFC is not supported on this device");return}this.isScanning=!0;try{if("NDEFReader"in window){const r=new window.NDEFReader;await r.scan(),r.addEventListener("reading",({message:a,serialNumber:i})=>{for(const o of a.records)if(o.recordType==="text"){const c=new TextDecoder(o.encoding).decode(o.data),d=JSON.parse(c);t(d)}}),r.addEventListener("readingerror",()=>{console.error("NFC reading error")})}(n=window.Capacitor)!=null&&n.isNativePlatform()&&console.log("Starting NFC scan (native)")}catch(r){throw console.error("Error starting NFC scan:",r),this.isScanning=!1,r}}}stopScanning(){this.isScanning=!1}isSupported(){return this.isNFCSupported}isScanningActive(){return this.isScanning}}const qd=new the;function nhe({scanType:e="attendance",location:t="Main Entrance",onScanSuccess:n}){const{language:r}=Te(),[a,i]=m.useState(!1),[o,l]=m.useState(null),[c,d]=m.useState(0),[u,h]=m.useState(!1);m.useEffect(()=>{h(qd.isSupported())},[]);const f=async()=>{i(!0);try{await qd.startScanning(async y=>{await g(y)}),fe.success(r==="ar"?" ":"Scanning started")}catch(y){console.error("Error starting NFC scan:",y),i(!1),fe.error(r==="ar"?"  ":"Failed to start scanning")}},p=()=>{qd.stopScanning(),i(!1),fe.info(r==="ar"?" ":"Scanning stopped")},g=async y=>{try{let x;if(y.type==="student"){const{data:w,error:b}=await V.from("students").select("*").eq("nfc_id",y.id).single();if(b)throw b;x=w}else if(y.type==="teacher"){const{data:w,error:b}=await V.from("teachers").select("*").eq("nfc_id",y.id).single();if(b)throw b;x=w}x?await j(x):fe.error(r==="ar"?"  ":"User not found")}catch(x){console.error("Error processing NFC scan:",x),fe.error(r==="ar"?"  ":"Failed to process scan")}},v=async()=>{const y={id:`STU-${Math.floor(Math.random()*1e4).toString().padStart(6,"0")}`,name:"Test Student",class:"Grade 10-A",nfc_id:`NFC-${Math.random().toString(36).substring(7).toUpperCase()}`};await j(y)},j=async y=>{try{const{error:x}=await V.from("checkpoint_logs").insert({student_id:y.id,student_name:y.name||`${y.first_name} ${y.last_name}`,nfc_id:y.nfc_id,type:e,location:t,timestamp:new Date().toISOString(),synced:!0});if(x)throw x;l(y.name||`${y.first_name} ${y.last_name}`),d(w=>w+1),fe.success(r==="ar"?`  ${y.name||y.first_name}`:`${y.name||y.first_name} scanned`),n==null||n(y),setTimeout(()=>{l(null)},2e3)}catch(x){console.error("Error recording scan:",x),fe.error(r==="ar"?"  ":"Failed to record scan")}};return s.jsxs(q,{children:[s.jsxs(te,{children:[s.jsxs(ne,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Xs,{className:"h-5 w-5"}),r==="ar"?" NFC":"NFC Scanner"]}),s.jsxs(ce,{variant:"outline",children:[c," ",r==="ar"?"":"scans"]})]}),s.jsxs(wn,{children:[t," - ",e]})]}),s.jsxs(G,{className:"space-y-4",children:[!u&&s.jsx("div",{className:"p-3 bg-orange-500/10 border border-orange-500/20 rounded-lg",children:s.jsx("p",{className:"text-sm text-orange-600 text-center",children:r==="ar"?"NFC   -   ":"NFC not supported - Using simulation mode"})}),s.jsx(uy,{mode:"wait",children:a?s.jsxs(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"text-center p-8 rounded-lg bg-primary/5 border-2 border-primary",children:[s.jsx(Tt.div,{animate:{scale:[1,1.2,1],rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"flex justify-center mb-4",children:s.jsx(Xs,{className:"h-16 w-16 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:r==="ar"?"  ...":"Waiting for scan..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r==="ar"?"  NFC   ":"Hold NFC wristband near scanner"})]},"scanning"):s.jsxs(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"text-center p-8 rounded-lg bg-muted/50",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Ov,{className:"h-16 w-16 text-muted-foreground"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:r==="ar"?"  ":"Scanner Inactive"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r==="ar"?'  " " ':'Click "Start Scanning" to begin'})]},"inactive")}),o&&s.jsxs(Tt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-3 p-4 bg-green-500/10 rounded-lg border border-green-500/20",children:[s.jsx(Cs,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:r==="ar"?" ":"Last Scanned"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:o})]})]}),s.jsxs("div",{className:"flex gap-2",children:[a?s.jsxs($,{onClick:p,variant:"destructive",className:"flex-1",size:"lg",children:[s.jsx(Ov,{className:"mr-2 h-4 w-4"}),r==="ar"?" ":"Stop Scanning"]}):s.jsx($,{onClick:f,className:"flex-1",size:"lg",children:u?s.jsxs(s.Fragment,{children:[s.jsx(Xs,{className:"mr-2 h-4 w-4"}),r==="ar"?" ":"Start Scanning"]}):s.jsxs(s.Fragment,{children:[s.jsx(el,{className:"mr-2 h-4 w-4"}),r==="ar"?" ":"Start Scanning"]})}),!u&&s.jsx($,{onClick:v,variant:"outline",size:"lg",children:r==="ar"?"":"Test"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:r==="ar"?"  ":"Total Scans Today"}),s.jsx("p",{className:"text-2xl font-bold",children:c})]}),s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:r==="ar"?"":"Location"}),s.jsx("p",{className:"text-sm font-medium truncate",children:t})]})]})]})]})}function rhe(){const{language:e}=Te(),{user:t}=ot(),[n,r]=m.useState(!0),[a,i]=m.useState(null),[o,l]=m.useState(null),[c,d]=m.useState([]),[u,h]=m.useState("");m.useEffect(()=>{t&&(f(),p())},[t]);const f=async()=>{var v;try{const{data:j}=await V.from("drivers").select("bus_id").eq("profile_id",t==null?void 0:t.id).single();if(!j||!j.bus_id){r(!1);return}const{data:y}=await V.from("buses").select("*").eq("id",j.bus_id).single();i(y);const{data:x}=await V.from("bus_routes").select("*").eq("bus_id",y==null?void 0:y.id).eq("is_active",!0).single();if(l(x),x!=null&&x.stops&&Array.isArray(x.stops)){const N=x.stops;h(((v=N[0])==null?void 0:v.name)||"")}const{data:w}=await V.from("student_bus_assignments").select("*").eq("bus_id",y==null?void 0:y.id),b=new Date().toISOString().split("T")[0],{data:S}=await V.from("bus_boarding_logs").select("*").eq("bus_id",y==null?void 0:y.id).gte("timestamp",`${b}T00:00:00`).order("timestamp",{ascending:!1}),_=await Promise.all((w||[]).map(async N=>{const{data:C}=await V.from("students").select("*").eq("id",N.student_id).single(),k=S==null?void 0:S.find(A=>A.student_id===(C==null?void 0:C.id));return{id:C==null?void 0:C.id,name:`${C==null?void 0:C.first_name} ${C==null?void 0:C.last_name}`,nameAr:`${(C==null?void 0:C.first_name_ar)||(C==null?void 0:C.first_name)} ${(C==null?void 0:C.last_name_ar)||(C==null?void 0:C.last_name)}`,stop:N.pickup_stop||"Not assigned",status:(k==null?void 0:k.action)==="board"?"boarded":"waiting"}}));d(_)}catch(j){console.error("Error loading driver data:",j)}finally{r(!1)}},p=()=>{const v=V.channel("driver_boarding_logs").on("postgres_changes",{event:"*",schema:"public",table:"bus_boarding_logs"},()=>{f()}).subscribe();return()=>{V.removeChannel(v)}};if(n)return s.jsx(Pt,{fullScreen:!0});const g=c.filter(v=>v.status==="boarded").length;return s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:e==="ar"?" ":"Driver Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:e==="ar"?"  ":"Manage your bus route"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(q,{children:[s.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:e==="ar"?" ":"Bus Number"}),s.jsx(bn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:(a==null?void 0:a.bus_number)||"N/A"})})]}),s.jsxs(q,{children:[s.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:e==="ar"?"   ":"Students On Board"}),s.jsx(jt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(G,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[g," / ",c.length]})})]}),s.jsxs(q,{children:[s.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:e==="ar"?" ":"Next Stop"}),s.jsx(ka,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:u||"N/A"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{children:s.jsx(nhe,{scanType:"bus_in",location:u||"Bus Stop",onScanSuccess:v=>{f()}})}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:e==="ar"?" ":"Student List"})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:c.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e==="ar"?"   ":"No students assigned"}):c.map((v,j)=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:e==="ar"?v.nameAr:v.name}),s.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(ka,{className:"h-3 w-3"}),v.stop]})]}),v.status==="boarded"?s.jsxs(ce,{className:"bg-green-500",children:[s.jsx(Cs,{className:"h-3 w-3 mr-1"}),e==="ar"?"  ":"Boarded"]}):s.jsx(ce,{variant:"outline",children:e==="ar"?" ":"Waiting"})]},v.id||j))})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs($,{size:"lg",className:"h-16",children:[s.jsx(Cs,{className:"mr-2 h-5 w-5"}),e==="ar"?" ":"Start Trip"]}),s.jsxs($,{size:"lg",variant:"destructive",className:"h-16",children:[s.jsx(A5,{className:"mr-2 h-5 w-5"}),e==="ar"?"   ":"Report Emergency"]})]})]})}function she(){var o,l;const{t:e,language:t}=Te(),{user:n}=ot(),r=ur(),a=[{title:"Social Feed",titleAr:"",icon:WS,link:"/dashboard/social/feed",color:"text-primary",bgColor:"bg-primary/10"},{title:"Friends",titleAr:"",icon:jt,link:"/dashboard/social/friends",color:"text-accent",bgColor:"bg-accent/10"},{title:"Messages",titleAr:"",icon:Yh,link:"/dashboard/social/friends",color:"text-warning",bgColor:"bg-warning/10"},{title:"Schedule",titleAr:"",icon:ft,link:"/dashboard/schedule",color:"text-accent",bgColor:"bg-accent/10"},{title:"Exams",titleAr:"",icon:S1,link:"/dashboard/exams",color:"text-warning",bgColor:"bg-warning/10"},{title:"Homework",titleAr:"",icon:Vt,link:"/dashboard/homework",color:"text-success",bgColor:"bg-success/10"},{title:"Grades",titleAr:"",icon:Hu,link:"/dashboard/grades",color:"text-primary",bgColor:"bg-primary/10"},{title:"Wallet",titleAr:"",icon:Cr,link:"/dashboard/wallet",color:"text-accent",bgColor:"bg-accent/10"},{title:"Canteen",titleAr:"",icon:Lr,link:"/dashboard/canteen",color:"text-warning",bgColor:"bg-warning/10"}],i=c=>{c.link&&r(c.link)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl md:text-3xl font-bold tracking-tight",children:t==="en"?`Welcome back, ${((o=n==null?void 0:n.email)==null?void 0:o.split("@")[0])||"Student"}!`:`  ${((l=n==null?void 0:n.email)==null?void 0:l.split("@")[0])||""}!`}),s.jsx("p",{className:"text-xs md:text-base text-muted-foreground mb-3 md:mb-6",children:t==="en"?"Your learning journey continues here":"   "})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm md:text-lg font-semibold mb-3 md:mb-4",children:t==="en"?"Quick Actions":" "}),s.jsx("div",{className:"grid gap-2 md:gap-3 grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5",children:a.map((c,d)=>s.jsx(q,{className:"hover:shadow-lg transition-all duration-300 cursor-pointer group min-h-[100px] md:min-h-[120px]",onClick:()=>i(c),children:s.jsxs(G,{className:"flex flex-col items-center justify-center gap-2 p-3 md:p-4 h-full",children:[s.jsx("div",{className:`p-3 md:p-4 rounded-lg ${c.bgColor} group-hover:scale-110 transition-transform`,children:s.jsx(c.icon,{className:`h-5 w-5 md:h-6 md:w-6 ${c.color}`})}),s.jsx("p",{className:"text-xs md:text-sm font-medium text-center line-clamp-2",children:t==="en"?c.title:c.titleAr})]})},d))})]})]})}function ahe(){const[e,t]=m.useState(!1),n=async()=>{t(!0);try{const{data:r,error:a}=await V.from("profiles").select("id").eq("email","admin@talebedu.com").single();if(a||!r)throw new Error("Admin user not found");const{error:i}=await V.functions.invoke("update-user-password",{body:{userId:r.id,newPassword:"Admin123"}});if(i)throw i;fe.success("Admin password has been reset to: Admin123")}catch(r){console.error("Error updating password:",r),fe.error(r.message||"Failed to update password")}finally{t(!1)}};return s.jsxs(q,{className:"border-warning",children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center gap-2 text-warning",children:[s.jsx(y5,{className:"h-5 w-5"}),"Quick Password Reset"]})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:'This will reset the admin@talebedu.com password to "Admin123"'}),s.jsx($,{onClick:n,disabled:e,variant:"destructive",children:e?"Resetting...":"Reset Admin Password"})]})]})}var a0="Switch",[ihe,MTe]=Ln(a0),[ohe,lhe]=ihe(a0),x8=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[f,p]=m.useState(null),g=Ze(t,w=>p(w)),v=m.useRef(!1),j=f?u||!!f.closest("form"):!0,[y,x]=Ca({prop:a,defaultProp:i??!1,onChange:d,caller:a0});return s.jsxs(ohe,{scope:n,checked:y,disabled:l,children:[s.jsx(Ce.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":b8(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:ge(e.onClick,w=>{x(b=>!b),j&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),j&&s.jsx(w8,{control:f,bubbles:!v.current,name:r,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});x8.displayName=a0;var y8="SwitchThumb",j8=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=lhe(y8,n);return s.jsx(Ce.span,{"data-state":b8(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});j8.displayName=y8;var che="SwitchBubbleInput",w8=m.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...a},i)=>{const o=m.useRef(null),l=Ze(o,i),c=Yy(n),d=Cy(t);return m.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&p){const g=new Event("click",{bubbles:r});p.call(u,n),u.dispatchEvent(g)}},[c,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});w8.displayName=che;function b8(e){return e?"checked":"unchecked"}var N8=x8,dhe=j8;const qt=m.forwardRef(({className:e,...t},n)=>s.jsx(N8,{className:me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:n,children:s.jsx(dhe,{className:me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));qt.displayName=N8.displayName;var uhe="Separator",pO="horizontal",hhe=["horizontal","vertical"],_8=m.forwardRef((e,t)=>{const{decorative:n,orientation:r=pO,...a}=e,i=fhe(r)?r:pO,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Ce.div,{"data-orientation":i,...l,...a,ref:t})});_8.displayName=uhe;function fhe(e){return hhe.includes(e)}var S8=_8;const js=m.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>s.jsx(S8,{ref:a,decorative:n,orientation:t,className:me("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));js.displayName=S8.displayName;var FC="Progress",BC=100,[mhe,DTe]=Ln(FC),[phe,ghe]=mhe(FC),C8=m.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:i=vhe,...o}=e;(a||a===0)&&!gO(a)&&console.error(xhe(`${a}`,"Progress"));const l=gO(a)?a:BC;r!==null&&!vO(r,l)&&console.error(yhe(`${r}`,"Progress"));const c=vO(r,l)?r:null,d=Zv(c)?i(c,l):void 0;return s.jsx(phe,{scope:n,value:c,max:l,children:s.jsx(Ce.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Zv(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":P8(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});C8.displayName=FC;var k8="ProgressIndicator",A8=m.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,a=ghe(k8,n);return s.jsx(Ce.div,{"data-state":P8(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});A8.displayName=k8;function vhe(e,t){return`${Math.round(e/t*100)}%`}function P8(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Zv(e){return typeof e=="number"}function gO(e){return Zv(e)&&!isNaN(e)&&e>0}function vO(e,t){return Zv(e)&&!isNaN(e)&&e<=t&&e>=0}function xhe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${BC}\`.`}function yhe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${BC} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var E8=C8,jhe=A8;const Ri=m.forwardRef(({className:e,value:t,...n},r)=>s.jsx(E8,{ref:r,className:me("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(jhe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ri.displayName=E8.displayName;const whe=()=>{const{language:e}=Te();ot();const t=ur(),n=e==="ar",[r,a]=m.useState(null),[i,o]=m.useState("overview"),[l,c]=m.useState(""),[d,u]=m.useState("development"),[h,f]=m.useState(!1),[p,g]=m.useState({cpu:45,memory:62,storage:38,activeUsers:127,apiCalls:15420,errorRate:.3}),[v,j]=m.useState([{id:"1",name:"NFC Authentication",nameAr:" NFC",description:"Enable NFC card authentication",descriptionAr:"   NFC",enabled:!0,category:"auth"},{id:"2",name:"Biometric Login",nameAr:"  ",description:"Allow biometric authentication",descriptionAr:"  ",enabled:!0,category:"auth"},{id:"3",name:"Real-time Tracking",nameAr:"   ",description:"Enable live bus tracking",descriptionAr:"   ",enabled:!0,category:"transport"},{id:"4",name:"Push Notifications",nameAr:" ",description:"Send push notifications",descriptionAr:"  ",enabled:!1,category:"communication"},{id:"5",name:"Payment Gateway",nameAr:" ",description:"Online payment processing",descriptionAr:"   ",enabled:!0,category:"finance"},{id:"6",name:"AI Chatbot",nameAr:"  ",description:"AI-powered support chat",descriptionAr:"   ",enabled:!1,category:"support"}]);m.useEffect(()=>{const N=setInterval(()=>{g(C=>({cpu:Math.min(100,Math.max(0,C.cpu+(Math.random()-.5)*10)),memory:Math.min(100,Math.max(0,C.memory+(Math.random()-.5)*5)),storage:Math.min(100,Math.max(0,C.storage+(Math.random()-.5)*2)),activeUsers:Math.max(0,C.activeUsers+Math.floor((Math.random()-.5)*10)),apiCalls:C.apiCalls+Math.floor(Math.random()*50),errorRate:Math.min(5,Math.max(0,C.errorRate+(Math.random()-.5)*.2))}))},5e3);return()=>clearInterval(N)},[]);const y=[{role:"admin",title:"Administrator",titleAr:"",description:"Full system control",descriptionAr:"   ",icon:s.jsx(ta,{className:"h-5 w-5"}),color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},{role:"teacher",title:"Teacher",titleAr:"",description:"Academic management",descriptionAr:" ",icon:s.jsx(by,{className:"h-5 w-5"}),color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},{role:"parent",title:"Parent",titleAr:" ",description:"Student monitoring",descriptionAr:" ",icon:s.jsx(jt,{className:"h-5 w-5"}),color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},{role:"student",title:"Student",titleAr:"",description:"Academic access",descriptionAr:" ",icon:s.jsx(Sr,{className:"h-5 w-5"}),color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"},{role:"driver",title:"Driver",titleAr:"",description:"Transport management",descriptionAr:" ",icon:s.jsx(Fm,{className:"h-5 w-5"}),color:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"},{role:"canteen",title:"Canteen Staff",titleAr:" ",description:"POS & sales management",descriptionAr:"   ",icon:s.jsx(Lr,{className:"h-5 w-5"}),color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}],x=N=>{var C;a(N),sessionStorage.setItem("developerViewRole",N),fe.success(e==="ar"?`    ${(C=y.find(k=>k.role===N))==null?void 0:C.titleAr}`:`Switched to ${N} role`),setTimeout(()=>window.location.href="/dashboard",500)},w=N=>{j(k=>k.map(A=>A.id===N?{...A,enabled:!A.enabled}:A));const C=v.find(k=>k.id===N);fe.success(e==="ar"?`${C==null?void 0:C.nameAr} ${C!=null&&C.enabled?"":""}`:`${C==null?void 0:C.name} ${C!=null&&C.enabled?"disabled":"enabled"}`)},b=()=>{sessionStorage.clear(),localStorage.clear(),fe.success(e==="ar"?"    ":"Cache cleared successfully")},S=async()=>{f(!0),setTimeout(()=>{f(!1),fe.success(e==="ar"?"   ":"Data exported successfully")},2e3)},_=async()=>{f(!0),setTimeout(()=>{f(!1),fe.success(e==="ar"?"  -   ":"Diagnostics complete - No issues found")},3e3)};return s.jsxs("div",{className:`container max-w-full mx-auto p-4 md:p-6 space-y-4 overflow-x-hidden ${n?"rtl":"ltr"}`,dir:n?"rtl":"ltr",children:[s.jsx(q,{className:"border-primary/20 bg-gradient-to-r from-primary/5 to-secondary/5",children:s.jsx(te,{className:"py-3 px-4",children:s.jsxs("div",{className:`flex items-center justify-between ${n?"flex-row-reverse":""}`,children:[s.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[s.jsx(VS,{className:"h-5 w-5 text-primary"}),s.jsx(ne,{className:"text-lg font-bold",children:e==="ar"?"  ":"Developer Control Panel"})]}),s.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[s.jsxs(ce,{variant:d==="production"?"destructive":d==="staging"?"secondary":"outline",className:"text-xs px-2 py-1",children:[s.jsx(JE,{className:`h-3 w-3 ${n?"ml-1":"mr-1"}`}),s.jsx("span",{children:e==="ar"?"":"Dev"})]}),s.jsxs(Pe,{value:d,onValueChange:N=>{u(N),fe.info(e==="ar"?`    ${N==="development"?"":N==="staging"?"":""}`:`Switched to ${N} environment`)},children:[s.jsx(ke,{className:"w-[130px] h-8",children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"development",children:s.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),s.jsx("span",{className:"text-sm",children:"Development"})]})}),s.jsx(K,{value:"staging",children:s.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),s.jsx("span",{className:"text-sm",children:"Staging"})]})}),s.jsx(K,{value:"production",children:s.jsxs("div",{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),s.jsx("span",{className:"text-sm",children:"Production"})]})})]})]})]})]})})}),s.jsx(ahe,{}),s.jsxs(q,{className:"border-2 border-primary/30 shadow-lg",children:[s.jsxs(te,{className:"pb-4",children:[s.jsxs(ne,{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[s.jsx(jJ,{className:"h-5 w-5"}),e==="ar"?" ":"Role Testing"]}),s.jsx(wn,{className:n?"text-right":"text-left",children:e==="ar"?"      ":"Switch between different roles to test features"})]}),s.jsx(G,{children:s.jsx("div",{className:`grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 ${n?"direction-rtl":""}`,children:y.map(N=>s.jsx(q,{className:`cursor-pointer transition-all hover:scale-105 hover:shadow-lg ${r===N.role?"ring-2 ring-primary":""}`,onClick:()=>x(N.role),children:s.jsxs(G,{className:`p-4 text-center ${n?"rtl":"ltr"}`,children:[s.jsx("div",{className:`mx-auto mb-2 p-3 rounded-full ${N.color} w-fit`,children:N.icon}),s.jsx("h3",{className:"font-semibold text-sm",children:e==="ar"?N.titleAr:N.title}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e==="ar"?N.descriptionAr:N.description})]})},N.role))})})]}),s.jsxs(q,{children:[s.jsxs(te,{children:[s.jsxs(ne,{className:`flex items-center gap-2 ${n?"flex-row-reverse":""}`,children:[s.jsx(Pn,{className:"h-5 w-5"}),e==="ar"?"   ":"Feature Visibility Control"]}),s.jsx(wn,{className:n?"text-right":"text-left",children:e==="ar"?"    ":"Manage which features are visible for each role"})]}),s.jsx(G,{children:s.jsxs($,{onClick:()=>t("/dashboard/admin/feature-visibility"),className:"w-full",variant:"outline",children:[s.jsx(Cc,{className:"h-4 w-4 mr-2"}),e==="ar"?"  ":"Open Control Panel"]})})]}),s.jsxs(gn,{value:i,onValueChange:o,className:"space-y-4",children:[s.jsx("div",{className:"overflow-x-auto pb-2",dir:n?"rtl":"ltr",children:s.jsxs(sn,{className:`inline-flex h-auto gap-2 bg-card p-1 min-w-full lg:min-w-0 ${n?"flex-row-reverse":""}`,children:[s.jsxs(_e,{value:"settings",className:`flex ${n?"flex-row-reverse":"flex-row"} items-center gap-1 px-3 py-2 data-[state=active]:bg-gray-600 data-[state=active]:text-white`,children:[s.jsx(Cc,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs sm:text-sm",children:e==="ar"?"":"Settings"})]}),s.jsxs(_e,{value:"logs",className:`flex ${n?"flex-row-reverse":"flex-row"} items-center gap-1 px-3 py-2 data-[state=active]:bg-red-500 data-[state=active]:text-white`,children:[s.jsx(RJ,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs sm:text-sm",children:e==="ar"?"":"Logs"})]}),s.jsxs(_e,{value:"integrations",className:`flex ${n?"flex-row-reverse":"flex-row"} items-center gap-1 px-3 py-2 data-[state=active]:bg-indigo-500 data-[state=active]:text-white`,children:[s.jsx(AJ,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs sm:text-sm",children:e==="ar"?"":"Integrate"})]}),s.jsxs(_e,{value:"features",className:`flex ${n?"flex-row-reverse":"flex-row"} items-center gap-1 px-3 py-2 data-[state=active]:bg-yellow-500 data-[state=active]:text-white`,children:[s.jsx(M5,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs sm:text-sm",children:e==="ar"?"":"Features"})]}),s.jsxs(_e,{value:"users",className:`flex ${n?"flex-row-reverse":"flex-row"} items-center gap-1 px-3 py-2 data-[state=active]:bg-orange-500 data-[state=active]:text-white`,children:[s.jsx(jt,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs sm:text-sm",children:e==="ar"?"":"Users"})]}),s.jsxs(_e,{value:"database",className:`flex ${n?"flex-row-reverse":"flex-row"} items-center gap-1 px-3 py-2 data-[state=active]:bg-purple-500 data-[state=active]:text-white`,children:[s.jsx(eg,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs sm:text-sm",children:e==="ar"?"":"Database"})]}),s.jsxs(_e,{value:"monitoring",className:`flex ${n?"flex-row-reverse":"flex-row"} items-center gap-1 px-3 py-2 data-[state=active]:bg-green-500 data-[state=active]:text-white`,children:[s.jsx(Xf,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs sm:text-sm",children:e==="ar"?"":"Monitor"})]}),s.jsxs(_e,{value:"overview",className:`flex ${n?"flex-row-reverse":"flex-row"} items-center gap-1 px-3 py-2 data-[state=active]:bg-blue-500 data-[state=active]:text-white`,children:[s.jsx(NJ,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs sm:text-sm",children:e==="ar"?"":"Overview"})]})]})}),s.jsxs(Re,{value:"overview",className:"space-y-4",children:[s.jsxs("div",{className:`grid gap-4 md:grid-cols-2 lg:grid-cols-4 ${n?"direction-rtl":""}`,children:[s.jsxs(q,{children:[s.jsxs(te,{className:`flex flex-row items-center justify-between space-y-0 pb-2 ${n?"flex-row-reverse":""}`,children:[s.jsx(ne,{className:"text-sm font-medium",children:e==="ar"?" ":"System Status"}),s.jsx(Cs,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e==="ar"?"":"Operational"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==="ar"?"  ":"All systems running"})]})]}),s.jsxs(q,{children:[s.jsxs(te,{className:`flex flex-row items-center justify-between space-y-0 pb-2 ${n?"flex-row-reverse":""}`,children:[s.jsx(ne,{className:"text-sm font-medium",children:e==="ar"?" ":"Active Users"}),s.jsx(jt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:p.activeUsers}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==="ar"?"+12%  ":"+12% from yesterday"})]})]}),s.jsxs(q,{children:[s.jsxs(te,{className:`flex flex-row items-center justify-between space-y-0 pb-2 ${n?"flex-row-reverse":""}`,children:[s.jsx(ne,{className:"text-sm font-medium",children:e==="ar"?" API":"API Requests"}),s.jsx(Xf,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:p.apiCalls.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==="ar"?" 24 ":"Last 24 hours"})]})]}),s.jsxs(q,{children:[s.jsxs(te,{className:`flex flex-row items-center justify-between space-y-0 pb-2 ${n?"flex-row-reverse":""}`,children:[s.jsx(ne,{className:"text-sm font-medium",children:e==="ar"?" ":"Error Rate"}),s.jsx(Dr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsxs("div",{className:"text-2xl font-bold number-display",children:[p.errorRate.toFixed(2),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==="ar"?" 0.2%  ":" 0.2% from yesterday"})]})]})]}),s.jsxs(q,{children:[s.jsxs(te,{children:[s.jsx(ne,{children:e==="ar"?" ":"Quick Actions"}),s.jsx(wn,{children:e==="ar"?"   ":"Quick development and maintenance tools"})]}),s.jsxs(G,{className:"grid gap-4 grid-cols-2 sm:grid-cols-3 lg:grid-cols-6",children:[s.jsx(q,{className:"group cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105 border-2 hover:border-primary",onClick:()=>{h||b()},children:s.jsxs(G,{className:"p-4 flex flex-col items-center text-center space-y-2",children:[s.jsx("div",{className:"p-3 rounded-lg bg-orange-100 dark:bg-orange-900/20 group-hover:bg-orange-200 dark:group-hover:bg-orange-900/30 transition-colors",children:s.jsx($n,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),s.jsx("p",{className:"font-semibold text-sm",children:e==="ar"?" ":"Clear Cache"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==="ar"?"  ":"Remove temp data"})]})}),s.jsx(q,{className:"group cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105 border-2 hover:border-primary",onClick:()=>{h||S()},children:s.jsxs(G,{className:"p-4 flex flex-col items-center text-center space-y-2",children:[s.jsx("div",{className:"p-3 rounded-lg bg-blue-100 dark:bg-blue-900/20 group-hover:bg-blue-200 dark:group-hover:bg-blue-900/30 transition-colors",children:s.jsx(br,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),s.jsx("p",{className:"font-semibold text-sm",children:e==="ar"?" ":"Export Data"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==="ar"?"  ":"Download all data"})]})}),s.jsx(q,{className:"group cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105 border-2 hover:border-primary",onClick:()=>{h||_()},children:s.jsxs(G,{className:"p-4 flex flex-col items-center text-center space-y-2",children:[s.jsx("div",{className:"p-3 rounded-lg bg-red-100 dark:bg-red-900/20 group-hover:bg-red-200 dark:group-hover:bg-red-900/30 transition-colors",children:s.jsx(gJ,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),s.jsx("p",{className:"font-semibold text-sm",children:e==="ar"?" ":"Diagnostics"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==="ar"?" ":"Check for issues"})]})}),s.jsx(q,{className:"group cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105 border-2 hover:border-primary",onClick:()=>t("/dashboard/admin/users"),children:s.jsxs(G,{className:"p-4 flex flex-col items-center text-center space-y-2",children:[s.jsx("div",{className:"p-3 rounded-lg bg-purple-100 dark:bg-purple-900/20 group-hover:bg-purple-200 dark:group-hover:bg-purple-900/30 transition-colors",children:s.jsx(jt,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),s.jsx("p",{className:"font-semibold text-sm",children:e==="ar"?"":"Users"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==="ar"?" ":"Manage accounts"})]})}),s.jsx(q,{className:"group cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105 border-2 hover:border-primary",onClick:()=>window.location.reload(),children:s.jsxs(G,{className:"p-4 flex flex-col items-center text-center space-y-2",children:[s.jsx("div",{className:"p-3 rounded-lg bg-green-100 dark:bg-green-900/20 group-hover:bg-green-200 dark:group-hover:bg-green-900/30 transition-colors",children:s.jsx(qg,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),s.jsx("p",{className:"font-semibold text-sm",children:e==="ar"?" ":"Reload"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==="ar"?" ":"Refresh app"})]})}),s.jsx(q,{className:"group cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105 border-2 hover:border-primary",onClick:()=>t("/dashboard/devices"),children:s.jsxs(G,{className:"p-4 flex flex-col items-center text-center space-y-2",children:[s.jsx("div",{className:"p-3 rounded-lg bg-indigo-100 dark:bg-indigo-900/20 group-hover:bg-indigo-200 dark:group-hover:bg-indigo-900/30 transition-colors",children:s.jsx(JE,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})}),s.jsx("p",{className:"font-semibold text-sm",children:e==="ar"?"":"Devices"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==="ar"?" ":"Manage devices"})]})})]})]})]}),s.jsx(Re,{value:"monitoring",className:"space-y-4",children:s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:e==="ar"?" ":"Performance Monitoring"})}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(T,{className:"text-sm",children:e==="ar"?" ":"CPU Usage"}),s.jsxs("span",{className:"text-sm font-medium",children:[p.cpu.toFixed(1),"%"]})]}),s.jsx(Ri,{value:p.cpu,className:"h-2"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(T,{className:"text-sm",children:e==="ar"?" ":"Memory Usage"}),s.jsxs("span",{className:"text-sm font-medium",children:[p.memory.toFixed(1),"%"]})]}),s.jsx(Ri,{value:p.memory,className:"h-2"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(T,{className:"text-sm",children:e==="ar"?" ":"Storage Usage"}),s.jsxs("span",{className:"text-sm font-medium",children:[p.storage.toFixed(1),"%"]})]}),s.jsx(Ri,{value:p.storage,className:"h-2"})]})]}),s.jsx(js,{}),s.jsxs("div",{className:"grid gap-3 md:gap-4 grid-cols-2 md:grid-cols-2",children:[s.jsxs(q,{children:[s.jsx(te,{className:"pb-3",children:s.jsx(ne,{className:"text-sm",children:e==="ar"?" ":"Server Status"})}),s.jsxs(G,{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:e==="ar"?" ":"Web Server"}),s.jsxs(ce,{variant:"outline",className:"bg-green-100 text-green-800",children:[s.jsx(Xs,{className:"h-3 w-3 mr-1"}),e==="ar"?"":"Online"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:e==="ar"?" ":"Database"}),s.jsxs(ce,{variant:"outline",className:"bg-green-100 text-green-800",children:[s.jsx(eg,{className:"h-3 w-3 mr-1"}),e==="ar"?"":"Connected"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:e==="ar"?"  ":"Cache"}),s.jsxs(ce,{variant:"outline",className:"bg-green-100 text-green-800",children:[s.jsx(SJ,{className:"h-3 w-3 mr-1"}),e==="ar"?"":"Active"]})]})]})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-3",children:s.jsx(ne,{className:"text-sm",children:e==="ar"?" ":"System Stats"})}),s.jsxs(G,{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:e==="ar"?" ":"Response Time"}),s.jsx("span",{className:"text-sm font-medium",children:"142ms"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:e==="ar"?" ":"Throughput"}),s.jsx("span",{className:"text-sm font-medium",children:"1.2k req/s"})]})]})]})]})]})]})}),s.jsx(Re,{value:"database",className:"space-y-4",children:s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:e==="ar"?"  ":"Database Management"})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{placeholder:e==="ar"?"  ...":"Search tables...",value:l,onChange:N=>c(N.target.value),className:"max-w-sm"}),s.jsx($,{variant:"outline",children:s.jsx(At,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid gap-4",children:[s.jsxs(q,{children:[s.jsx(te,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{className:"text-sm",children:"Tables Overview"}),s.jsxs(ce,{variant:"outline",children:[s.jsx(eg,{className:"h-3 w-3 mr-1"}),"PostgreSQL"]})]})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-2",children:["profiles","students","teachers","classes","attendance_records","grades"].map(N=>s.jsxs("div",{className:"flex items-center justify-between p-2 rounded hover:bg-muted",children:[s.jsx("span",{className:"text-sm font-medium",children:N}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{size:"sm",variant:"ghost",children:s.jsx(Pn,{className:"h-4 w-4"})}),s.jsx($,{size:"sm",variant:"ghost",children:s.jsx(Yn,{className:"h-4 w-4"})})]})]},N))})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs($,{variant:"outline",className:"justify-start",children:[s.jsx(E5,{className:"mr-2 h-4 w-4"}),e==="ar"?" ":"Import Data"]}),s.jsxs($,{variant:"outline",className:"justify-start",children:[s.jsx(br,{className:"mr-2 h-4 w-4"}),e==="ar"?" ":"Backup Database"]}),s.jsxs($,{variant:"outline",className:"justify-start",children:[s.jsx(qg,{className:"mr-2 h-4 w-4"}),e==="ar"?" ":"Sync Data"]})]})]})]})]})}),s.jsx(Re,{value:"users",className:"space-y-4",children:s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:e==="ar"?" ":"User Management"})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{placeholder:e==="ar"?"  ...":"Search users...",className:"max-w-sm"}),s.jsx($,{variant:"outline",children:s.jsx(g5,{className:"h-4 w-4"})}),s.jsxs($,{children:[s.jsx(jt,{className:"mr-2 h-4 w-4"}),e==="ar"?" ":"Add User"]})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:["Admin Users","Teachers","Students","Parents","Drivers","Staff"].map(N=>s.jsxs(q,{children:[s.jsx(te,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{className:"text-sm",children:N}),s.jsx(ce,{variant:"outline",children:Math.floor(Math.random()*100)+20})]})}),s.jsx(G,{children:s.jsx($,{variant:"outline",size:"sm",className:"w-full",children:e==="ar"?"":"Manage"})})]},N))}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-3",children:s.jsx(ne,{className:"text-sm",children:e==="ar"?" ":"User Permissions"})}),s.jsxs(G,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(T,{children:e==="ar"?"  ":"Allow Self-Registration"}),s.jsx(qt,{})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(T,{children:e==="ar"?"   ":"Email Verification Required"}),s.jsx(qt,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(T,{children:e==="ar"?" ":"Two-Factor Authentication"}),s.jsx(qt,{})]})]})]})]})]})}),s.jsx(Re,{value:"features",className:"space-y-4",children:s.jsxs(q,{children:[s.jsxs(te,{children:[s.jsx(ne,{children:e==="ar"?" ":"Feature Management"}),s.jsx(wn,{children:e==="ar"?"     ":"Enable or disable application features for testing"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"space-y-4",children:v.map(N=>s.jsx(q,{children:s.jsx(te,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ne,{className:"text-sm",children:n?N.nameAr:N.name}),s.jsx(wn,{className:"text-xs mt-1",children:n?N.descriptionAr:N.description})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ce,{variant:"outline",children:N.category}),s.jsx(qt,{checked:N.enabled,onCheckedChange:()=>w(N.id)})]})]})})},N.id))}),s.jsx(js,{className:"my-6"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e==="ar"?" ":"Testing Environment"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(q,{children:[s.jsx(te,{className:"pb-3",children:s.jsx(ne,{className:"text-sm",children:e==="ar"?" ":"Test Mode"})}),s.jsx(G,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(T,{children:e==="ar"?"  ":"Enable Test Mode"}),s.jsx(qt,{})]})})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-3",children:s.jsx(ne,{className:"text-sm",children:e==="ar"?" ":"Mock Data"})}),s.jsx(G,{children:s.jsxs($,{variant:"outline",className:"w-full",children:[s.jsx(eg,{className:"mr-2 h-4 w-4"}),e==="ar"?"  ":"Generate Mock Data"]})})]})]})]})]})]})}),s.jsx(Re,{value:"integrations",className:"space-y-4",children:s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:e==="ar"?" ":"External Integrations"})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(q,{children:[s.jsx(te,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{className:"text-sm",children:e==="ar"?" ":"Payment Gateway"}),s.jsx(ce,{className:"bg-green-100 text-green-800",children:e==="ar"?"":"Connected"})]})}),s.jsxs(G,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:"Stripe"})]}),s.jsx($,{variant:"outline",size:"sm",className:"w-full",children:e==="ar"?"":"Configure"})]})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{className:"text-sm",children:e==="ar"?"  ":"Email Service"}),s.jsx(ce,{className:"bg-green-100 text-green-800",children:e==="ar"?"":"Connected"})]})}),s.jsxs(G,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:"SendGrid"})]}),s.jsx($,{variant:"outline",size:"sm",className:"w-full",children:e==="ar"?"":"Configure"})]})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{className:"text-sm",children:e==="ar"?"  ":"SMS Service"}),s.jsx(ce,{variant:"outline",children:e==="ar"?" ":"Not Connected"})]})}),s.jsxs(G,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ku,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:"Twilio"})]}),s.jsx($,{variant:"outline",size:"sm",className:"w-full",children:e==="ar"?"":"Setup"})]})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{className:"text-sm",children:e==="ar"?" ":"Cloud Storage"}),s.jsx(ce,{className:"bg-green-100 text-green-800",children:e==="ar"?"":"Connected"})]})}),s.jsxs(G,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wJ,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:"Supabase Storage"})]}),s.jsx($,{variant:"outline",size:"sm",className:"w-full",children:e==="ar"?"":"Configure"})]})]})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-3",children:s.jsx(ne,{className:"text-sm",children:e==="ar"?" API":"API Keys"})}),s.jsxs(G,{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="ar"?" API ":"Public API Key"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"password",value:"pk_test_********************************",readOnly:!0}),s.jsx($,{variant:"outline",size:"icon",children:s.jsx(bJ,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="ar"?" API ":"Secret API Key"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"password",value:"sk_test_********************************",readOnly:!0}),s.jsx($,{variant:"outline",size:"icon",children:s.jsx(Pn,{className:"h-4 w-4"})})]})]})]})]})]})]})}),s.jsx(Re,{value:"logs",className:"space-y-4",children:s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:e==="ar"?" ":"System Logs"})}),s.jsxs(G,{children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(Pe,{defaultValue:"all",children:[s.jsx(ke,{className:"w-[150px]",children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"all",children:e==="ar"?" ":"All Logs"}),s.jsx(K,{value:"error",children:e==="ar"?"":"Errors"}),s.jsx(K,{value:"warning",children:e==="ar"?"":"Warnings"}),s.jsx(K,{value:"info",children:e==="ar"?"":"Info"})]})]}),s.jsx(F,{placeholder:e==="ar"?"  ...":"Search logs...",className:"max-w-sm"}),s.jsx($,{variant:"outline",children:s.jsx(qg,{className:"h-4 w-4"})})]}),s.jsx(Gn,{className:"h-[400px] w-full rounded-md border p-4",children:s.jsxs("div",{className:"space-y-2 font-mono text-xs",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ce,{variant:"outline",className:"bg-green-100 text-green-800",children:"INFO"}),s.jsx("span",{className:"text-muted-foreground",children:"[2024-01-01 12:00:00]"}),s.jsx("span",{children:"User authentication successful: user@example.com"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ce,{variant:"outline",className:"bg-yellow-100 text-yellow-800",children:"WARN"}),s.jsx("span",{className:"text-muted-foreground",children:"[2024-01-01 11:58:00]"}),s.jsx("span",{children:"Rate limit approaching for API endpoint /api/users"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ce,{variant:"outline",className:"bg-red-100 text-red-800",children:"ERROR"}),s.jsx("span",{className:"text-muted-foreground",children:"[2024-01-01 11:55:00]"}),s.jsx("span",{children:"Database connection timeout - retrying..."})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ce,{variant:"outline",className:"bg-green-100 text-green-800",children:"INFO"}),s.jsx("span",{className:"text-muted-foreground",children:"[2024-01-01 11:50:00]"}),s.jsx("span",{children:"Scheduled backup completed successfully"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ce,{variant:"outline",className:"bg-blue-100 text-blue-800",children:"DEBUG"}),s.jsx("span",{className:"text-muted-foreground",children:"[2024-01-01 11:45:00]"}),s.jsx("span",{children:"Cache invalidated for key: user_sessions_*"})]})]})}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsxs($,{variant:"outline",children:[s.jsx(br,{className:"mr-2 h-4 w-4"}),e==="ar"?" ":"Export Logs"]}),s.jsxs($,{variant:"outline",children:[s.jsx($n,{className:"mr-2 h-4 w-4"}),e==="ar"?" ":"Clear Logs"]})]})]})]})}),s.jsx(Re,{value:"settings",className:"space-y-4",children:s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:e==="ar"?" ":"System Settings"})}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e==="ar"?" ":"General Settings"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="ar"?" ":"Application Name"}),s.jsx(F,{defaultValue:"TalebEdu"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="ar"?" ":"Default Language"}),s.jsxs(Pe,{defaultValue:"en",children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"en",children:"English"}),s.jsx(K,{value:"ar",children:""})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="ar"?" ":"Timezone"}),s.jsxs(Pe,{defaultValue:"UTC+3",children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"UTC+3",children:"UTC+3 (Riyadh)"}),s.jsx(K,{value:"UTC+4",children:"UTC+4 (Dubai)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="ar"?" ":"Date Format"}),s.jsxs(Pe,{defaultValue:"DD/MM/YYYY",children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),s.jsx(K,{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),s.jsx(K,{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]})]})]}),s.jsx(js,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e==="ar"?" ":"Security Settings"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(T,{children:e==="ar"?"   ":"Enforce Strong Passwords"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="ar"?" 8      ":"Require minimum 8 characters with numbers and symbols"})]}),s.jsx(qt,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(T,{children:e==="ar"?"  ":"Auto Session Timeout"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="ar"?"   30    ":"Logout after 30 minutes of inactivity"})]}),s.jsx(qt,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(T,{children:e==="ar"?" ":"Activity Logging"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="ar"?"   ":"Log all user activities"})]}),s.jsx(qt,{defaultChecked:!0})]})]})]}),s.jsx(js,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e==="ar"?"  ":"Backup & Recovery"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(q,{children:[s.jsx(te,{className:"pb-3",children:s.jsx(ne,{className:"text-sm",children:e==="ar"?"  ":"Automatic Backup"})}),s.jsxs(G,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(T,{children:e==="ar"?"":"Enabled"}),s.jsx(qt,{defaultChecked:!0})]}),s.jsxs(Pe,{defaultValue:"daily",children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"hourly",children:e==="ar"?" ":"Hourly"}),s.jsx(K,{value:"daily",children:e==="ar"?"":"Daily"}),s.jsx(K,{value:"weekly",children:e==="ar"?"":"Weekly"})]})]})]})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-3",children:s.jsx(ne,{className:"text-sm",children:e==="ar"?"  ":"Last Backup"})}),s.jsxs(G,{className:"space-y-3",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:e==="ar"?"2024-01-01 03:00 ":"2024-01-01 03:00 AM"}),s.jsxs($,{variant:"outline",className:"w-full",children:[s.jsx(br,{className:"mr-2 h-4 w-4"}),e==="ar"?" ":"Download Backup"]})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",children:e==="ar"?"":"Cancel"}),s.jsxs($,{children:[s.jsx(Wc,{className:"mr-2 h-4 w-4"}),e==="ar"?" ":"Save Changes"]})]})]})]})})]})]})},qe=e0,um=EC,bhe=t0,T8=m.forwardRef(({className:e,...t},n)=>s.jsx(sh,{ref:n,className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));T8.displayName=sh.displayName;const Ve=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(bhe,{children:[s.jsx(T8,{}),s.jsxs(ah,{ref:r,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(n0,{className:"absolute right-4 top-4 rounded-sm opacity-100 bg-background border p-1 ring-offset-background transition-all hover:bg-accent hover:rotate-90 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none z-10",children:[s.jsx(Xn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ve.displayName=ah.displayName;const Ke=({className:e,...t})=>s.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ke.displayName="DialogHeader";const Nt=({className:e,...t})=>s.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Nt.displayName="DialogFooter";const Ge=m.forwardRef(({className:e,...t},n)=>s.jsx(Zm,{ref:n,className:me("text-lg font-semibold leading-none tracking-tight",e),...t}));Ge.displayName=Zm.displayName;const es=m.forwardRef(({className:e,...t},n)=>s.jsx(Qm,{ref:n,className:me("text-sm text-muted-foreground",e),...t}));es.displayName=Qm.displayName;const is=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:me("w-full caption-bottom text-sm",e),...t})}));is.displayName="Table";const os=m.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:me("[&_tr]:border-b",e),...t}));os.displayName="TableHeader";const ls=m.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:me("[&_tr:last-child]:border-0",e),...t}));ls.displayName="TableBody";const Nhe=m.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Nhe.displayName="TableFooter";const Ot=m.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:me("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Ot.displayName="TableRow";const we=m.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));we.displayName="TableHead";const be=m.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:me("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));be.displayName="TableCell";const _he=m.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:me("mt-4 text-sm text-muted-foreground",e),...t}));_he.displayName="TableCaption";function She(){const{language:e}=Te(),[t,n]=m.useState([]),[r,a]=m.useState(!0),[i,o]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState(null),[h,f]=m.useState({name:"",name_ar:"",icon:"",color:"hsl(var(--primary))",is_active:!0});m.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:S,error:_}=await V.from("canteen_categories").select("*").order("display_order",{ascending:!0});if(_)throw _;n(S||[])}catch{fe.error(e==="en"?"Failed to load categories":"  ")}finally{a(!1)}},g=async()=>{if(!h.name){fe.error(e==="en"?"Please enter category name":"   ");return}try{const S=Math.max(...t.map(C=>C.display_order),0),{data:_,error:N}=await V.from("canteen_categories").insert([{name:h.name,name_ar:h.name_ar||null,icon:h.icon,color:h.color,is_active:h.is_active,display_order:S+1}]).select().single();if(N)throw N;n([...t,_]),o(!1),x(),fe.success(e==="en"?"Category added successfully":"   ")}catch(S){fe.error(S.message)}},v=async()=>{if(!d||!h.name){fe.error(e==="en"?"Please enter category name":"   ");return}try{const{data:S,error:_}=await V.from("canteen_categories").update({name:h.name,name_ar:h.name_ar||null,icon:h.icon,color:h.color,is_active:h.is_active}).eq("id",d.id).select().single();if(_)throw _;n(t.map(N=>N.id===d.id?S:N)),c(!1),u(null),x(),fe.success(e==="en"?"Category updated successfully":"   ")}catch(S){fe.error(S.message)}},j=async S=>{if(confirm(e==="en"?"Are you sure? This will affect all items in this category.":"          ."))try{const{error:_}=await V.from("canteen_categories").delete().eq("id",S);if(_)throw _;n(t.filter(N=>N.id!==S)),fe.success(e==="en"?"Category deleted successfully":"   ")}catch(_){fe.error(_.message)}},y=S=>{u(S),f({name:S.name,name_ar:S.name_ar||"",icon:S.icon,color:S.color,is_active:S.is_active}),c(!0)},x=()=>{f({name:"",name_ar:"",icon:"",color:"hsl(var(--primary))",is_active:!0})},w=["","","","","","","","","","","","","","",""],b=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:e==="en"?"Name (English)":" ()"}),s.jsx(F,{value:h.name,onChange:S=>f({...h,name:S.target.value}),placeholder:e==="en"?"Category name":" "})]}),s.jsxs("div",{children:[s.jsx(T,{children:e==="en"?"Name (Arabic)":" ()"}),s.jsx(F,{value:h.name_ar,onChange:S=>f({...h,name_ar:S.target.value}),placeholder:e==="en"?"Arabic name":" ",dir:"rtl"})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:e==="en"?"Icon":""}),s.jsx("div",{className:"grid grid-cols-8 gap-2 mt-2",children:w.map(S=>s.jsx($,{type:"button",variant:h.icon===S?"default":"outline",className:"text-2xl h-12",onClick:()=>f({...h,icon:S}),children:S},S))}),s.jsx(F,{value:h.icon,onChange:S=>f({...h,icon:S.target.value}),placeholder:"Or type custom emoji",className:"mt-2"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(T,{children:e==="en"?"Active":""}),s.jsx(qt,{checked:h.is_active,onCheckedChange:S=>f({...h,is_active:S})})]})]});return r?s.jsx(Pt,{}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ne,{className:"text-2xl flex items-center gap-2",children:[s.jsx(Jf,{className:"h-6 w-6"}),e==="en"?"Category Management":" "]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:e==="en"?"Organize your canteen items by categories":"    "})]}),s.jsxs($,{onClick:()=>o(!0),children:[s.jsx(pn,{className:"h-4 w-4 mr-2"}),e==="en"?"Add Category":" "]})]})}),s.jsx(G,{children:s.jsxs(is,{children:[s.jsx(os,{children:s.jsxs(Ot,{children:[s.jsx(we,{className:"w-12"}),s.jsx(we,{children:e==="en"?"Icon":""}),s.jsx(we,{children:e==="en"?"Name":""}),s.jsx(we,{children:e==="en"?"Status":""}),s.jsx(we,{className:"text-right",children:e==="en"?"Actions":""})]})}),s.jsx(ls,{children:t.map(S=>s.jsxs(Ot,{children:[s.jsx(be,{children:s.jsx(_J,{className:"h-4 w-4 text-muted-foreground cursor-move"})}),s.jsx(be,{children:s.jsx("span",{className:"text-2xl",children:S.icon})}),s.jsx(be,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:S.name}),S.name_ar&&s.jsx("p",{className:"text-sm text-muted-foreground",dir:"rtl",children:S.name_ar})]})}),s.jsx(be,{children:s.jsx(ce,{variant:S.is_active?"default":"secondary",children:S.is_active?e==="en"?"Active":"":e==="en"?"Inactive":" "})}),s.jsx(be,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>y(S),children:s.jsx(Yn,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>j(S.id),children:s.jsx($n,{className:"h-4 w-4 text-destructive"})})]})})]},S.id))})]})})]}),s.jsx(qe,{open:i,onOpenChange:o,children:s.jsxs(Ve,{children:[s.jsx(Ke,{children:s.jsx(Ge,{children:e==="en"?"Add Category":" "})}),s.jsx(b,{}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>o(!1),children:e==="en"?"Cancel":""}),s.jsx($,{onClick:g,children:e==="en"?"Add":""})]})]})}),s.jsx(qe,{open:l,onOpenChange:c,children:s.jsxs(Ve,{children:[s.jsx(Ke,{children:s.jsx(Ge,{children:e==="en"?"Edit Category":" "})}),s.jsx(b,{}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>c(!1),children:e==="en"?"Cancel":""}),s.jsx($,{onClick:v,children:e==="en"?"Save":""})]})]})})]})}function zC(){const{language:e}=Te(),[t,n]=m.useState([]),[r,a]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState("all"),[d,u]=m.useState("items"),[h,f]=m.useState(!1),[p,g]=m.useState(!1),[v,j]=m.useState(null),[y,x]=m.useState({name:"",name_ar:"",category:"",price:0,cost_price:0,available:!0,icon:"",stock_quantity:0,low_stock_alert:10,barcode:""});m.useEffect(()=>{w(),b()},[]);const w=async()=>{try{const{data:P,error:E}=await V.from("canteen_categories").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(E)throw E;a(P||[]),P&&P.length>0&&x(U=>({...U,category:P[0].name}))}catch(P){console.error("Error fetching categories:",P)}},b=async()=>{try{const{data:P,error:E}=await V.from("canteen_items").select("*").order("created_at",{ascending:!1});if(E)throw E;n(P||[])}catch(P){console.error("Error fetching canteen items:",P),fe.error(e==="en"?"Failed to load items":"  ")}finally{o(!1)}},S=l==="all"?t:t.filter(P=>P.category===l),_=async()=>{if(!y.name||!y.category||y.price<=0){fe.error(e==="en"?"Please fill in all required fields":"    ");return}try{const{data:P,error:E}=await V.from("canteen_items").insert([{name:y.name,name_ar:y.name_ar||null,category:y.category,price:y.price,cost_price:y.cost_price,available:y.available,icon:y.icon,stock_quantity:y.stock_quantity,low_stock_alert:y.low_stock_alert,barcode:y.barcode||null}]).select().single();if(E)throw E;n([P,...t]),f(!1),A(),fe.success(e==="en"?"Item added successfully":"   ")}catch(P){console.error("Error adding item:",P),fe.error(P.message)}},N=async()=>{if(!v||!y.name||!y.category||y.price<=0){fe.error(e==="en"?"Please fill in all required fields":"    ");return}try{const{data:P,error:E}=await V.from("canteen_items").update({name:y.name,name_ar:y.name_ar||null,category:y.category,price:y.price,cost_price:y.cost_price,available:y.available,icon:y.icon,stock_quantity:y.stock_quantity,low_stock_alert:y.low_stock_alert,barcode:y.barcode||null}).eq("id",v.id).select().single();if(E)throw E;n(t.map(U=>U.id===v.id?P:U)),g(!1),j(null),A(),fe.success(e==="en"?"Item updated successfully":"   ")}catch(P){console.error("Error updating item:",P),fe.error(P.message)}},C=async P=>{if(confirm(e==="en"?"Are you sure you want to delete this item?":"        "))try{const{error:E}=await V.from("canteen_items").delete().eq("id",P);if(E)throw E;n(t.filter(U=>U.id!==P)),fe.success(e==="en"?"Item deleted successfully":"   ")}catch(E){console.error("Error deleting item:",E),fe.error(E.message)}},k=P=>{j(P),x({name:P.name,name_ar:P.name_ar||"",category:P.category,price:P.price,cost_price:P.cost_price,available:P.available,icon:P.icon,stock_quantity:P.stock_quantity,low_stock_alert:P.low_stock_alert,barcode:P.barcode||""}),g(!0)},A=()=>{var P;x({name:"",name_ar:"",category:((P=r[0])==null?void 0:P.name)||"",price:0,cost_price:0,available:!0,icon:"",stock_quantity:0,low_stock_alert:10,barcode:""})},O=t.filter(P=>P.stock_quantity<=P.low_stock_alert),M=t.reduce((P,E)=>P+(E.price-E.cost_price)*Math.max(0,E.stock_quantity),0),z=({isEdit:P=!1})=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:e==="en"?"Name (English)":" ()"}),s.jsx(F,{value:y.name,onChange:E=>x({...y,name:E.target.value}),placeholder:e==="en"?"Item name":" "})]}),s.jsxs("div",{children:[s.jsx(T,{children:e==="en"?"Name (Arabic)":" ()"}),s.jsx(F,{value:y.name_ar,onChange:E=>x({...y,name_ar:E.target.value}),placeholder:e==="en"?"Item name in Arabic":"  ",dir:"rtl"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:e==="en"?"Category":""}),s.jsxs(Pe,{value:y.category,onValueChange:E=>x({...y,category:E}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsx(Ae,{children:r.map(E=>s.jsxs(K,{value:E.name,children:[E.icon," ",e==="en"?E.name:E.name_ar||E.name]},E.id))})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:e==="en"?"Icon":""}),s.jsx(F,{value:y.icon,onChange:E=>x({...y,icon:E.target.value}),placeholder:""})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:e==="en"?"Sale Price (OMR)":"  (.)"}),s.jsx(F,{type:"number",step:"0.001",min:"0",value:y.price,onChange:E=>x({...y,price:parseFloat(E.target.value)||0})})]}),s.jsxs("div",{children:[s.jsx(T,{children:e==="en"?"Cost Price (OMR)":"  (.)"}),s.jsx(F,{type:"number",step:"0.001",min:"0",value:y.cost_price,onChange:E=>x({...y,cost_price:parseFloat(E.target.value)||0})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:e==="en"?"Stock Quantity":""}),s.jsx(F,{type:"number",min:"0",value:y.stock_quantity,onChange:E=>x({...y,stock_quantity:parseInt(E.target.value)||0})})]}),s.jsxs("div",{children:[s.jsx(T,{children:e==="en"?"Low Stock Alert":"  "}),s.jsx(F,{type:"number",min:"0",value:y.low_stock_alert,onChange:E=>x({...y,low_stock_alert:parseInt(E.target.value)||10})})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:e==="en"?"Barcode (Optional)":" ()"}),s.jsx(F,{value:y.barcode,onChange:E=>x({...y,barcode:E.target.value}),placeholder:"1234567890"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(T,{children:e==="en"?"Available":""}),s.jsx(qt,{checked:y.available,onCheckedChange:E=>x({...y,available:E})})]})]});return i?s.jsx(Pt,{size:"medium",text:!0,fullScreen:!0}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(gn,{value:d,onValueChange:u,children:[s.jsxs(sn,{className:"grid w-full grid-cols-2",children:[s.jsxs(_e,{value:"items",children:[s.jsx(Lr,{className:"h-4 w-4 mr-2"}),e==="en"?"Items":""]}),s.jsxs(_e,{value:"categories",children:[s.jsx(Jf,{className:"h-4 w-4 mr-2"}),e==="en"?"Categories":""]})]}),s.jsxs(Re,{value:"items",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsx(q,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="en"?"Total Items":" "}),s.jsx("p",{className:"text-2xl font-bold",children:t.length})]}),s.jsx(Lr,{className:"h-8 w-8 text-primary/20"})]})})}),s.jsx(q,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="en"?"Available":""}),s.jsx("p",{className:"text-2xl font-bold text-success",children:t.filter(P=>P.available).length})]}),s.jsx(Qf,{className:"h-8 w-8 text-success/20"})]})})}),s.jsx(q,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="en"?"Low Stock":" "}),s.jsx("p",{className:"text-2xl font-bold text-destructive",children:O.length})]}),s.jsx(A5,{className:"h-8 w-8 text-destructive/20"})]})})}),s.jsx(q,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="en"?"Estimated Profit":" "}),s.jsx("p",{className:"text-2xl font-bold text-success",children:M.toFixed(3)})]}),s.jsx(bs,{className:"h-8 w-8 text-success/20"})]})})})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ne,{className:"text-2xl flex items-center gap-2",children:[s.jsx(so,{className:"h-6 w-6"}),e==="en"?"Items Management":" "]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:e==="en"?"Manage canteen items, prices, stock, and availability":"     "})]}),s.jsxs($,{onClick:()=>f(!0),children:[s.jsx(pn,{className:"h-4 w-4 mr-2"}),e==="en"?"Add Item":" "]})]})}),s.jsx(G,{children:s.jsxs(gn,{value:l,onValueChange:c,children:[s.jsxs(sn,{className:`grid w-full ${r.length>5?"grid-cols-7":`grid-cols-${r.length+1}`}`,children:[s.jsx(_e,{value:"all",children:e==="en"?"All":""}),r.map(P=>s.jsxs(_e,{value:P.name,children:[P.icon," ",e==="en"?P.name:P.name_ar||P.name]},P.id))]}),s.jsx(Re,{value:l,className:"mt-6",children:S.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Lr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:e==="en"?"No items found":"  "})]}):s.jsxs(is,{children:[s.jsx(os,{children:s.jsxs(Ot,{children:[s.jsx(we,{children:e==="en"?"Item":""}),s.jsx(we,{children:e==="en"?"Category":""}),s.jsx(we,{children:e==="en"?"Price":""}),s.jsx(we,{children:e==="en"?"Stock":""}),s.jsx(we,{children:e==="en"?"Status":""}),s.jsx(we,{className:"text-right",children:e==="en"?"Actions":""})]})}),s.jsx(ls,{children:S.map(P=>{var E;return s.jsxs(Ot,{children:[s.jsx(be,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-2xl",children:P.icon}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:P.name}),P.name_ar&&s.jsx("p",{className:"text-sm text-muted-foreground",dir:"rtl",children:P.name_ar}),P.barcode&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(pJ,{className:"h-3 w-3"}),P.barcode]})]})]})}),s.jsx(be,{children:s.jsxs(ce,{variant:"outline",children:[(E=r.find(U=>U.name===P.category))==null?void 0:E.icon," ",P.category]})}),s.jsx(be,{children:s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:[P.price.toFixed(3)," OMR"]}),P.cost_price>0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e==="en"?"Cost: ":": ",P.cost_price.toFixed(3)]})]})}),s.jsx(be,{children:s.jsxs("div",{children:[s.jsx("p",{className:P.stock_quantity<=P.low_stock_alert?"text-destructive font-bold":"",children:P.stock_quantity}),P.stock_quantity<=P.low_stock_alert&&s.jsx(ce,{variant:"destructive",className:"text-xs mt-1",children:e==="en"?"Low":""})]})}),s.jsx(be,{children:s.jsx(ce,{variant:P.available?"default":"secondary",children:P.available?e==="en"?"Available":"":e==="en"?"Out":""})}),s.jsx(be,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>k(P),children:s.jsx(Yn,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>C(P.id),children:s.jsx($n,{className:"h-4 w-4 text-destructive"})})]})})]},P.id)})})]})})]})})]})]}),s.jsx(Re,{value:"categories",className:"mt-6",children:s.jsx(She,{})})]}),s.jsx(qe,{open:h,onOpenChange:f,children:s.jsxs(Ve,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:e==="en"?"Add New Item":"  "})}),s.jsx(z,{}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>f(!1),children:e==="en"?"Cancel":""}),s.jsx($,{onClick:_,children:e==="en"?"Add Item":" "})]})]})}),s.jsx(qe,{open:p,onOpenChange:g,children:s.jsxs(Ve,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:e==="en"?"Edit Item":" "})}),s.jsx(z,{isEdit:!0}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>g(!1),children:e==="en"?"Cancel":""}),s.jsx($,{onClick:N,children:e==="en"?"Save Changes":" "})]})]})})]})}function Che(){const{language:e}=Te(),[t,n]=m.useState("today"),[r,a]=m.useState(null),[i,o]=m.useState([]),[l,c]=m.useState([]),[d,u]=m.useState([]);m.useEffect(()=>{h()},[t]);const h=async()=>{const p=new Date;let g;switch(t){case"today":g=new Date(p.setHours(0,0,0,0));break;case"week":g=new Date(p.setDate(p.getDate()-7));break;case"month":g=new Date(p.setDate(p.getDate()-30));break}const{data:v}=await V.from("canteen_orders").select("total_amount, student_id, created_at").gte("created_at",g.toISOString());if(v){const w=new Set(v.map(b=>b.student_id).filter(Boolean));a({total_sales:v.reduce((b,S)=>b+S.total_amount,0),total_orders:v.length,unique_customers:w.size,average_order:v.length>0?v.reduce((b,S)=>b+S.total_amount,0)/v.length:0})}const{data:j}=await V.from("canteen_orders").select("items, total_amount").gte("created_at",g.toISOString());if(j){const w={};j.forEach(S=>{S.items.forEach(N=>{w[N.name]||(w[N.name]={quantity:0,revenue:0}),w[N.name].quantity+=N.quantity,w[N.name].revenue+=N.price*N.quantity})});const b=Object.entries(w).map(([S,_])=>({item_name:S,total_quantity:_.quantity,total_revenue:_.revenue})).sort((S,_)=>_.total_revenue-S.total_revenue).slice(0,10);o(b)}const{data:y}=await V.from("canteen_orders").select("total_amount, created_at").gte("created_at",g.toISOString()).order("created_at",{ascending:!0});if(y){const w={};y.forEach(S=>{const _=De(new Date(S.created_at),"yyyy-MM-dd");w[_]||(w[_]={amount:0,count:0}),w[_].amount+=S.total_amount,w[_].count+=1});const b=Object.entries(w).map(([S,_])=>({date:S,total_amount:_.amount,order_count:_.count}));c(b)}const{data:x}=await V.from("canteen_orders").select("payment_method, total_amount").gte("created_at",g.toISOString());if(x){const w={};x.forEach(S=>{const _=S.payment_method;w[_]||(w[_]={count:0,amount:0}),w[_].count+=1,w[_].amount+=S.total_amount});const b=Object.entries(w).map(([S,_])=>({method:S,count:_.count,amount:_.amount,percentage:x.length>0?_.count/x.length*100:0}));u(b)}},f=({title:p,value:g,icon:v,trend:j,trendValue:y})=>s.jsx(q,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:p}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:g}),j&&s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[j==="up"?s.jsx(fJ,{className:"h-4 w-4 text-success"}):s.jsx(uJ,{className:"h-4 w-4 text-destructive"}),s.jsx("span",{className:`text-sm ${j==="up"?"text-success":"text-destructive"}`,children:y})]})]}),s.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:s.jsx(v,{className:"h-6 w-6 text-primary"})})]})})});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(bs,{className:"h-6 w-6"}),e==="en"?"Sales Reports":" "]}),s.jsx(gn,{value:t,onValueChange:p=>n(p),children:s.jsxs(sn,{children:[s.jsx(_e,{value:"today",children:e==="en"?"Today":""}),s.jsx(_e,{value:"week",children:e==="en"?"This Week":" "}),s.jsx(_e,{value:"month",children:e==="en"?"This Month":" "})]})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsx(f,{title:e==="en"?"Total Sales":" ",value:`${(r==null?void 0:r.total_sales.toFixed(3))||"0.000"} ${e==="en"?"OMR":"."}`,icon:$r,trend:"up",trendValue:"+12.5%"}),s.jsx(f,{title:e==="en"?"Total Orders":" ",value:(r==null?void 0:r.total_orders)||0,icon:xf,trend:"up",trendValue:"+8.2%"}),s.jsx(f,{title:e==="en"?"Customers":"",value:(r==null?void 0:r.unique_customers)||0,icon:jt}),s.jsx(f,{title:e==="en"?"Avg Order":" ",value:`${(r==null?void 0:r.average_order.toFixed(3))||"0.000"} ${e==="en"?"OMR":"."}`,icon:ft})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Hu,{className:"h-5 w-5"}),e==="en"?"Top Selling Items":"  "]})}),s.jsx(G,{children:s.jsxs(is,{children:[s.jsx(os,{children:s.jsxs(Ot,{children:[s.jsx(we,{children:e==="en"?"Item":""}),s.jsx(we,{children:e==="en"?"Qty":""}),s.jsx(we,{children:e==="en"?"Revenue":""})]})}),s.jsx(ls,{children:i.map((p,g)=>s.jsxs(Ot,{children:[s.jsx(be,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ce,{variant:"outline",className:"w-6 h-6 flex items-center justify-center p-0",children:g+1}),s.jsx("span",{className:"font-medium",children:p.item_name})]})}),s.jsx(be,{children:p.total_quantity}),s.jsx(be,{className:"font-bold text-primary",children:p.total_revenue.toFixed(3)})]},p.item_name))})]})})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Lr,{className:"h-5 w-5"}),e==="en"?"Payment Methods":" "]})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:d.map(p=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium capitalize",children:p.method}),s.jsxs(ce,{children:[p.count," ",e==="en"?"orders":""]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:[p.percentage.toFixed(1),"%"]}),s.jsxs("span",{className:"font-bold text-primary",children:[p.amount.toFixed(3)," ",e==="en"?"OMR":"."]})]}),s.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${p.percentage}%`}})})]},p.method))})})]})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-5 w-5"}),e==="en"?"Daily Sales Trend":"  "]})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:l.map(p=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-24 text-sm text-muted-foreground",children:De(new Date(p.date),"MMM dd")}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("span",{className:"text-sm",children:[p.order_count," ",e==="en"?"orders":""]}),s.jsxs("span",{className:"font-bold text-primary",children:[p.total_amount.toFixed(3)," ",e==="en"?"OMR":"."]})]}),s.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-primary to-primary/60 h-2 rounded-full transition-all",style:{width:`${r?p.total_amount/r.total_sales*100:0}%`}})})]})]},p.date))})})]})]})}function khe(){var z;const{language:e}=Te(),[t,n]=m.useState("pos"),[r,a]=m.useState([]),[i,o]=m.useState([]),[l,c]=m.useState(null),[d,u]=m.useState(""),[h,f]=m.useState(!1),[p,g]=m.useState([]),[v,j]=m.useState([]);m.useEffect(()=>{y(),x(),w()},[]);const y=async()=>{const{data:P}=await V.from("canteen_categories").select("*").eq("is_active",!0).order("display_order",{ascending:!0});j(P||[])},x=async()=>{const{data:P,error:E}=await V.from("canteen_items").select("*").eq("available",!0).order("category",{ascending:!0});if(E){fe.error(e==="en"?"Failed to load items":"  ");return}a(P||[])},w=async()=>{const{data:P}=await V.from("canteen_orders").select("*, students(full_name, full_name_ar)").order("created_at",{ascending:!1}).limit(10);g(P||[])},b=async()=>{f(!0);try{const P=await qd.readTag();P&&await S(P.id)}catch{fe.error(e==="en"?"NFC scan failed":"  NFC")}finally{f(!1)}},S=async P=>{const{data:E,error:U}=await V.from("students").select(`
        id,
        profile_id,
        first_name,
        last_name,
        first_name_ar,
        last_name_ar,
        nfc_id
      `).eq("nfc_id",P).single();if(U||!E){fe.error(e==="en"?"Student not found":"  ");return}const{data:R}=await V.from("wallet_balances").select("balance").eq("user_id",E.profile_id).single(),{data:B}=await V.from("canteen_restrictions").select("allowed_items, daily_limit").eq("student_id",E.id).single();c({...E,wallet_balance:(R==null?void 0:R.balance)||0,restrictions:B}),o([]);const L=e==="en"?`${E.first_name} ${E.last_name}`:`${E.first_name_ar||E.first_name} ${E.last_name_ar||E.last_name}`;fe.success(e==="en"?`Welcome ${L}!`:` ${L}!`)},_=P=>{var U;if((U=l==null?void 0:l.restrictions)!=null&&U.allowed_items&&l.restrictions.allowed_items.length>0&&!l.restrictions.allowed_items.includes(P.id)){fe.error(e==="en"?"This item is restricted by parent":"      ");return}const E=i.find(R=>R.id===P.id);o(E?i.map(R=>R.id===P.id?{...R,quantity:R.quantity+1}:R):[...i,{...P,quantity:1}])},N=P=>{o(i.filter(E=>E.id!==P))},C=(P,E)=>{E<=0?N(P):o(i.map(U=>U.id===P?{...U,quantity:E}:U))},k=()=>i.reduce((P,E)=>P+E.price*E.quantity,0),A=async P=>{var U;const E=k();if(P==="wallet"){if(!l){fe.error(e==="en"?"No student selected":"   ");return}if((U=l.restrictions)!=null&&U.daily_limit&&E>l.restrictions.daily_limit){fe.error(e==="en"?"Amount exceeds daily limit":"   ");return}if(l.wallet_balance<E){fe.error(e==="en"?"Insufficient wallet balance":"   ");return}const{data:R}=await V.from("wallet_balances").select("balance").eq("user_id",l.profile_id).single(),{error:B}=await V.from("wallet_balances").update({balance:((R==null?void 0:R.balance)||0)-E}).eq("user_id",l.profile_id);if(B){fe.error(e==="en"?"Payment failed":" ");return}const{data:L}=await V.from("wallet_transactions").insert({user_id:l.profile_id,type:"payment",amount:E,balance_after:((R==null?void 0:R.balance)||0)-E,description:"Canteen purchase",description_ar:"  "}).select().single(),{data:{user:Q}}=await V.auth.getUser(),{error:se}=await V.from("canteen_orders").insert({student_id:l.id,items:i.map(W=>({item_id:W.id,name:W.name,price:W.price,quantity:W.quantity})),total_amount:E,payment_method:P,transaction_id:L==null?void 0:L.id,served_by:Q==null?void 0:Q.id});if(se){fe.error(e==="en"?"Failed to create order":"  ");return}}else{const{data:{user:R}}=await V.auth.getUser(),{error:B}=await V.from("canteen_orders").insert({student_id:(l==null?void 0:l.id)||null,items:i.map(L=>({item_id:L.id,name:L.name,price:L.price,quantity:L.quantity})),total_amount:E,payment_method:P,served_by:R==null?void 0:R.id});if(B){fe.error(e==="en"?"Failed to create order":"  ");return}}fe.success(e==="en"?"Payment successful!":"  !"),o([]),c(null),w()},O=r.filter(P=>{var E;return P.name.toLowerCase().includes(d.toLowerCase())||((E=P.name_ar)==null?void 0:E.includes(d))}),M=v.reduce((P,E)=>{const U=O.filter(R=>R.category===E.name);return U.length>0&&(P[E.name]={items:U,icon:E.icon,name_ar:E.name_ar}),P},{});return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-primary/5",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:e==="en"?"Canteen System":" "}),s.jsx("p",{className:"text-muted-foreground",children:e==="en"?"Complete point of sale management":"   "})]})}),s.jsx(q,{className:"border-2",children:s.jsx(G,{className:"p-0",children:s.jsxs(gn,{value:t,onValueChange:n,children:[s.jsxs(sn,{className:"w-full grid grid-cols-3 rounded-none border-b h-14",children:[s.jsxs(_e,{value:"pos",className:"gap-2 data-[state=active]:bg-primary/10",children:[s.jsx(j5,{className:"h-4 w-4"}),e==="en"?"Point of Sale":" "]}),s.jsxs(_e,{value:"inventory",className:"gap-2 data-[state=active]:bg-primary/10",children:[s.jsx(Lr,{className:"h-4 w-4"}),e==="en"?"Inventory":""]}),s.jsxs(_e,{value:"reports",className:"gap-2 data-[state=active]:bg-primary/10",children:[s.jsx(bs,{className:"h-4 w-4"}),e==="en"?"Reports":""]})]}),s.jsx(Re,{value:"pos",className:"p-6 mt-0",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs($,{size:"lg",onClick:b,disabled:h,className:"bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70",children:[s.jsx(KS,{className:"mr-2 h-5 w-5"}),h?e==="en"?"Scanning...":" ...":e==="en"?"Scan NFC":" NFC"]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsx(q,{children:s.jsx(G,{className:"pt-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(F,{placeholder:e==="en"?"Search items...":"  ...",value:d,onChange:P=>u(P.target.value),className:"pl-10"})]})})}),s.jsx("div",{className:"space-y-4",children:Object.entries(M).map(([P,E])=>s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"text-lg flex items-center gap-2",children:[s.jsx("span",{children:E.icon}),s.jsx("span",{children:e==="en"?P:E.name_ar||P})]})}),s.jsx(G,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:E.items.map(U=>{var B;const R=((B=l==null?void 0:l.restrictions)==null?void 0:B.allowed_items)&&l.restrictions.allowed_items.length>0&&!l.restrictions.allowed_items.includes(U.id);return s.jsxs($,{onClick:()=>_(U),disabled:R,className:`h-auto flex flex-col items-center p-4 ${R?"opacity-50":""}`,variant:"outline",children:[s.jsx("div",{className:"text-3xl mb-2",children:U.icon||""}),s.jsx("div",{className:"font-semibold text-sm text-center",children:e==="en"?U.name:U.name_ar||U.name}),s.jsxs("div",{className:"text-primary font-bold mt-1",children:[U.price.toFixed(3)," ",e==="en"?"OMR":"."]}),R&&s.jsx(ce,{variant:"destructive",className:"mt-2 text-xs",children:e==="en"?"Restricted":""})]},U.id)})})})]},P))})]}),s.jsxs("div",{className:"space-y-4",children:[l&&s.jsxs(q,{className:"border-primary",children:[s.jsx(te,{children:s.jsx(ne,{className:"text-lg",children:e==="en"?"Student":""})}),s.jsxs(G,{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:e==="en"?`${l.first_name} ${l.last_name}`:`${l.first_name_ar||l.first_name} ${l.last_name_ar||l.last_name}`}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.nfc_id})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:e==="en"?"Balance:":":"}),s.jsxs("span",{className:"font-bold text-primary",children:[l.wallet_balance.toFixed(3)," ",e==="en"?"OMR":"."]})]}),((z=l.restrictions)==null?void 0:z.daily_limit)&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:e==="en"?"Daily Limit:":" :"}),s.jsxs("span",{className:"font-bold",children:[l.restrictions.daily_limit.toFixed(3)," ",e==="en"?"OMR":"."]})]})]})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(xf,{className:"h-5 w-5"}),e==="en"?"Cart":""]}),s.jsx(ce,{children:i.length})]})}),s.jsx(G,{className:"space-y-3",children:i.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:e==="en"?"Cart is empty":" "}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:i.map(P=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:e==="en"?P.name:P.name_ar||P.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[P.price.toFixed(3),"  ",P.quantity]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{size:"sm",variant:"outline",onClick:()=>C(P.id,P.quantity-1),children:"-"}),s.jsx("span",{className:"w-8 text-center font-bold",children:P.quantity}),s.jsx($,{size:"sm",variant:"outline",onClick:()=>C(P.id,P.quantity+1),children:"+"}),s.jsx($,{size:"sm",variant:"ghost",onClick:()=>N(P.id),children:s.jsx(mu,{className:"h-4 w-4"})})]})]},P.id))}),s.jsxs("div",{className:"border-t pt-3 space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[s.jsx("span",{children:e==="en"?"Total:":":"}),s.jsxs("span",{className:"text-primary",children:[k().toFixed(3)," ",e==="en"?"OMR":"."]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs($,{onClick:()=>A("wallet"),disabled:!l,className:"bg-gradient-to-r from-primary to-primary/80",children:[s.jsx(Fr,{className:"mr-2 h-4 w-4"}),e==="en"?"Wallet":""]}),s.jsxs($,{onClick:()=>A("cash"),variant:"outline",children:[s.jsx(mJ,{className:"mr-2 h-4 w-4"}),e==="en"?"Cash":""]})]})]})]})})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center gap-2 text-sm",children:[s.jsx(dr,{className:"h-4 w-4"}),e==="en"?"Recent Orders":" "]})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:p.map(P=>{var E;return s.jsxs("div",{className:"flex items-center justify-between text-xs p-2 bg-muted rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:((E=P.students)==null?void 0:E[e==="en"?"full_name":"full_name_ar"])||"Guest"}),s.jsx("p",{className:"text-muted-foreground",children:new Date(P.created_at).toLocaleTimeString(e==="en"?"en-US":"ar-SA")})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold",children:P.total_amount.toFixed(3)}),s.jsx(ce,{variant:P.payment_method==="wallet"?"default":"secondary",children:P.payment_method})]})]},P.id)})})})]})]})]})]})}),s.jsx(Re,{value:"inventory",className:"p-6 mt-0",children:s.jsx(zC,{})}),s.jsx(Re,{value:"reports",className:"p-6 mt-0",children:s.jsx(Che,{})})]})})})]})})}const kr=m.forwardRef(({className:e,dir:t,style:n,...r},a)=>{const o=document.documentElement.dir==="rtl"&&t!=="ltr"?{textAlign:"right",direction:"ltr",unicodeBidi:"plaintext",...n}:n;return s.jsx("textarea",{className:me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),dir:t,style:o,ref:a,...r})});kr.displayName="Textarea";function Ahe(){const{user:e,profile:t}=ot(),{t:n,language:r}=Te(),[a,i]=m.useState([]),[o,l]=m.useState([]),[c,d]=m.useState(null),[u,h]=m.useState(""),[f,p]=m.useState(""),[g,v]=m.useState(!0),[j,y]=m.useState(!1),[x,w]=m.useState(!1),[b,S]=m.useState(null),[_,N]=m.useState(""),[C,k]=m.useState(""),[A,O]=m.useState([]),[M,z]=m.useState(!1),P=m.useRef(null);m.useEffect(()=>{e&&(E(),B())},[e]),m.useEffect(()=>{c&&(U(c.id),R(c.id))},[c]);const E=async()=>{try{v(!0);const{data:Z,error:J}=await V.from("available_contacts").select("*").order("full_name");if(J)throw J;const{data:X,error:he}=await V.from("direct_messages").select("*").or(`sender_id.eq.${e.id},recipient_id.eq.${e.id}`).order("created_at",{ascending:!1});if(he)throw he;const D=(Z||[]).map(ee=>{const pe=(X==null?void 0:X.filter(ye=>ye.sender_id===ee.id||ye.recipient_id===ee.id))||[],Oe=pe[0],Y=pe.filter(ye=>ye.sender_id===ee.id&&!ye.is_read).length;return{...ee,lastMessage:Oe?{content:Oe.content,created_at:Oe.created_at,is_read:Oe.is_read}:void 0,unreadCount:Y}});D.sort((ee,pe)=>!ee.lastMessage&&!pe.lastMessage?0:ee.lastMessage?pe.lastMessage?new Date(pe.lastMessage.created_at).getTime()-new Date(ee.lastMessage.created_at).getTime():-1:1),i(D)}catch(Z){console.error("Error fetching contacts:",Z),fe.error(r==="en"?"Failed to load contacts":"   ")}finally{v(!1)}},U=async Z=>{try{const{data:J,error:X}=await V.from("direct_messages").select("*").or(`and(sender_id.eq.${e.id},recipient_id.eq.${Z}),and(sender_id.eq.${Z},recipient_id.eq.${e.id})`).order("created_at",{ascending:!0});if(X)throw X;const he=(J||[]).map(pe=>pe.id),{data:D}=await V.from("message_attachments").select("*").in("message_id",he),ee=(J||[]).map(pe=>({...pe,sender:a.find(Oe=>Oe.id===pe.sender_id)||{full_name:"Unknown",role:"unknown"},recipient:a.find(Oe=>Oe.id===pe.recipient_id)||{full_name:"Unknown",role:"unknown"},attachments:(D==null?void 0:D.filter(Oe=>Oe.message_id===pe.id))||[]}));l(ee)}catch(J){console.error("Error fetching messages:",J),fe.error(r==="en"?"Failed to load messages":"  ")}},R=async Z=>{try{await V.from("direct_messages").update({is_read:!0}).eq("sender_id",Z).eq("recipient_id",e.id).eq("is_read",!1)}catch(J){console.error("Error marking messages as read:",J)}},B=()=>{const Z=V.channel("messages-channel").on("postgres_changes",{event:"*",schema:"public",table:"direct_messages",filter:`or(sender_id=eq.${e.id},recipient_id=eq.${e.id})`},()=>{E(),c&&U(c.id)}).subscribe();return()=>{V.removeChannel(Z)}},L=async()=>{if(!(!u.trim()&&A.length===0||!c)){y(!0),z(A.length>0);try{const{data:Z,error:J}=await V.from("direct_messages").insert({sender_id:e.id,recipient_id:c.id,content:u.trim()||(A.length>0?" Files attached":"")}).select().single();if(J)throw J;if(A.length>0)for(const X of A){const he=X.name.split(".").pop(),D=`${e.id}/${Date.now()}_${Math.random().toString(36).substring(7)}.${he}`,{error:ee}=await V.storage.from("message-attachments").upload(D,X);if(ee)throw ee;const{data:{publicUrl:pe}}=V.storage.from("message-attachments").getPublicUrl(D),{error:Oe}=await V.from("message_attachments").insert({message_id:Z.id,file_name:X.name,file_url:pe,file_type:X.type,file_size:X.size});if(Oe)throw Oe}h(""),O([]),fe.success(r==="en"?"Message sent":"  "),U(c.id)}catch(Z){console.error("Error sending message:",Z),fe.error(r==="en"?"Failed to send message":"  ")}finally{y(!1),z(!1)}}},Q=Z=>{const J=Array.from(Z.target.files||[]),X=10*1024*1024,he=J.filter(D=>D.size>X?(fe.error(r==="en"?`${D.name} is too large. Maximum size is 10MB.`:`${D.name}   .   10 .`),!1):!0);O(D=>[...D,...he].slice(0,5))},se=Z=>Z.startsWith("image/")?s.jsx(Bm,{className:"h-4 w-4"}):s.jsx(Vt,{className:"h-4 w-4"}),W=async()=>{if(!(!_.trim()||!b)){y(!0);try{const{error:Z}=await V.from("direct_messages").insert({sender_id:e.id,recipient_id:b.id,subject:C.trim()||null,content:_.trim()});if(Z)throw Z;N(""),k(""),w(!1),d(b),fe.success(r==="en"?"Message sent":"  ")}catch(Z){console.error("Error sending message:",Z),fe.error(r==="en"?"Failed to send message":"  ")}finally{y(!1)}}},ie=Z=>{switch(Z){case"admin":return s.jsx(ta,{className:"h-4 w-4"});case"teacher":return s.jsx(jt,{className:"h-4 w-4"});case"student":return s.jsx(Sr,{className:"h-4 w-4"});case"parent":return s.jsx(as,{className:"h-4 w-4"});case"driver":return s.jsx(Fm,{className:"h-4 w-4"});case"finance":return s.jsx($r,{className:"h-4 w-4"});default:return s.jsx(as,{className:"h-4 w-4"})}},ue=Z=>{switch(Z){case"admin":return"bg-red-100 text-red-800";case"teacher":return"bg-blue-100 text-blue-800";case"student":return"bg-purple-100 text-purple-800";case"parent":return"bg-green-100 text-green-800";case"driver":return"bg-orange-100 text-orange-800";case"finance":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},oe=Z=>{const J=new Date(Z),he=new Date().getTime()-J.getTime(),D=Math.floor(he/(1e3*60*60*24));return D===0?J.toLocaleTimeString(r==="en"?"en-US":"ar-SA",{hour:"2-digit",minute:"2-digit"}):D===1?r==="en"?"Yesterday":"":D<7?r==="en"?`${D} days ago`:` ${D} `:J.toLocaleDateString(r==="en"?"en-US":"ar-SA")},I=a.filter(Z=>Z.full_name.toLowerCase().includes(f.toLowerCase())||Z.email.toLowerCase().includes(f.toLowerCase())||Z.role.toLowerCase().includes(f.toLowerCase())).reduce((Z,J)=>(Z[J.role]||(Z[J.role]=[]),Z[J.role].push(J),Z),{});return g?s.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-10rem)]",children:s.jsx(el,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs("div",{className:"h-[calc(100vh-10rem)]",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 md:mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl md:text-3xl font-bold tracking-tight",children:n("dashboard.messages")}),s.jsx("p",{className:"text-xs md:text-base text-muted-foreground",children:r==="en"?"Communicate with school community":"   "})]}),s.jsxs($,{onClick:()=>w(!0),className:"gap-1 md:gap-2 text-xs md:text-sm",children:[s.jsx(Ki,{className:"h-3 w-3 md:h-4 md:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:r==="en"?"New Message":" "}),s.jsx("span",{className:"sm:hidden",children:"New"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-3 md:gap-4 h-[calc(100%-5rem)]",children:[s.jsxs(q,{className:"lg:col-span-4 h-full overflow-hidden",children:[s.jsx(te,{className:"pb-3 p-3 md:p-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-3 w-3 md:h-4 md:w-4"}),s.jsx(F,{placeholder:r==="en"?"Search contacts...":"   ...",value:f,onChange:Z=>p(Z.target.value),className:"pl-8 md:pl-10 h-8 md:h-10 text-xs md:text-sm"})]})}),s.jsx(G,{className:"p-0",children:s.jsx(Gn,{className:"h-[calc(100vh-18rem)] lg:h-[calc(100vh-20rem)]",children:s.jsx("div",{className:"p-2",children:Object.entries(I).map(([Z,J])=>s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 text-xs font-medium text-muted-foreground",children:[ie(Z),s.jsxs("span",{children:[Z.charAt(0).toUpperCase()+Z.slice(1),"s"]}),s.jsx(ce,{variant:"secondary",className:"ml-auto text-[10px]",children:J.length})]}),s.jsx("div",{className:"space-y-1",children:J.map(X=>s.jsxs("div",{className:`flex items-center gap-2 md:gap-3 p-2 md:p-3 rounded-lg cursor-pointer transition-colors ${(c==null?void 0:c.id)===X.id?"bg-muted":"hover:bg-muted/50"}`,onClick:()=>d(X),children:[s.jsx(fn,{className:"h-8 w-8 md:h-10 md:w-10",children:s.jsx(mn,{className:ue(X.role),children:X.full_name.charAt(0)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-medium text-xs md:text-sm truncate",children:r==="en"?X.full_name:X.full_name_ar||X.full_name}),X.lastMessage&&s.jsx("span",{className:"text-[10px] md:text-xs text-muted-foreground",children:oe(X.lastMessage.created_at)})]}),X.student_class&&s.jsxs("p",{className:"text-[10px] md:text-xs text-muted-foreground",children:["Class: ",X.student_class]}),X.lastMessage&&s.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground truncate",children:X.lastMessage.content})]}),X.unreadCount>0&&s.jsx(ce,{className:"bg-primary text-white rounded-full px-1.5 py-0 text-[10px] md:text-xs",children:X.unreadCount})]},X.id))})]},Z))})})})]}),s.jsx(q,{className:"lg:col-span-8 h-full flex flex-col overflow-hidden",children:c?s.jsxs(s.Fragment,{children:[s.jsx(te,{className:"border-b p-3 md:p-6",children:s.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[s.jsx(fn,{className:"h-8 w-8 md:h-10 md:w-10",children:s.jsx(mn,{className:ue(c.role),children:c.full_name.charAt(0)})}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-sm md:text-lg",children:r==="en"?c.full_name:c.full_name_ar||c.full_name}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ce,{variant:"secondary",className:"text-[10px] md:text-xs",children:c.role}),c.student_class&&s.jsxs("span",{className:"text-[10px] md:text-xs text-muted-foreground",children:["Class ",c.student_class]})]})]})]})}),s.jsxs(G,{className:"flex-1 p-0 overflow-hidden",children:[s.jsx(Gn,{className:"h-[calc(100%-8rem)] p-3 md:p-4",children:s.jsx("div",{className:"space-y-3 md:space-y-4",children:o.map(Z=>{const J=Z.sender_id===e.id;return s.jsxs("div",{className:`flex gap-2 md:gap-3 ${J?"flex-row-reverse":""}`,children:[!J&&s.jsx(fn,{className:"h-6 w-6 md:h-8 md:w-8",children:s.jsx(mn,{className:ue(c.role),children:c.full_name.charAt(0)})}),s.jsxs("div",{className:`max-w-[70%] ${J?"text-right":""}`,children:[s.jsxs("div",{className:`p-2 md:p-3 rounded-lg text-xs md:text-sm ${J?"bg-primary text-primary-foreground":"bg-muted"}`,children:[Z.subject&&s.jsx("p",{className:"font-medium mb-1",children:Z.subject}),s.jsx("p",{className:"whitespace-pre-wrap",children:Z.content}),Z.attachments&&Z.attachments.length>0&&s.jsx("div",{className:"mt-2 space-y-1",children:Z.attachments.map(X=>s.jsxs("div",{className:`flex items-center gap-2 p-1.5 rounded ${J?"bg-primary-foreground/10":"bg-background/50"}`,children:[se(X.file_type),s.jsx("span",{className:"text-xs truncate flex-1",children:X.file_name}),s.jsx($,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>window.open(X.file_url,"_blank"),children:s.jsx(br,{className:"h-3 w-3"})})]},X.id))})]}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground",children:oe(Z.created_at)}),J&&s.jsx("span",{className:"text-muted-foreground",children:Z.is_read?s.jsx(h5,{className:"h-3 w-3"}):s.jsx(Hi,{className:"h-3 w-3"})})]})]})]},Z.id)})})}),s.jsxs("div",{className:"p-3 md:p-4 border-t space-y-2",children:[A.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 p-2 bg-muted rounded-lg",children:A.map((Z,J)=>s.jsxs("div",{className:"flex items-center gap-1 bg-background p-1 rounded text-xs",children:[se(Z.type),s.jsx("span",{className:"max-w-[100px] truncate",children:Z.name}),s.jsx($,{size:"sm",variant:"ghost",className:"h-4 w-4 p-0",onClick:()=>O(X=>X.filter((he,D)=>D!==J)),children:s.jsx(Xn,{className:"h-3 w-3"})})]},J))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1 flex gap-2",children:s.jsx(kr,{placeholder:r==="en"?"Type your message...":" ...",value:u,onChange:Z=>h(Z.target.value),className:"min-h-[50px] md:min-h-[60px] max-h-[100px] md:max-h-[120px] text-xs md:text-sm",onKeyDown:Z=>{Z.key==="Enter"&&!Z.shiftKey&&(Z.preventDefault(),L())},disabled:j||M})}),s.jsx("input",{ref:P,type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt",onChange:Q,className:"hidden"}),s.jsx($,{type:"button",variant:"ghost",size:"icon",onClick:()=>{var Z;return(Z=P.current)==null?void 0:Z.click()},disabled:j||M,className:"h-8 w-8 md:h-10 md:w-10",children:s.jsx(b5,{className:"h-3 w-3 md:h-4 md:w-4"})}),s.jsx($,{onClick:L,disabled:j||M||!u.trim()&&A.length===0,size:"icon",className:"h-8 w-8 md:h-10 md:w-10",children:j||M?s.jsx(el,{className:"h-3 w-3 md:h-4 md:w-4 animate-spin"}):s.jsx(Gi,{className:"h-3 w-3 md:h-4 md:w-4"})})]})]})]})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground p-4",children:[s.jsx(Ki,{className:"h-12 w-12 md:h-16 md:w-16 mb-4 opacity-50"}),s.jsx("p",{className:"text-sm md:text-base text-center",children:r==="en"?"Select a contact to start messaging":"     "})]})})]}),s.jsx(qe,{open:x,onOpenChange:w,children:s.jsxs(Ve,{className:"max-w-2xl",children:[s.jsxs(Ke,{children:[s.jsx(Ge,{children:r==="en"?"New Message":" "}),s.jsx(es,{children:r==="en"?"Send a message to an available contact":"     "})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:r==="en"?"Recipient":""}),s.jsxs(gn,{defaultValue:Object.keys(I)[0],className:"mt-2",children:[s.jsx(sn,{className:"grid grid-cols-3 lg:grid-cols-6",children:Object.keys(I).map(Z=>s.jsx(_e,{value:Z,className:"text-xs",children:Z},Z))}),Object.entries(I).map(([Z,J])=>s.jsx(Re,{value:Z,children:s.jsx(Gn,{className:"h-48",children:s.jsx("div",{className:"space-y-2",children:J.map(X=>s.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-colors ${(b==null?void 0:b.id)===X.id?"bg-muted":"hover:bg-muted/50"}`,onClick:()=>S(X),children:[s.jsx(fn,{className:"h-8 w-8",children:s.jsx(mn,{className:ue(X.role),children:X.full_name.charAt(0)})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:r==="en"?X.full_name:X.full_name_ar||X.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:X.email})]}),(b==null?void 0:b.id)===X.id&&s.jsx(Hi,{className:"h-4 w-4 text-primary"})]},X.id))})})},Z))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:r==="en"?"Subject (Optional)":" ()"}),s.jsx(F,{placeholder:r==="en"?"Enter subject...":" ...",value:C,onChange:Z=>k(Z.target.value),className:"mt-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:r==="en"?"Message":""}),s.jsx(kr,{placeholder:r==="en"?"Type your message...":" ...",value:_,onChange:Z=>N(Z.target.value),className:"mt-2 min-h-[100px]"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>w(!1),children:r==="en"?"Cancel":""}),s.jsxs($,{onClick:W,disabled:j||!b||!_.trim(),children:[j?s.jsx(el,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(Gi,{className:"h-4 w-4 mr-2"}),r==="en"?"Send":""]})]})]})]})})]})}function Phe({studentId:e,onClose:t}){const{language:n}=Te(),[r,a]=m.useState("grades"),i={id:e,name:"Ahmed Ali",nameAr:" ",class:"10",section:"A",rollNumber:"101",email:"ahmed.ali@school.edu",phone:"+966 50 123 4567",address:"Riyadh, Saudi Arabia",parentName:"Ali Mohammed",parentPhone:"+966 50 987 6543",walletBalance:250,attendance:92},o=[{id:"1",subject:n==="en"?"Mathematics":"",grade:"A",score:95,examType:n==="en"?"Midterm":"  ",date:"2024-03-01",term:n==="en"?"First Term":" ",teacher:"Mr. Hassan",notes:"Excellent performance"},{id:"2",subject:n==="en"?"Physics":"",grade:"B+",score:88,examType:n==="en"?"Quiz":" ",date:"2024-03-05",term:n==="en"?"First Term":" ",teacher:"Dr. Sarah"},{id:"3",subject:n==="en"?"English":" ",grade:"A-",score:92,examType:n==="en"?"Assignment":"",date:"2024-03-07",term:n==="en"?"First Term":" ",teacher:"Ms. Emily"}],l=3.75,c=24,d=5,u=150,h=[{id:"grades",label:n==="en"?"Grades":"",icon:Sr},{id:"wallet",label:n==="en"?"Wallet":"",icon:Cr},{id:"homework",label:n==="en"?"Homework":"",icon:ii},{id:"schedule",label:n==="en"?"Schedule":"",icon:ZE},{id:"notes",label:n==="en"?"Notes":"",icon:MJ}],f=p=>p.startsWith("A")?"text-success":p.startsWith("B")?"text-warning":p.startsWith("C")?"text-info":"text-destructive";return s.jsxs("div",{className:"space-y-6",children:[s.jsx(q,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(as,{className:"h-12 w-12 text-primary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold",children:n==="en"?i.name:i.nameAr}),s.jsxs("p",{className:"text-muted-foreground",children:[n==="en"?"Class":""," ",i.class,"-",i.section," |",n==="en"?" Roll":" "," #",i.rollNumber]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Sc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:i.email})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ku,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"number-display",children:i.phone})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(as,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:[n==="en"?"Parent:":" :"," ",i.parentName]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ka,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:i.address})]})]})]})]})})}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:h.map(p=>s.jsxs($,{variant:r===p.id?"default":"outline",onClick:()=>a(p.id),className:"flex items-center gap-2 whitespace-nowrap",children:[s.jsx(p.icon,{className:"h-4 w-4"}),p.label]},p.id))}),r==="grades"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:n==="en"?"Overall GPA":" "})}),s.jsxs(G,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(P5,{className:"h-5 w-5 text-warning"}),s.jsx("span",{className:"text-2xl font-bold",children:l}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/ 4.0"})]}),s.jsx(Ri,{value:l/4*100,className:"mt-2"})]})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:n==="en"?"Total Credits":" "})}),s.jsx(G,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hu,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"text-2xl font-bold",children:c})]})})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:n==="en"?"Class Rank":"  "})}),s.jsx(G,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"h-5 w-5 text-success"}),s.jsx("span",{className:"text-2xl font-bold",children:d}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["/ ",u]})]})})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:n==="en"?"Attendance":""})}),s.jsx(G,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"h-5 w-5 text-info"}),s.jsxs("span",{className:"text-2xl font-bold",children:[i.attendance,"%"]})]})})]})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:n==="en"?"Academic Grades":" "})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:o.map(p=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:`font-bold text-lg ${f(p.grade)}`,children:p.grade})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-lg",children:p.subject}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.examType,"  ",p.term]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[n==="en"?"Teacher:":":"," ",p.teacher]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-2xl font-bold",children:[p.score,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:p.date}),p.notes&&s.jsx(ce,{variant:"secondary",className:"mt-2",children:p.notes})]})]}),s.jsx(Ri,{value:p.score,className:"mt-3"})]},p.id))})})]})]}),r==="wallet"&&s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:n==="en"?"Student Wallet":" "})}),s.jsx(G,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Cr,{className:"h-16 w-16 text-primary mx-auto mb-4"}),s.jsxs("p",{className:"text-3xl font-bold",children:[i.walletBalance," SAR"]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:n==="en"?"Current Balance":" "}),s.jsxs("div",{className:"flex gap-4 justify-center mt-6",children:[s.jsx($,{children:n==="en"?"Add Funds":" "}),s.jsx($,{variant:"outline",children:n==="en"?"Transaction History":" "})]})]})})]}),r==="homework"&&s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:n==="en"?"Homework":""})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:[1,2,3].map(p=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:n==="en"?`Assignment ${p}`:` ${p}`}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n==="en"?"Mathematics":""})]}),s.jsx(ce,{variant:p===1?"default":"secondary",children:p===1?n==="en"?"Pending":" ":n==="en"?"Completed":""})]},p))})})]}),r==="schedule"&&s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:n==="en"?"Class Schedule":" "})}),s.jsx(G,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ZE,{className:"h-16 w-16 text-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:n==="en"?"Schedule details will appear here":"   "})]})})]}),r==="notes"&&s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:n==="en"?"Teacher Notes":" "})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("p",{className:"font-medium mb-2",children:n==="en"?"Behavioral Note":" "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n==="en"?"Student shows excellent participation in class activities.":"      ."}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Mr. Hassan - 2024-03-15"})]})})})]})]})}function Ehe(){const{user:e,profile:t}=ot(),{language:n}=Te(),{toast:r}=ro(),[a,i]=m.useState(""),[o,l]=m.useState("all"),[c,d]=m.useState("all"),[u,h]=m.useState(null),[f,p]=m.useState(!1),[g,v]=m.useState(!1),[j,y]=m.useState(null),[x,w]=m.useState([]),[b,S]=m.useState([]),[_,N]=m.useState({subject:"",score:0,examType:"",term:"",date:new Date().toISOString().split("T")[0],notes:"",status:"draft"});m.useEffect(()=>{(async()=>{if(!e||(t==null?void 0:t.role)!=="teacher")return;const{data:B}=await V.from("teachers").select("id").eq("profile_id",e.id).single();if(!B)return;const{data:L}=await V.from("teacher_classes").select(`
          class_id,
          classes (
            id,
            name,
            grade,
            section
          )
        `).eq("teacher_id",B.id);if(L){S(L.map(W=>W.classes));const Q=L.map(W=>{var ie;return(ie=W.classes)==null?void 0:ie.name}).filter(Boolean),{data:se}=await V.from("students").select(`
            *,
            profiles!students_profile_id_fkey (
              full_name,
              full_name_ar,
              email
            )
          `).in("class",Q);if(se){const W=se.map(ie=>{var ue,oe;return{id:ie.id,name:((ue=ie.profiles)==null?void 0:ue.full_name)||"Unknown",nameAr:(oe=ie.profiles)==null?void 0:oe.full_name_ar,class:ie.class||"",section:"",rollNumber:ie.nfc_id||"",nfcId:ie.nfc_id}});w(W)}}})()},[e,t]);const C=[{value:"math",label:n==="en"?"Mathematics":""},{value:"physics",label:n==="en"?"Physics":""},{value:"chemistry",label:n==="en"?"Chemistry":""},{value:"english",label:n==="en"?"English":" "},{value:"arabic",label:n==="en"?"Arabic":" "},{value:"history",label:n==="en"?"History":""},{value:"biology",label:n==="en"?"Biology":""}],k=[{value:"midterm",label:n==="en"?"Midterm Exam":"  "},{value:"final",label:n==="en"?"Final Exam":" "},{value:"quiz",label:n==="en"?"Quiz":" "},{value:"assignment",label:n==="en"?"Assignment":""},{value:"project",label:n==="en"?"Project":""},{value:"lab",label:n==="en"?"Lab Report":" "},{value:"presentation",label:n==="en"?"Presentation":" "}],A=[{value:"first",label:n==="en"?"First Term":" "},{value:"second",label:n==="en"?"Second Term":" "},{value:"third",label:n==="en"?"Third Term":" "}],O=["10","11","12"],M=R=>R>=95?"A+":R>=90?"A":R>=85?"A-":R>=80?"B+":R>=75?"B":R>=70?"B-":R>=65?"C+":R>=60?"C":R>=55?"C-":R>=50?"D":"F",z=x.filter(R=>{var Q,se;const B=R.name.toLowerCase().includes(a.toLowerCase())||((Q=R.nameAr)==null?void 0:Q.includes(a))||R.rollNumber.includes(a)||((se=R.nfcId)==null?void 0:se.toLowerCase().includes(a.toLowerCase())),L=o==="all"||R.class===o;return B&&L}),P=R=>{h(R),N({subject:"",score:0,examType:"",term:"",date:new Date().toISOString().split("T")[0],notes:"",status:"draft"}),y(null),p(!0)},E=(R=!1)=>{if(!u||!_.subject||!_.examType||!_.term){r({title:n==="en"?"Error":"",description:n==="en"?"Please fill all required fields":"    ",variant:"destructive"});return}({..._,studentId:u.id,grade:M(_.score||0),teacherId:e!=null&&e.id,teacherName:t!=null&&t.full_name},r({title:R?n==="en"?"Grade Approved":"  ":n==="en"?"Grade Saved as Draft":"   ",description:n==="en"?`Grade for ${u.name} has been ${R?"approved":"saved"}`:` ${R?"":""}  ${u.nameAr||u.name}`})),p(!1),h(null),N({})},U=R=>{h(R),v(!0)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:n==="en"?"Grade Management":" "}),s.jsx("p",{className:"text-muted-foreground",children:n==="en"?"Add, edit and approve student grades":"    "})]}),s.jsx(q,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:n==="en"?"Search by name, roll number or NFC...":"     NFC...",value:a,onChange:R=>i(R.target.value),className:"pl-10"})]})}),s.jsxs(Pe,{value:o,onValueChange:l,children:[s.jsx(ke,{className:"w-[180px]",children:s.jsx(Ee,{placeholder:n==="en"?"Select Class":" "})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"all",children:n==="en"?"All Classes":" "}),O.map(R=>s.jsx(K,{value:R,children:n==="en"?`Class ${R}`:` ${R}`},R))]})]}),s.jsxs(Pe,{value:c,onValueChange:d,children:[s.jsx(ke,{className:"w-[180px]",children:s.jsx(Ee,{placeholder:n==="en"?"Select Subject":" "})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"all",children:n==="en"?"All Subjects":" "}),C.map(R=>s.jsx(K,{value:R.value,children:R.label},R.value))]})]})]})})}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:z.map(R=>s.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(te,{className:"pb-4",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Sr,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-lg",children:n==="en"?R.name:R.nameAr}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n==="en"?"Class":""," ",R.class,"-",R.section," |",n==="en"?" Roll":" "," #",R.rollNumber]})]})]})})}),s.jsxs(G,{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:n==="en"?"Mathematics":""}),s.jsx(ce,{variant:"secondary",children:"A+"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:n==="en"?"Physics":""}),s.jsx(ce,{variant:"secondary",children:"B+"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs($,{size:"sm",className:"flex-1",onClick:()=>P(R),children:[s.jsx(pn,{className:"h-4 w-4 mr-1"}),n==="en"?"Add Grade":" "]}),s.jsx($,{size:"sm",variant:"outline",onClick:()=>U(R),children:n==="en"?"View Profile":" "})]})]})]},R.id))}),s.jsx(qe,{open:f,onOpenChange:p,children:s.jsxs(Ve,{className:"max-w-2xl",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:j?n==="en"?"Edit Grade":" ":n==="en"?"Add New Grade":"  "})}),u&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Sr,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:n==="en"?u.name:u.nameAr}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n==="en"?"Class":""," ",u.class,"-",u.section]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{children:[n==="en"?"Subject":""," *"]}),s.jsxs(Pe,{value:_.subject,onValueChange:R=>N({..._,subject:R}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:n==="en"?"Select subject":" "})}),s.jsx(Ae,{children:C.map(R=>s.jsx(K,{value:R.value,children:R.label},R.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{children:[n==="en"?"Exam Type":" "," *"]}),s.jsxs(Pe,{value:_.examType,onValueChange:R=>N({..._,examType:R}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:n==="en"?"Select type":" "})}),s.jsx(Ae,{children:k.map(R=>s.jsx(K,{value:R.value,children:R.label},R.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{children:[n==="en"?"Term":" "," *"]}),s.jsxs(Pe,{value:_.term,onValueChange:R=>N({..._,term:R}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:n==="en"?"Select term":" "})}),s.jsx(Ae,{children:A.map(R=>s.jsx(K,{value:R.value,children:R.label},R.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{children:[n==="en"?"Date":""," *"]}),s.jsx(F,{type:"date",value:_.date,onChange:R=>N({..._,date:R.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{children:[n==="en"?"Score (%)":" (%)"," *"]}),s.jsx(F,{type:"number",min:"0",max:"100",value:_.score,onChange:R=>N({..._,score:Number(R.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:n==="en"?"Letter Grade":""}),s.jsx("div",{className:"h-10 px-3 py-2 border rounded-md bg-muted flex items-center",children:s.jsx("span",{className:"font-medium",children:M(_.score||0)})})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(T,{children:n==="en"?"Notes (Optional)":" ()"}),s.jsx(kr,{rows:3,placeholder:n==="en"?"Add any additional notes or comments...":"     ...",value:_.notes,onChange:R=>N({..._,notes:R.target.value})})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs($,{variant:"outline",onClick:()=>p(!1),children:[s.jsx(Xn,{className:"h-4 w-4 mr-1"}),n==="en"?"Cancel":""]}),s.jsxs($,{variant:"secondary",onClick:()=>E(!1),children:[s.jsx(Wc,{className:"h-4 w-4 mr-1"}),n==="en"?"Save as Draft":" "]}),s.jsxs($,{onClick:()=>E(!0),children:[s.jsx(Cs,{className:"h-4 w-4 mr-1"}),n==="en"?"Approve & Submit":" "]})]})]})]})}),s.jsx(qe,{open:g,onOpenChange:v,children:s.jsx(Ve,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:u&&s.jsx(Phe,{studentId:u.id,onClose:()=>v(!1)})})})]})}function The(){const{user:e}=ot(),{t,language:n}=Te(),r=[{subject:n==="en"?"Mathematics":"",grade:"A",score:95,examType:n==="en"?"Midterm":"  ",date:"2024-03-01"},{subject:n==="en"?"Physics":"",grade:"B+",score:88,examType:n==="en"?"Quiz":" ",date:"2024-03-05"},{subject:n==="en"?"English":" ",grade:"A-",score:92,examType:n==="en"?"Assignment":"",date:"2024-03-07"},{subject:n==="en"?"Arabic":" ",grade:"A",score:94,examType:n==="en"?"Midterm":"  ",date:"2024-03-01"},{subject:n==="en"?"Chemistry":"",grade:"B",score:85,examType:n==="en"?"Lab Report":" ",date:"2024-03-08"},{subject:n==="en"?"History":"",grade:"A",score:96,examType:n==="en"?"Essay":"",date:"2024-03-06"}],a=3.75,i=24,o=5,l=150,c=d=>d.startsWith("A")?"text-success":d.startsWith("B")?"text-warning":d.startsWith("C")?"text-info":"text-destructive";return(e==null?void 0:e.role)==="teacher"||(e==null?void 0:e.role)==="admin"?s.jsx(Ehe,{}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:t("dashboard.grades")}),s.jsx("p",{className:"text-muted-foreground",children:n==="en"?"View student grades":"  "})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:n==="en"?"Overall GPA":" "})}),s.jsxs(G,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(P5,{className:"h-5 w-5 text-warning"}),s.jsx("span",{className:"text-2xl font-bold",children:a}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/ 4.0"})]}),s.jsx(Ri,{value:a/4*100,className:"mt-2"})]})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:n==="en"?"Total Credits":" "})}),s.jsx(G,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hu,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"text-2xl font-bold",children:i})]})})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:n==="en"?"Class Rank":"  "})}),s.jsx(G,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"h-5 w-5 text-success"}),s.jsx("span",{className:"text-2xl font-bold",children:o}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["/ ",l]})]})})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:n==="en"?"Average Score":" "})}),s.jsx(G,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"h-5 w-5 text-info"}),s.jsx("span",{className:"text-2xl font-bold",children:"91.5%"})]})})]})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:n==="en"?"Recent Grades":" "})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:r.map((d,u)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:`font-bold ${c(d.grade)}`,children:d.grade})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:d.subject}),s.jsx("p",{className:"text-sm text-muted-foreground",children:d.examType})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:[d.score,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:d.date})]}),s.jsx(Ri,{value:d.score,className:"w-20"})]})]},u))})})]})]})}function Ohe(){const{user:e}=ot(),{t,language:n}=Te(),[r,a]=m.useState([{id:"1",subject:"Mathematics",examType:"Midterm",classId:"class-1",className:"Grade 10A",date:"2024-03-15",time:"09:00 AM",duration:"2 hours",room:"Hall A",syllabus:"Chapters 1-5",status:"approved",createdBy:"teacher-1"}]),[i,o]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState(null),[h,f]=m.useState({status:"draft",createdBy:e==null?void 0:e.id}),p=[{id:"class-1",name:n==="en"?"Grade 10A":"  "},{id:"class-2",name:n==="en"?"Grade 10B":"  "},{id:"class-3",name:n==="en"?"Grade 11A":"   "}],g=()=>{const b={...h,id:Date.now().toString(),createdBy:(e==null?void 0:e.id)||""};a([...r,b]),o(!1),f({status:"draft",createdBy:e==null?void 0:e.id}),fe.success(n==="en"?"Exam saved as draft":"   ")},v=b=>{a(r.map(S=>S.id===b?{...S,status:"pending_approval"}:S)),fe.info(n==="en"?"Exam submitted for approval":"   ")},j=b=>{a(r.map(S=>S.id===b?{...S,status:"approved",approvedBy:e==null?void 0:e.id,approvalDate:new Date().toISOString()}:S)),fe.success(n==="en"?"Exam approved and notifications sent":"     "),c(!1)},y=b=>{switch(b){case"draft":return s.jsx(ce,{variant:"secondary",children:n==="en"?"Draft":""});case"pending_approval":return s.jsx(ce,{className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",children:n==="en"?"Pending Approval":"  "});case"approved":return s.jsx(ce,{className:"bg-green-500/10 text-green-600 border-green-500/20",children:n==="en"?"Approved":""});default:return null}},x=(e==null?void 0:e.role)==="teacher",w=(e==null?void 0:e.role)==="admin";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:n==="en"?"Exam Management":" "}),s.jsx("p",{className:"text-muted-foreground",children:n==="en"?"Create and manage exam schedules":"   "})]}),x&&s.jsxs(qe,{open:i,onOpenChange:o,children:[s.jsx(um,{asChild:!0,children:s.jsxs($,{children:[s.jsx(pn,{className:"h-4 w-4 mr-2"}),n==="en"?"Add Exam":" "]})}),s.jsxs(Ve,{className:"max-w-2xl",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:n==="en"?"Add New Exam":"  "})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Subject":""}),s.jsx(F,{value:h.subject||"",onChange:b=>f({...h,subject:b.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Exam Type":" "}),s.jsxs(Pe,{value:h.examType,onValueChange:b=>f({...h,examType:b}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:n==="en"?"Select type":" "})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"midterm",children:n==="en"?"Midterm":" "}),s.jsx(K,{value:"final",children:n==="en"?"Final":""}),s.jsx(K,{value:"quiz",children:n==="en"?"Quiz":" "}),s.jsx(K,{value:"lab",children:n==="en"?"Lab Exam":" "})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Class":""}),s.jsxs(Pe,{value:h.classId,onValueChange:b=>{const S=p.find(_=>_.id===b);f({...h,classId:b,className:S==null?void 0:S.name})},children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:n==="en"?"Select class":" "})}),s.jsx(Ae,{children:p.map(b=>s.jsx(K,{value:b.id,children:b.name},b.id))})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Date":""}),s.jsx(F,{type:"date",value:h.date||"",onChange:b=>f({...h,date:b.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Time":""}),s.jsx(F,{type:"time",value:h.time||"",onChange:b=>f({...h,time:b.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Duration":""}),s.jsx(F,{value:h.duration||"",onChange:b=>f({...h,duration:b.target.value}),placeholder:n==="en"?"2 hours":""})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Room":""}),s.jsx(F,{value:h.room||"",onChange:b=>f({...h,room:b.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Syllabus":""}),s.jsx(kr,{value:h.syllabus||"",onChange:b=>f({...h,syllabus:b.target.value}),placeholder:n==="en"?"Enter syllabus details...":"  ..."})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>o(!1),children:n==="en"?"Cancel":""}),s.jsx($,{onClick:g,children:n==="en"?"Save as Draft":" "})]})]})]})]}),s.jsx("div",{className:"grid gap-4",children:r.map(b=>s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ne,{className:"text-lg flex items-center gap-2",children:[b.subject,y(b.status)]}),s.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[s.jsx(ce,{variant:"outline",children:b.examType}),s.jsx("span",{className:"text-sm text-muted-foreground",children:b.className})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium",children:b.date}),s.jsx("p",{className:"text-xs text-muted-foreground",children:b.time})]})]})}),s.jsxs(G,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dr,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:n==="en"?"Duration":""}),s.jsx("p",{className:"text-sm font-medium",children:b.duration})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ka,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:n==="en"?"Location":""}),s.jsx("p",{className:"text-sm font-medium",children:b.room})]})]}),s.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[s.jsx(Vt,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:n==="en"?"Syllabus":""}),s.jsx("p",{className:"text-sm font-medium",children:b.syllabus})]})]})]}),x&&b.status==="draft"&&b.createdBy===(e==null?void 0:e.id)&&s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsxs($,{size:"sm",variant:"outline",children:[s.jsx(Yn,{className:"h-4 w-4 mr-2"}),n==="en"?"Edit":""]}),s.jsxs($,{size:"sm",onClick:()=>v(b.id),children:[s.jsx(Gi,{className:"h-4 w-4 mr-2"}),n==="en"?"Submit for Approval":" "]})]}),w&&b.status==="pending_approval"&&s.jsx("div",{className:"mt-4 flex gap-2",children:s.jsxs(qe,{open:l,onOpenChange:c,children:[s.jsx(um,{asChild:!0,children:s.jsxs($,{size:"sm",onClick:()=>u(b),children:[s.jsx(Cs,{className:"h-4 w-4 mr-2"}),n==="en"?"Approve":""]})}),s.jsxs(Ve,{children:[s.jsx(Ke,{children:s.jsx(Ge,{children:n==="en"?"Approve Exam":"  "})}),s.jsx("div",{className:"py-4",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:n==="en"?"Approving this exam will send notifications to all students and parents in the selected class.":"              ."})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>c(!1),children:n==="en"?"Cancel":""}),s.jsx($,{onClick:()=>d&&j(d.id),children:n==="en"?"Approve & Notify":" "})]})]})]})})]})]},b.id))})]})}function Mhe(){const{user:e}=ot(),{t,language:n}=Te();if((e==null?void 0:e.role)==="teacher"||(e==null?void 0:e.role)==="admin")return s.jsx(Ohe,{});const r=[{id:"1",subject:n==="en"?"Mathematics":"",examType:n==="en"?"Midterm":"  ",date:"2024-03-15",time:n==="en"?"09:00 AM":"09:00 ",duration:n==="en"?"2 hours":"",room:n==="en"?"Hall A":" ",syllabus:n==="en"?"Chapters 1-5":" 1-5"},{id:"2",subject:n==="en"?"Physics":"",examType:n==="en"?"Midterm":"  ",date:"2024-03-17",time:n==="en"?"09:00 AM":"09:00 ",duration:n==="en"?"2 hours":"",room:n==="en"?"Hall B":" ",syllabus:n==="en"?"Units 1-4":" 1-4"},{id:"3",subject:n==="en"?"English":" ",examType:n==="en"?"Midterm":"  ",date:"2024-03-19",time:n==="en"?"10:00 AM":"10:00 ",duration:n==="en"?"1.5 hours":" ",room:n==="en"?"Hall A":" ",syllabus:n==="en"?"Literature & Grammar":" "},{id:"4",subject:n==="en"?"Chemistry":"",examType:n==="en"?"Lab Exam":" ",date:"2024-03-20",time:n==="en"?"02:00 PM":"02:00 ",duration:n==="en"?"3 hours":"3 ",room:n==="en"?"Lab 2":" 2",syllabus:n==="en"?"Practical Experiments":" "}],a=()=>{const o=[(n==="en"?["Subject","Exam Type","Date","Time","Duration","Room","Syllabus"]:[""," ","","","","",""]).join(","),...r.map(d=>[d.subject,d.examType,d.date,d.time,d.duration,d.room,d.syllabus].join(","))].join(`
`),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a");c.href=URL.createObjectURL(l),c.download=`exam_schedule_${new Date().toISOString().split("T")[0]}.csv`,c.click(),fe.success(n==="en"?"Exam schedule downloaded successfully":"    ")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:t("dashboard.examSchedule")}),s.jsx("p",{className:"text-muted-foreground",children:n==="en"?"View upcoming exam schedules":"   "})]}),s.jsxs($,{onClick:a,variant:"outline",children:[s.jsx(br,{className:"h-4 w-4 mr-2"}),n==="en"?"Download Schedule":" "]})]}),s.jsx("div",{className:"grid gap-4",children:r.map(i=>s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ne,{className:"text-lg",children:i.subject}),s.jsx(ce,{className:"mt-1",variant:"outline",children:i.examType})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium",children:i.date}),s.jsx("p",{className:"text-xs text-muted-foreground",children:i.time})]})]})}),s.jsx(G,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dr,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:n==="en"?"Duration":""}),s.jsx("p",{className:"text-sm font-medium",children:i.duration})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ka,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:n==="en"?"Location":""}),s.jsx("p",{className:"text-sm font-medium",children:i.room})]})]}),s.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[s.jsx(Vt,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:n==="en"?"Syllabus":""}),s.jsx("p",{className:"text-sm font-medium",children:i.syllabus})]})]})]})})]},i.id))})]})}var yt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(yt||(yt={}));var xO;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(xO||(xO={}));const Fe=yt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Eo=e=>{switch(typeof e){case"undefined":return Fe.undefined;case"string":return Fe.string;case"number":return Number.isNaN(e)?Fe.nan:Fe.number;case"boolean":return Fe.boolean;case"function":return Fe.function;case"bigint":return Fe.bigint;case"symbol":return Fe.symbol;case"object":return Array.isArray(e)?Fe.array:e===null?Fe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Fe.promise:typeof Map<"u"&&e instanceof Map?Fe.map:typeof Set<"u"&&e instanceof Set?Fe.set:typeof Date<"u"&&e instanceof Date?Fe.date:Fe.object;default:return Fe.unknown}},xe=yt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class As extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),r}static assert(t){if(!(t instanceof As))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,yt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];n[i]=n[i]||[],n[i].push(t(a))}else r.push(t(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}As.create=e=>new As(e);const oN=(e,t)=>{let n;switch(e.code){case xe.invalid_type:e.received===Fe.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case xe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,yt.jsonStringifyReplacer)}`;break;case xe.unrecognized_keys:n=`Unrecognized key(s) in object: ${yt.joinValues(e.keys,", ")}`;break;case xe.invalid_union:n="Invalid input";break;case xe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${yt.joinValues(e.options)}`;break;case xe.invalid_enum_value:n=`Invalid enum value. Expected ${yt.joinValues(e.options)}, received '${e.received}'`;break;case xe.invalid_arguments:n="Invalid function arguments";break;case xe.invalid_return_type:n="Invalid function return type";break;case xe.invalid_date:n="Invalid date";break;case xe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:yt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case xe.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case xe.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case xe.custom:n="Invalid input";break;case xe.invalid_intersection_types:n="Intersection results could not be merged";break;case xe.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case xe.not_finite:n="Number must be finite";break;default:n=t.defaultError,yt.assertNever(e)}return{message:n}};let Dhe=oN;function Rhe(){return Dhe}const Ihe=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Me(e,t){const n=Rhe(),r=Ihe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===oN?void 0:oN].filter(a=>!!a)});e.common.issues.push(r)}class Ps{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const a of n){if(a.status==="aborted")return et;a.status==="dirty"&&t.dirty(),r.push(a.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const a of n){const i=await a.key,o=await a.value;r.push({key:i,value:o})}return Ps.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const a of n){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return et;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(r[i.value]=o.value)}return{status:t.value,value:r}}}const et=Object.freeze({status:"aborted"}),Jh=e=>({status:"dirty",value:e}),aa=e=>({status:"valid",value:e}),yO=e=>e.status==="aborted",jO=e=>e.status==="dirty",_u=e=>e.status==="valid",Qv=e=>typeof Promise<"u"&&e instanceof Promise;var Ue;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ue||(Ue={}));class hl{constructor(t,n,r,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const wO=(e,t)=>{if(_u(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new As(e.common.issues);return this._error=n,this._error}}};function ct(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:a}}class vt{get description(){return this._def.description}_getType(t){return Eo(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Eo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ps,ctx:{common:t.parent.common,data:t.data,parsedType:Eo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Qv(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Eo(t)},a=this._parseSync({data:t,path:r.path,parent:r});return wO(r,a)}"~validate"(t){var r,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Eo(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:n});return _u(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(a=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(i=>_u(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Eo(t)},a=this._parse({data:t,path:r.path,parent:r}),i=await(Qv(a)?a:Promise.resolve(a));return wO(r,i)}refine(t,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:xe.custom,...r(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,a)=>t(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(t){return new Cu({schema:this,typeName:tt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return nl.create(this,this._def)}nullable(){return ku.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return li.create(this)}promise(){return nx.create(this,this._def)}or(t){return ex.create([this,t],this._def)}and(t){return tx.create(this,t,this._def)}transform(t){return new Cu({...ct(this._def),schema:this,typeName:tt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new dN({...ct(this._def),innerType:this,defaultValue:n,typeName:tt.ZodDefault})}brand(){return new afe({typeName:tt.ZodBranded,type:this,...ct(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new uN({...ct(this._def),innerType:this,catchValue:n,typeName:tt.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return UC.create(this,t)}readonly(){return hN.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const $he=/^c[^\s-]{8,}$/i,Lhe=/^[0-9a-z]+$/,Fhe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Bhe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,zhe=/^[a-z0-9_-]{21}$/i,Uhe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Vhe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Whe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,qhe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Pw;const Hhe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Khe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ghe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Yhe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Xhe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Zhe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,O8="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Qhe=new RegExp(`^${O8}$`);function M8(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function Jhe(e){return new RegExp(`^${M8(e)}$`)}function efe(e){let t=`${O8}T${M8(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function tfe(e,t){return!!((t==="v4"||!t)&&Hhe.test(e)||(t==="v6"||!t)&&Ghe.test(e))}function nfe(e,t){if(!Uhe.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function rfe(e,t){return!!((t==="v4"||!t)&&Khe.test(e)||(t==="v6"||!t)&&Yhe.test(e))}class qo extends vt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Fe.string){const i=this._getOrReturnCtx(t);return Me(i,{code:xe.invalid_type,expected:Fe.string,received:i.parsedType}),et}const r=new Ps;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Me(a,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Me(a,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Whe.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"email",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Pw||(Pw=new RegExp(qhe,"u")),Pw.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"emoji",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Bhe.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"uuid",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")zhe.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"nanoid",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")$he.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"cuid",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Lhe.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"cuid2",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Fhe.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"ulid",code:xe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Me(a,{validation:"url",code:xe.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"regex",code:xe.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?efe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Qhe.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Jhe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Vhe.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"duration",code:xe.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?tfe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"ip",code:xe.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?nfe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"jwt",code:xe.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?rfe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"cidr",code:xe.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Xhe.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"base64",code:xe.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?Zhe.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"base64url",code:xe.invalid_string,message:i.message}),r.dirty()):yt.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(a=>t.test(a),{validation:n,code:xe.invalid_string,...Ue.errToObj(r)})}_addCheck(t){return new qo({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ue.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ue.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ue.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ue.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ue.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ue.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ue.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ue.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ue.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ue.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ue.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ue.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ue.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ue.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ue.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ue.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Ue.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Ue.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Ue.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Ue.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Ue.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Ue.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Ue.errToObj(n)})}nonempty(t){return this.min(1,Ue.errToObj(t))}trim(){return new qo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new qo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new qo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}qo.create=e=>new qo({checks:[],typeName:tt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ct(e)});function sfe(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class hm extends vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Fe.number){const i=this._getOrReturnCtx(t);return Me(i,{code:xe.invalid_type,expected:Fe.number,received:i.parsedType}),et}let r;const a=new Ps;for(const i of this._def.checks)i.kind==="int"?yt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Me(r,{code:xe.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),Me(r,{code:xe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),Me(r,{code:xe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?sfe(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),Me(r,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Me(r,{code:xe.not_finite,message:i.message}),a.dirty()):yt.assertNever(i);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Ue.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ue.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ue.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ue.toString(n))}setLimit(t,n,r,a){return new hm({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Ue.toString(a)}]})}_addCheck(t){return new hm({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ue.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ue.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ue.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Ue.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ue.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ue.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&yt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}hm.create=e=>new hm({checks:[],typeName:tt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ct(e)});class fm extends vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Fe.bigint)return this._getInvalidInput(t);let r;const a=new Ps;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),Me(r,{code:xe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),Me(r,{code:xe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Me(r,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):yt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Me(n,{code:xe.invalid_type,expected:Fe.bigint,received:n.parsedType}),et}gte(t,n){return this.setLimit("min",t,!0,Ue.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ue.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ue.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ue.toString(n))}setLimit(t,n,r,a){return new fm({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Ue.toString(a)}]})}_addCheck(t){return new fm({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ue.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ue.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}fm.create=e=>new fm({checks:[],typeName:tt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ct(e)});class lN extends vt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Fe.boolean){const r=this._getOrReturnCtx(t);return Me(r,{code:xe.invalid_type,expected:Fe.boolean,received:r.parsedType}),et}return aa(t.data)}}lN.create=e=>new lN({typeName:tt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ct(e)});class Jv extends vt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Fe.date){const i=this._getOrReturnCtx(t);return Me(i,{code:xe.invalid_type,expected:Fe.date,received:i.parsedType}),et}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Me(i,{code:xe.invalid_date}),et}const r=new Ps;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):yt.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Jv({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Ue.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Ue.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Jv.create=e=>new Jv({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:tt.ZodDate,...ct(e)});class bO extends vt{_parse(t){if(this._getType(t)!==Fe.symbol){const r=this._getOrReturnCtx(t);return Me(r,{code:xe.invalid_type,expected:Fe.symbol,received:r.parsedType}),et}return aa(t.data)}}bO.create=e=>new bO({typeName:tt.ZodSymbol,...ct(e)});class NO extends vt{_parse(t){if(this._getType(t)!==Fe.undefined){const r=this._getOrReturnCtx(t);return Me(r,{code:xe.invalid_type,expected:Fe.undefined,received:r.parsedType}),et}return aa(t.data)}}NO.create=e=>new NO({typeName:tt.ZodUndefined,...ct(e)});class _O extends vt{_parse(t){if(this._getType(t)!==Fe.null){const r=this._getOrReturnCtx(t);return Me(r,{code:xe.invalid_type,expected:Fe.null,received:r.parsedType}),et}return aa(t.data)}}_O.create=e=>new _O({typeName:tt.ZodNull,...ct(e)});class SO extends vt{constructor(){super(...arguments),this._any=!0}_parse(t){return aa(t.data)}}SO.create=e=>new SO({typeName:tt.ZodAny,...ct(e)});class CO extends vt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return aa(t.data)}}CO.create=e=>new CO({typeName:tt.ZodUnknown,...ct(e)});class fl extends vt{_parse(t){const n=this._getOrReturnCtx(t);return Me(n,{code:xe.invalid_type,expected:Fe.never,received:n.parsedType}),et}}fl.create=e=>new fl({typeName:tt.ZodNever,...ct(e)});class kO extends vt{_parse(t){if(this._getType(t)!==Fe.undefined){const r=this._getOrReturnCtx(t);return Me(r,{code:xe.invalid_type,expected:Fe.void,received:r.parsedType}),et}return aa(t.data)}}kO.create=e=>new kO({typeName:tt.ZodVoid,...ct(e)});class li extends vt{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),a=this._def;if(n.parsedType!==Fe.array)return Me(n,{code:xe.invalid_type,expected:Fe.array,received:n.parsedType}),et;if(a.exactLength!==null){const o=n.data.length>a.exactLength.value,l=n.data.length<a.exactLength.value;(o||l)&&(Me(n,{code:o?xe.too_big:xe.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(Me(n,{code:xe.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(Me(n,{code:xe.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>a.type._parseAsync(new hl(n,o,n.path,l)))).then(o=>Ps.mergeArray(r,o));const i=[...n.data].map((o,l)=>a.type._parseSync(new hl(n,o,n.path,l)));return Ps.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new li({...this._def,minLength:{value:t,message:Ue.toString(n)}})}max(t,n){return new li({...this._def,maxLength:{value:t,message:Ue.toString(n)}})}length(t,n){return new li({...this._def,exactLength:{value:t,message:Ue.toString(n)}})}nonempty(t){return this.min(1,t)}}li.create=(e,t)=>new li({type:e,minLength:null,maxLength:null,exactLength:null,typeName:tt.ZodArray,...ct(t)});function hd(e){if(e instanceof cn){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=nl.create(hd(r))}return new cn({...e._def,shape:()=>t})}else return e instanceof li?new li({...e._def,type:hd(e.element)}):e instanceof nl?nl.create(hd(e.unwrap())):e instanceof ku?ku.create(hd(e.unwrap())):e instanceof Oc?Oc.create(e.items.map(t=>hd(t))):e}class cn extends vt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=yt.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==Fe.object){const d=this._getOrReturnCtx(t);return Me(d,{code:xe.invalid_type,expected:Fe.object,received:d.parsedType}),et}const{status:r,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof fl&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new hl(a,h,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof fl){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(Me(a,{code:xe.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new hl(a,h,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,f=await u.value;d.push({key:h,value:f,alwaysSet:u.alwaysSet})}return d}).then(d=>Ps.mergeObjectSync(r,d)):Ps.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return Ue.errToObj,new cn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Ue.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new cn({...this._def,unknownKeys:"strip"})}passthrough(){return new cn({...this._def,unknownKeys:"passthrough"})}extend(t){return new cn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new cn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:tt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new cn({...this._def,catchall:t})}pick(t){const n={};for(const r of yt.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new cn({...this._def,shape:()=>n})}omit(t){const n={};for(const r of yt.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new cn({...this._def,shape:()=>n})}deepPartial(){return hd(this)}partial(t){const n={};for(const r of yt.objectKeys(this.shape)){const a=this.shape[r];t&&!t[r]?n[r]=a:n[r]=a.optional()}return new cn({...this._def,shape:()=>n})}required(t){const n={};for(const r of yt.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof nl;)i=i._def.innerType;n[r]=i}return new cn({...this._def,shape:()=>n})}keyof(){return D8(yt.objectKeys(this.shape))}}cn.create=(e,t)=>new cn({shape:()=>e,unknownKeys:"strip",catchall:fl.create(),typeName:tt.ZodObject,...ct(t)});cn.strictCreate=(e,t)=>new cn({shape:()=>e,unknownKeys:"strict",catchall:fl.create(),typeName:tt.ZodObject,...ct(t)});cn.lazycreate=(e,t)=>new cn({shape:e,unknownKeys:"strip",catchall:fl.create(),typeName:tt.ZodObject,...ct(t)});class ex extends vt{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new As(l.ctx.common.issues));return Me(n,{code:xe.invalid_union,unionErrors:o}),et}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new As(c));return Me(n,{code:xe.invalid_union,unionErrors:l}),et}}get options(){return this._def.options}}ex.create=(e,t)=>new ex({options:e,typeName:tt.ZodUnion,...ct(t)});function cN(e,t){const n=Eo(e),r=Eo(t);if(e===t)return{valid:!0,data:e};if(n===Fe.object&&r===Fe.object){const a=yt.objectKeys(t),i=yt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=cN(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Fe.array&&r===Fe.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=cN(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return n===Fe.date&&r===Fe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class tx extends vt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=(i,o)=>{if(yO(i)||yO(o))return et;const l=cN(i.value,o.value);return l.valid?((jO(i)||jO(o))&&n.dirty(),{status:n.value,value:l.data}):(Me(r,{code:xe.invalid_intersection_types}),et)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}tx.create=(e,t,n)=>new tx({left:e,right:t,typeName:tt.ZodIntersection,...ct(n)});class Oc extends vt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Fe.array)return Me(r,{code:xe.invalid_type,expected:Fe.array,received:r.parsedType}),et;if(r.data.length<this._def.items.length)return Me(r,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),et;!this._def.rest&&r.data.length>this._def.items.length&&(Me(r,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new hl(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Ps.mergeArray(n,o)):Ps.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Oc({...this._def,rest:t})}}Oc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Oc({items:e,typeName:tt.ZodTuple,rest:null,...ct(t)})};class AO extends vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Fe.map)return Me(r,{code:xe.invalid_type,expected:Fe.map,received:r.parsedType}),et;const a=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:a._parse(new hl(r,l,r.path,[d,"key"])),value:i._parse(new hl(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return et;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return et;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}}}}AO.create=(e,t,n)=>new AO({valueType:t,keyType:e,typeName:tt.ZodMap,...ct(n)});class mm extends vt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Fe.set)return Me(r,{code:xe.invalid_type,expected:Fe.set,received:r.parsedType}),et;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(Me(r,{code:xe.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(Me(r,{code:xe.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return et;u.status==="dirty"&&n.dirty(),d.add(u.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>i._parse(new hl(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new mm({...this._def,minSize:{value:t,message:Ue.toString(n)}})}max(t,n){return new mm({...this._def,maxSize:{value:t,message:Ue.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}mm.create=(e,t)=>new mm({valueType:e,minSize:null,maxSize:null,typeName:tt.ZodSet,...ct(t)});class PO extends vt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}PO.create=(e,t)=>new PO({getter:e,typeName:tt.ZodLazy,...ct(t)});class EO extends vt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Me(n,{received:n.data,code:xe.invalid_literal,expected:this._def.value}),et}return{status:"valid",value:t.data}}get value(){return this._def.value}}EO.create=(e,t)=>new EO({value:e,typeName:tt.ZodLiteral,...ct(t)});function D8(e,t){return new Su({values:e,typeName:tt.ZodEnum,...ct(t)})}class Su extends vt{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Me(n,{expected:yt.joinValues(r),received:n.parsedType,code:xe.invalid_type}),et}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Me(n,{received:n.data,code:xe.invalid_enum_value,options:r}),et}return aa(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Su.create(t,{...this._def,...n})}exclude(t,n=this._def){return Su.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Su.create=D8;class TO extends vt{_parse(t){const n=yt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Fe.string&&r.parsedType!==Fe.number){const a=yt.objectValues(n);return Me(r,{expected:yt.joinValues(a),received:r.parsedType,code:xe.invalid_type}),et}if(this._cache||(this._cache=new Set(yt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=yt.objectValues(n);return Me(r,{received:r.data,code:xe.invalid_enum_value,options:a}),et}return aa(t.data)}get enum(){return this._def.values}}TO.create=(e,t)=>new TO({values:e,typeName:tt.ZodNativeEnum,...ct(t)});class nx extends vt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.promise&&n.common.async===!1)return Me(n,{code:xe.invalid_type,expected:Fe.promise,received:n.parsedType}),et;const r=n.parsedType===Fe.promise?n.data:Promise.resolve(n.data);return aa(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}nx.create=(e,t)=>new nx({type:e,typeName:tt.ZodPromise,...ct(t)});class Cu extends vt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Me(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return et;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?et:c.status==="dirty"||n.value==="dirty"?Jh(c.value):c});{if(n.value==="aborted")return et;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?et:l.status==="dirty"||n.value==="dirty"?Jh(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?et:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?et:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(a.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!_u(o))return et;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>_u(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:n.value,value:l})):et);yt.assertNever(a)}}Cu.create=(e,t,n)=>new Cu({schema:e,typeName:tt.ZodEffects,effect:t,...ct(n)});Cu.createWithPreprocess=(e,t,n)=>new Cu({schema:t,effect:{type:"preprocess",transform:e},typeName:tt.ZodEffects,...ct(n)});class nl extends vt{_parse(t){return this._getType(t)===Fe.undefined?aa(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}nl.create=(e,t)=>new nl({innerType:e,typeName:tt.ZodOptional,...ct(t)});class ku extends vt{_parse(t){return this._getType(t)===Fe.null?aa(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ku.create=(e,t)=>new ku({innerType:e,typeName:tt.ZodNullable,...ct(t)});class dN extends vt{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Fe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}dN.create=(e,t)=>new dN({innerType:e,typeName:tt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ct(t)});class uN extends vt{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Qv(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new As(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new As(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}uN.create=(e,t)=>new uN({innerType:e,typeName:tt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ct(t)});class OO extends vt{_parse(t){if(this._getType(t)!==Fe.nan){const r=this._getOrReturnCtx(t);return Me(r,{code:xe.invalid_type,expected:Fe.nan,received:r.parsedType}),et}return{status:"valid",value:t.data}}}OO.create=e=>new OO({typeName:tt.ZodNaN,...ct(e)});class afe extends vt{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class UC extends vt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?et:i.status==="dirty"?(n.dirty(),Jh(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?et:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(t,n){return new UC({in:t,out:n,typeName:tt.ZodPipeline})}}class hN extends vt{_parse(t){const n=this._def.innerType._parse(t),r=a=>(_u(a)&&(a.value=Object.freeze(a.value)),a);return Qv(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}hN.create=(e,t)=>new hN({innerType:e,typeName:tt.ZodReadonly,...ct(t)});cn.lazycreate;var tt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(tt||(tt={}));const He=qo.create,ld=lN.create;fl.create;li.create;const i0=cn.create;cn.strictCreate;ex.create;tx.create;Oc.create;const ife=Su.create;nx.create;nl.create;ku.create;const ofe=i0({subject:He().min(1,"Subject is required").max(100),title:He().min(1,"Title is required").max(200),description:He().min(1,"Description is required").max(1e3),dueDate:He().min(1,"Due date is required"),class:He().min(1,"Class is required")});function lfe(){const{user:e}=ot(),{t,language:n}=Te(),[r,a]=m.useState(!1),[i,o]=m.useState({subject:"",title:"",description:"",dueDate:"",class:""}),l=[{id:"1",subject:n==="en"?"Mathematics":"",title:n==="en"?"Algebra Problem Set":"  ",description:n==="en"?"Complete exercises 1-20 from Chapter 5":"  1-20   5",dueDate:"2024-03-15",status:"pending",class:"10-A",teacher:n==="en"?"Ahmed Hassan":" "},{id:"2",subject:n==="en"?"Physics":"",title:n==="en"?"Lab Report":" ",description:n==="en"?"Write a detailed report on the pendulum experiment":"     ",dueDate:"2024-03-13",status:"submitted",class:"10-A",teacher:n==="en"?"Ahmed Hassan":" "},{id:"3",subject:n==="en"?"English":" ",title:n==="en"?"Essay Writing":" ",description:n==="en"?"Write a 500-word essay on climate change":"   500    ",dueDate:"2024-03-12",status:"overdue",class:"10-A",teacher:n==="en"?"Fatima Al-Said":" "}],c=()=>{try{ofe.parse(i),ae({title:n==="en"?"Homework Added":"  ",description:n==="en"?"Homework has been added successfully":"   "}),a(!1),o({subject:"",title:"",description:"",dueDate:"",class:""})}catch(u){u instanceof As&&ae({title:n==="en"?"Validation Error":"  ",description:u.errors[0].message,variant:"destructive"})}},d=u=>{switch(u){case"pending":return s.jsx(ce,{className:"bg-warning/10 text-warning",children:n==="en"?"Pending":""});case"submitted":return s.jsx(ce,{className:"bg-success/10 text-success",children:n==="en"?"Submitted":""});case"overdue":return s.jsx(ce,{className:"bg-destructive/10 text-destructive",children:n==="en"?"Overdue":""});default:return null}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:t("dashboard.homework")}),s.jsx("p",{className:"text-muted-foreground",children:n==="en"?"Manage and track homework assignments":"   "})]}),(e==null?void 0:e.role)==="teacher"&&s.jsxs($,{onClick:()=>a(!0),children:[s.jsx(pn,{className:"h-4 w-4 mr-2"}),n==="en"?"Add Homework":" "]})]}),s.jsx("div",{className:"grid gap-4",children:l.map(u=>s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vt,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-lg",children:u.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:u.subject})]})]}),d(u.status)]})}),s.jsxs(G,{children:[s.jsx("p",{className:"text-sm mb-3",children:u.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ft,{className:"h-3 w-3"}),n==="en"?"Due":" ",": ",u.dueDate]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(dr,{className:"h-3 w-3"}),u.class]}),(e==null?void 0:e.role)!=="teacher"&&s.jsxs("span",{children:[n==="en"?"Teacher":"",": ",u.teacher]})]}),(e==null?void 0:e.role)==="student"&&u.status==="pending"&&s.jsx($,{className:"mt-3",size:"sm",children:n==="en"?"Submit Homework":" "})]})]},u.id))}),s.jsx(qe,{open:r,onOpenChange:a,children:s.jsxs(Ve,{children:[s.jsx(Ke,{children:s.jsx(Ge,{children:n==="en"?"Add Homework":" "})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"subject",children:n==="en"?"Subject":""}),s.jsx(F,{id:"subject",value:i.subject,onChange:u=>o({...i,subject:u.target.value}),placeholder:n==="en"?"e.g., Mathematics":": ",maxLength:100})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"title",children:n==="en"?"Title":""}),s.jsx(F,{id:"title",value:i.title,onChange:u=>o({...i,title:u.target.value}),placeholder:n==="en"?"e.g., Chapter 5 Exercises":":   5",maxLength:200})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"description",children:n==="en"?"Description":""}),s.jsx(kr,{id:"description",value:i.description,onChange:u=>o({...i,description:u.target.value}),placeholder:n==="en"?"Detailed instructions...":" ...",maxLength:1e3})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"dueDate",children:n==="en"?"Due Date":" "}),s.jsx(F,{id:"dueDate",type:"date",value:i.dueDate,onChange:u=>o({...i,dueDate:u.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"class",children:n==="en"?"Class":""}),s.jsxs(Pe,{value:i.class,onValueChange:u=>o({...i,class:u}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:n==="en"?"Select class":" "})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"10-A",children:"10-A"}),s.jsx(K,{value:"10-B",children:"10-B"}),s.jsx(K,{value:"11-A",children:"11-A"}),s.jsx(K,{value:"11-B",children:"11-B"})]})]})]})]}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>a(!1),children:t("common.cancel")}),s.jsx($,{onClick:c,children:t("common.save")})]})]})})]})}function cfe(){const{language:e}=Te(),{toast:t}=ro(),[n,r]=m.useState(""),[a,i]=m.useState(!1),o=async()=>{if(!n||Number(n)<=0){t({title:e==="ar"?"":"Error",description:e==="ar"?"   ":"Please enter a valid amount",variant:"destructive"});return}i(!0),setTimeout(()=>{t({title:e==="ar"?"  ":"Top-up Successful",description:e==="ar"?`  ${n}  `:`${n} OMR added successfully`}),r(""),i(!1)},2e3)},l=[{type:"top_up",amount:50,desc:"Wallet Top-up",descAr:" ",date:"2025-01-04 10:30"},{type:"purchase",amount:-5.5,desc:"Cafeteria Purchase",descAr:"  ",date:"2025-01-04 09:15"},{type:"purchase",amount:-3,desc:"Store Purchase",descAr:"  ",date:"2025-01-03 14:20"}];return s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:e==="ar"?" ":"Digital Wallet"}),s.jsx("p",{className:"text-muted-foreground",children:e==="ar"?"  ":"Manage student balance"})]}),s.jsxs(q,{className:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground",children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Cr,{className:"h-5 w-5"}),e==="ar"?" ":"Current Balance"]})}),s.jsxs(G,{children:[s.jsxs("div",{className:"text-5xl font-bold mb-2",children:["41.50 ",e==="ar"?"":"OMR"]}),s.jsx("p",{className:"text-primary-foreground/80",children:e==="ar"?" ":"Available to spend"})]})]}),s.jsxs(q,{children:[s.jsxs(te,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(pn,{className:"h-5 w-5"}),e==="ar"?" ":"Top Up Wallet"]}),s.jsx(wn,{children:e==="ar"?"    ":"Add money to student wallet"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[10,20,50,100].map(c=>s.jsxs($,{variant:"outline",onClick:()=>r(c.toString()),className:"h-16 text-lg",children:[c," ",e==="ar"?"":"OMR"]},c))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"custom-amount",children:e==="ar"?" ":"Custom Amount"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{id:"custom-amount",type:"number",placeholder:e==="ar"?" ":"Enter amount",value:n,onChange:c=>r(c.target.value),min:"1",step:"0.5"}),s.jsxs($,{onClick:o,disabled:a,className:"px-8",children:[s.jsx(Fr,{className:"mr-2 h-4 w-4"}),a?e==="ar"?" ...":"Processing...":e==="ar"?"":"Pay"]})]})]})]})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:e==="ar"?" ":"Transaction History"})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:l.map((c,d)=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${c.type==="top_up"?"bg-green-500/10":"bg-red-500/10"}`,children:c.type==="top_up"?s.jsx(c5,{className:"h-5 w-5 text-green-500"}):s.jsx(BS,{className:"h-5 w-5 text-red-500"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:e==="ar"?c.descAr:c.desc}),s.jsx("div",{className:"text-sm text-muted-foreground",children:c.date})]})]}),s.jsxs(ce,{variant:c.amount>0?"default":"secondary",className:"text-base px-3",children:[c.amount>0?"+":"",c.amount.toFixed(2)," OMR"]})]},d))})})]})]})}const dfe=()=>{var y,x,w,b;const{user:e,profile:t}=ot(),{language:n,t:r}=Te(),[a,i]=m.useState(!1),[o,l]=m.useState({name:(t==null?void 0:t.full_name)||"",nameAr:(t==null?void 0:t.full_name_ar)||"",email:(e==null?void 0:e.email)||"",phone:(t==null?void 0:t.phone)||"+971 50 123 4567",address:(t==null?void 0:t.address)||"123 School Street, Dubai, UAE",dateOfBirth:"1990-01-15",joinDate:"2020-09-01"}),[c,d]=m.useState({current:"",new:"",confirm:""}),[u,h]=m.useState({current:!1,new:!1,confirm:!1}),f=()=>{i(!1),ae({title:n==="en"?"Profile Updated":"   ",description:n==="en"?"Your profile has been successfully updated.":"    .",variant:"success"})},p=()=>{i(!1),l({name:(t==null?void 0:t.full_name)||"",nameAr:(t==null?void 0:t.full_name_ar)||"",email:(e==null?void 0:e.email)||"",phone:(t==null?void 0:t.phone)||"+971 50 123 4567",address:"123 School Street, Dubai, UAE",dateOfBirth:"1990-01-15",joinDate:"2020-09-01"})},g=async()=>{if(c.new!==c.confirm){ae({title:"Password Mismatch",description:"New passwords do not match.",variant:"destructive"});return}try{const{error:S}=await V.auth.updateUser({password:c.new});if(S)throw S;d({current:"",new:"",confirm:""}),ae({title:"Password Changed",description:"Your password has been updated successfully.",variant:"default"})}catch(S){ae({title:"Error",description:S.message,variant:"destructive"})}},j=(()=>{switch(t==null?void 0:t.role){case"teacher":return{subjects:["Mathematics","Physics"],classes:["10A","10B","11A"],employeeId:"TCH-2024-001",department:"Science Department"};case"student":return{studentId:"STD-2024-1234",class:"10A",rollNumber:"15",parentName:"Mohammed Ali",parentPhone:"+971 50 987 6543"};case"parent":return{children:[{name:"Sara Ahmed",class:"10A",studentId:"STD-2024-1234"},{name:"Ali Ahmed",class:"7B",studentId:"STD-2024-1235"}],emergencyContact:"+971 50 111 2222"};case"driver":return{busNumber:"BUS-15",route:"Route A - Downtown",licenseNumber:"DRV-2024-789",studentsCount:32};default:return{}}})();return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold",children:n==="ar"?" ":"My Profile"}),a?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs($,{onClick:f,variant:"default",className:"gap-2",children:[s.jsx(Wc,{className:"h-4 w-4"}),n==="ar"?"":"Save"]}),s.jsxs($,{onClick:p,variant:"outline",className:"gap-2",children:[s.jsx(Xn,{className:"h-4 w-4"}),n==="ar"?"":"Cancel"]})]}):s.jsxs($,{onClick:()=>i(!0),className:"gap-2",children:[s.jsx(Yn,{className:"h-4 w-4"}),n==="ar"?"":"Edit Profile"]})]}),s.jsx(q,{children:s.jsx(G,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(fn,{className:"h-32 w-32",children:[s.jsx(sr,{src:void 0}),s.jsx(mn,{className:"bg-gradient-primary text-white text-3xl",children:((y=t==null?void 0:t.full_name)==null?void 0:y.charAt(0))||"U"})]}),a&&s.jsx($,{size:"icon",variant:"secondary",className:"absolute bottom-0 right-0 rounded-full h-10 w-10",children:s.jsx(Zf,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"font-semibold text-lg",children:(t==null?void 0:t.full_name)||(e==null?void 0:e.email)}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:t==null?void 0:t.role})]})]}),s.jsx("div",{className:"flex-1",children:s.jsxs(gn,{defaultValue:"personal",className:"w-full",dir:n==="ar"?"rtl":"ltr",children:[s.jsxs(sn,{className:`grid w-full grid-cols-3 ${n==="ar"?"flex-row-reverse":""}`,children:[s.jsx(_e,{value:"personal",children:n==="ar"?" ":"Personal Info"}),s.jsx(_e,{value:"role",children:n==="ar"?" ":"Role Info"}),s.jsx(_e,{value:"security",children:n==="ar"?"":"Security"})]}),s.jsx(Re,{value:"personal",className:"space-y-4 mt-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"name",children:n==="ar"?"":"Name"}),s.jsx(F,{id:"name",value:o.name,onChange:S=>l({...o,name:S.target.value}),disabled:!a})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"nameAr",children:n==="ar"?" ":"Name in Arabic"}),s.jsx(F,{id:"nameAr",value:o.nameAr,onChange:S=>l({...o,nameAr:S.target.value}),disabled:!a,dir:"rtl"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"email",children:n==="ar"?" ":"Email"}),s.jsx(F,{id:"email",type:"email",value:o.email,onChange:S=>l({...o,email:S.target.value}),disabled:!a})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"phone",children:n==="ar"?" ":"Phone"}),s.jsx(F,{id:"phone",type:"tel",value:o.phone,onChange:S=>l({...o,phone:S.target.value}),disabled:!a})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"dob",children:n==="ar"?" ":"Date of Birth"}),s.jsx(F,{id:"dob",type:"date",value:o.dateOfBirth,onChange:S=>l({...o,dateOfBirth:S.target.value}),disabled:!a})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"address",children:n==="ar"?"":"Address"}),s.jsx(F,{id:"address",value:o.address,onChange:S=>l({...o,address:S.target.value}),disabled:!a})]})]})}),s.jsx(Re,{value:"role",className:"space-y-4 mt-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(t==null?void 0:t.role)==="teacher"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:n==="ar"?" ":"Employee ID"}),s.jsx(F,{value:j.employeeId,disabled:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:n==="ar"?"":"Department"}),s.jsx(F,{value:j.department,disabled:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:n==="ar"?"":"Subjects"}),s.jsx(F,{value:(x=j.subjects)==null?void 0:x.join(", "),disabled:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:n==="ar"?"":"Classes"}),s.jsx(F,{value:(w=j.classes)==null?void 0:w.join(", "),disabled:!0})]})]}),(t==null?void 0:t.role)==="student"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:n==="ar"?" ":"Student ID"}),s.jsx(F,{value:j.studentId,disabled:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:n==="ar"?"":"Class"}),s.jsx(F,{value:j.class,disabled:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:n==="ar"?" ":"Roll Number"}),s.jsx(F,{value:j.rollNumber,disabled:!0,type:"number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:n==="ar"?" ":"Parent Name"}),s.jsx(F,{value:j.parentName,disabled:!0})]})]}),(t==null?void 0:t.role)==="parent"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(T,{children:n==="ar"?"":"Children"}),(b=j.children)==null?void 0:b.map((S,_)=>s.jsxs("div",{className:"p-3 border rounded-lg bg-muted/30",children:[s.jsx("p",{className:"font-medium",children:S.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:s.jsxs("span",{className:"number-display",children:[n==="en"?"Class":"",": ",S.class," | ",n==="en"?"ID":"",": ",S.studentId]})})]},_))]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:n==="ar"?" ":"Emergency Contact"}),s.jsx(F,{value:j.emergencyContact,disabled:!0,type:"tel"})]})]}),(t==null?void 0:t.role)==="driver"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:n==="ar"?" ":"Bus Number"}),s.jsx(F,{value:j.busNumber,disabled:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:n==="ar"?"":"Route"}),s.jsx(F,{value:j.route,disabled:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:n==="ar"?" ":"License Number"}),s.jsx(F,{value:j.licenseNumber,disabled:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:n==="ar"?" ":"Students Count"}),s.jsx(F,{value:j.studentsCount,disabled:!0,type:"number"})]})]})]})}),s.jsxs(Re,{value:"security",className:"space-y-4 mt-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ta,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"text-lg font-semibold",children:n==="ar"?" ":"Security Settings"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"current-password",children:n==="ar"?"  ":"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(F,{id:"current-password",type:u.current?"text":"password",value:c.current,onChange:S=>d({...c,current:S.target.value}),placeholder:n==="ar"?"   ":"Enter current password",className:"pr-12"}),s.jsx($,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 hover:bg-transparent",onClick:()=>h({...u,current:!u.current}),children:u.current?s.jsx(Qr,{className:"h-4 w-4"}):s.jsx(Pn,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"new-password",children:n==="ar"?"  ":"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(F,{id:"new-password",type:u.new?"text":"password",value:c.new,onChange:S=>d({...c,new:S.target.value}),placeholder:n==="ar"?"   ":"Enter new password",className:"pr-12"}),s.jsx($,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 hover:bg-transparent",onClick:()=>h({...u,new:!u.new}),children:u.new?s.jsx(Qr,{className:"h-4 w-4"}):s.jsx(Pn,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"confirm-password",children:n==="ar"?"  ":"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(F,{id:"confirm-password",type:u.confirm?"text":"password",value:c.confirm,onChange:S=>d({...c,confirm:S.target.value}),placeholder:n==="ar"?"   ":"Confirm new password",className:"pr-12"}),s.jsx($,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 hover:bg-transparent",onClick:()=>h({...u,confirm:!u.confirm}),children:u.confirm?s.jsx(Qr,{className:"h-4 w-4"}):s.jsx(Pn,{className:"h-4 w-4"})})]})]}),s.jsxs($,{onClick:g,className:"w-full gap-2",children:[s.jsx(y5,{className:"h-4 w-4"}),n==="ar"?"  ":"Change Password"]})]})]})]})})]})})})]})},ufe=()=>{const{profile:e}=ot(),{language:t}=Te(),[n,r]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState(!1),c={system_announcements:{icon:s.jsx(Qf,{className:"h-4 w-4"}),label:{en:"System Announcements",ar:" "},description:{en:"Important system updates and announcements",ar:"   "}},grade_updates:{icon:s.jsx(Sr,{className:"h-4 w-4"}),label:{en:"Grade Updates",ar:" "},description:{en:"Notifications when new grades are posted",ar:"    "}},homework_assigned:{icon:s.jsx(ii,{className:"h-4 w-4"}),label:{en:"Homework Assignments",ar:" "},description:{en:"New homework assignments from teachers",ar:"    "}},exam_schedule:{icon:s.jsx(ft,{className:"h-4 w-4"}),label:{en:"Exam Schedule",ar:" "},description:{en:"Upcoming exam schedules and changes",ar:"   "}},attendance_alerts:{icon:s.jsx(Dr,{className:"h-4 w-4"}),label:{en:"Attendance Alerts",ar:" "},description:{en:"Notifications about attendance status",ar:"   "}},bus_arrival:{icon:s.jsx(bn,{className:"h-4 w-4"}),label:{en:"Bus Arrival",ar:" "},description:{en:"Bus arrival and departure notifications",ar:"   "}},canteen_orders:{icon:s.jsx(so,{className:"h-4 w-4"}),label:{en:"Canteen Orders",ar:" "},description:{en:"Order status and updates",ar:"  "}},wallet_transactions:{icon:s.jsx(Cr,{className:"h-4 w-4"}),label:{en:"Wallet Transactions",ar:" "},description:{en:"Payment and wallet activity",ar:"  "}},child_attendance:{icon:s.jsx(Dr,{className:"h-4 w-4"}),label:{en:"Child's Attendance",ar:" "},description:{en:"Your child's attendance updates",ar:"  "}},child_grades:{icon:s.jsx(Sr,{className:"h-4 w-4"}),label:{en:"Child's Grades",ar:" "},description:{en:"New grades for your child",ar:"  "}},child_homework:{icon:s.jsx(ii,{className:"h-4 w-4"}),label:{en:"Child's Homework",ar:" "},description:{en:"Homework assigned to your child",ar:"    "}},child_bus_location:{icon:s.jsx(bn,{className:"h-4 w-4"}),label:{en:"Child's Bus Location",ar:"  "},description:{en:"Real-time bus tracking for your child",ar:"     "}},payment_reminders:{icon:s.jsx($r,{className:"h-4 w-4"}),label:{en:"Payment Reminders",ar:" "},description:{en:"Fee payment reminders",ar:"  "}},school_announcements:{icon:s.jsx(Qf,{className:"h-4 w-4"}),label:{en:"School Announcements",ar:" "},description:{en:"Important school announcements",ar:"  "}},class_assignments:{icon:s.jsx(jt,{className:"h-4 w-4"}),label:{en:"Class Assignments",ar:" "},description:{en:"New class assignments and updates",ar:"   "}},student_submissions:{icon:s.jsx(ii,{className:"h-4 w-4"}),label:{en:"Student Submissions",ar:" "},description:{en:"Homework and assignment submissions",ar:"  "}},parent_messages:{icon:s.jsx(Ki,{className:"h-4 w-4"}),label:{en:"Parent Messages",ar:"  "},description:{en:"Messages from parents",ar:"   "}},schedule_changes:{icon:s.jsx(ft,{className:"h-4 w-4"}),label:{en:"Schedule Changes",ar:" "},description:{en:"Class schedule modifications",ar:"  "}},leave_approvals:{icon:s.jsx(ft,{className:"h-4 w-4"}),label:{en:"Leave Approvals",ar:"  "},description:{en:"Leave request status updates",ar:"   "}},payroll_updates:{icon:s.jsx($r,{className:"h-4 w-4"}),label:{en:"Payroll Updates",ar:" "},description:{en:"Salary and payroll notifications",ar:"  "}},user_registrations:{icon:s.jsx(jt,{className:"h-4 w-4"}),label:{en:"User Registrations",ar:" "},description:{en:"New user registration alerts",ar:"   "}},system_errors:{icon:s.jsx(Dr,{className:"h-4 w-4"}),label:{en:"System Errors",ar:" "},description:{en:"Critical system error notifications",ar:"   "}},payment_received:{icon:s.jsx($r,{className:"h-4 w-4"}),label:{en:"Payment Received",ar:" "},description:{en:"Payment confirmation notifications",ar:"  "}},leave_requests:{icon:s.jsx(ft,{className:"h-4 w-4"}),label:{en:"Leave Requests",ar:" "},description:{en:"Staff leave request notifications",ar:"   "}},bus_issues:{icon:s.jsx(bn,{className:"h-4 w-4"}),label:{en:"Bus Issues",ar:" "},description:{en:"Bus breakdown and delay alerts",ar:"   "}},security_alerts:{icon:s.jsx(ta,{className:"h-4 w-4"}),label:{en:"Security Alerts",ar:" "},description:{en:"Security and safety notifications",ar:"  "}},route_changes:{icon:s.jsx(Fm,{className:"h-4 w-4"}),label:{en:"Route Changes",ar:" "},description:{en:"Bus route modifications",ar:"  "}},student_pickup:{icon:s.jsx(jt,{className:"h-4 w-4"}),label:{en:"Student Pickup",ar:" "},description:{en:"Student pickup notifications",ar:"  "}},emergency_alerts:{icon:s.jsx(Dr,{className:"h-4 w-4"}),label:{en:"Emergency Alerts",ar:" "},description:{en:"Emergency situation alerts",ar:"  "}},vehicle_maintenance:{icon:s.jsx(O5,{className:"h-4 w-4"}),label:{en:"Vehicle Maintenance",ar:" "},description:{en:"Vehicle maintenance reminders",ar:"  "}}};m.useEffect(()=>{d()},[e==null?void 0:e.id]);const d=async()=>{if(e!=null&&e.id)try{const{data:v,error:j}=await V.from("notification_preferences").select("*").eq("user_id",e.id);if(j)throw j;v&&r(v)}catch(v){console.error("Error fetching preferences:",v),ae({title:t==="en"?"Error":"",description:t==="en"?"Failed to load notification settings":"   ",variant:"destructive"})}finally{i(!1)}},u=(v,j,y)=>{r(x=>x.find(b=>b.notification_type===v)?x.map(b=>b.notification_type===v?{...b,[j]:y}:b):[...x,{id:crypto.randomUUID(),notification_type:v,enabled:j==="enabled"?y:!0,email_enabled:j==="email_enabled"?y:!0,push_enabled:j==="push_enabled"?y:!0,sms_enabled:j==="sms_enabled"?y:!1}])},h=async()=>{if(e!=null&&e.id){l(!0);try{for(const v of n){const{error:j}=await V.from("notification_preferences").upsert({user_id:e.id,notification_type:v.notification_type,enabled:v.enabled,email_enabled:v.email_enabled,push_enabled:v.push_enabled,sms_enabled:v.sms_enabled},{onConflict:"user_id,notification_type"});if(j)throw j}ae({title:t==="en"?"Settings Saved":"  ",description:t==="en"?"Your notification preferences have been updated":"     ",variant:"success"})}catch(v){console.error("Error saving preferences:",v),ae({title:t==="en"?"Error":"",description:t==="en"?"Failed to save notification settings":"   ",variant:"destructive"})}finally{l(!1)}}},f=v=>n.find(j=>j.notification_type===v)||{id:"",notification_type:v,enabled:!0,email_enabled:!0,push_enabled:!0,sms_enabled:!1},p=()=>{switch(e==null?void 0:e.role){case"student":return["system_announcements","grade_updates","homework_assigned","exam_schedule","attendance_alerts","bus_arrival","canteen_orders","wallet_transactions"];case"parent":return["system_announcements","child_attendance","child_grades","child_homework","child_bus_location","payment_reminders","school_announcements"];case"teacher":return["system_announcements","class_assignments","student_submissions","parent_messages","schedule_changes","leave_approvals","payroll_updates"];case"admin":return["system_announcements","user_registrations","system_errors","payment_received","leave_requests","bus_issues","security_alerts"];case"driver":return["system_announcements","route_changes","student_pickup","emergency_alerts","vehicle_maintenance"];default:return["system_announcements"]}};if(a)return s.jsx(q,{children:s.jsx(G,{className:"py-8",children:s.jsx("div",{className:"text-center text-muted-foreground",children:t==="en"?"Loading notification settings...":"   ..."})})});const g=p();return s.jsxs(q,{children:[s.jsxs(te,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(yy,{className:"h-5 w-5"}),t==="ar"?" ":"Notification Settings"]}),s.jsx(wn,{children:t==="ar"?"      ":"Choose which notifications you want to receive and how"})]}),s.jsxs(G,{className:"space-y-6",children:[g.map(v=>{const j=c[v],y=f(v);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs(T,{className:"flex items-center gap-2",children:[j.icon,t==="ar"?j.label.ar:j.label.en]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t==="ar"?j.description.ar:j.description.en})]}),s.jsx(qt,{checked:y.enabled,onCheckedChange:x=>u(v,"enabled",x)})]}),y.enabled&&s.jsxs("div",{className:"ml-6 space-y-3 border-l-2 border-muted pl-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(T,{className:"flex items-center gap-2 text-sm",children:[s.jsx(Sc,{className:"h-3 w-3"}),t==="ar"?" ":"Email"]}),s.jsx(qt,{checked:y.email_enabled,onCheckedChange:x=>u(v,"email_enabled",x),className:"scale-90"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(T,{className:"flex items-center gap-2 text-sm",children:[s.jsx(S5,{className:"h-3 w-3"}),t==="ar"?" ":"Push Notifications"]}),s.jsx(qt,{checked:y.push_enabled,onCheckedChange:x=>u(v,"push_enabled",x),className:"scale-90"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(T,{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ki,{className:"h-3 w-3"}),t==="ar"?" ":"SMS"]}),s.jsx(qt,{checked:y.sms_enabled,onCheckedChange:x=>u(v,"sms_enabled",x),className:"scale-90"})]})]}),s.jsx(js,{})]},v)}),s.jsx("div",{className:"flex justify-end",children:s.jsx($,{onClick:h,disabled:o,children:o?t==="ar"?" ...":"Saving...":t==="ar"?" ":"Save Changes"})})]})]})},hfe=()=>{const{user:e}=ot(),{language:t,setLanguage:n,t:r}=Te(),[a,i]=m.useState({emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,gradeAlerts:!0,attendanceAlerts:!0,messageAlerts:!0,paymentReminders:!0,theme:"light",fontSize:"medium",showProfile:!0,showGrades:!0,showAttendance:!0,allowMessages:!0,soundEnabled:!0,soundVolume:70}),[o,l]=m.useState({current:"",new:"",confirm:""}),[c,d]=m.useState({current:!1,new:!1,confirm:!1}),u=()=>{ae({title:t==="en"?"Settings Updated":"  ",description:t==="en"?"Your preferences have been saved successfully.":"   .",variant:"success"})},h=()=>{if(o.new!==o.confirm){ae({title:t==="en"?"Password Mismatch":"   ",description:t==="en"?"New passwords do not match.":"    .",variant:"destructive"});return}l({current:"",new:"",confirm:""}),ae({title:t==="en"?"Password Changed":"   ",description:t==="en"?"Your password has been updated successfully.":"      .",variant:"success"})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-3xl font-bold",children:t==="ar"?"":"Settings"}),s.jsxs(gn,{defaultValue:"general",className:"w-full",dir:t==="ar"?"rtl":"ltr",children:[s.jsxs(sn,{className:`grid w-full grid-cols-4 ${t==="ar"?"flex-row-reverse":""}`,children:[s.jsx(_e,{value:"general",children:t==="ar"?"":"General"}),s.jsx(_e,{value:"notifications",children:t==="ar"?"":"Notifications"}),s.jsx(_e,{value:"privacy",children:t==="ar"?"":"Privacy"}),s.jsx(_e,{value:"security",children:t==="ar"?"":"Security"})]}),s.jsx(Re,{value:"general",className:"space-y-4",children:s.jsxs(q,{children:[s.jsxs(te,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(wy,{className:"h-5 w-5"}),t==="ar"?" ":"General Settings"]}),s.jsx(wn,{children:t==="ar"?"  ":"Customize your general preferences"})]}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(T,{children:t==="ar"?"":"Language"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t==="ar"?"   ":"Choose your preferred display language"})]}),s.jsxs(Pe,{value:t,onValueChange:n,children:[s.jsx(ke,{className:"w-[180px]",children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"en",children:"English"}),s.jsx(K,{value:"ar",children:""})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs(T,{className:"flex items-center gap-2",children:[s.jsx(EJ,{className:"h-4 w-4"}),t==="ar"?"":"Theme"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t==="ar"?"    ":"Choose between light and dark mode"})]}),s.jsxs(Pe,{value:a.theme,onValueChange:f=>i({...a,theme:f}),children:[s.jsx(ke,{className:"w-[180px]",children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"light",children:t==="ar"?"":"Light"}),s.jsx(K,{value:"dark",children:t==="ar"?"":"Dark"}),s.jsx(K,{value:"system",children:t==="ar"?"":"System"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs(T,{className:"flex items-center gap-2",children:[s.jsx($J,{className:"h-4 w-4"}),t==="ar"?"":"Sound"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t==="ar"?"  ":"Enable application sounds"})]}),s.jsx(qt,{checked:a.soundEnabled,onCheckedChange:f=>i({...a,soundEnabled:f})})]})]})]})}),s.jsx(Re,{value:"notifications",className:"space-y-4",children:s.jsx(ufe,{})}),s.jsx(Re,{value:"privacy",className:"space-y-4",children:s.jsxs(q,{children:[s.jsxs(te,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Pn,{className:"h-5 w-5"}),t==="ar"?" ":"Privacy Settings"]}),s.jsx(wn,{children:t==="ar"?"     ":"Control who can see your information"})]}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(T,{children:t==="ar"?"  ":"Show Profile"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t==="ar"?"    ":"Allow others to view your profile"})]}),s.jsx(qt,{checked:a.showProfile,onCheckedChange:f=>i({...a,showProfile:f})})]}),(e==null?void 0:e.role)==="student"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(T,{children:t==="ar"?" ":"Show Grades"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t==="ar"?"   ":"Allow parents to see your grades"})]}),s.jsx(qt,{checked:a.showGrades,onCheckedChange:f=>i({...a,showGrades:f})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(T,{children:t==="ar"?" ":"Show Attendance"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t==="ar"?"    ":"Allow parents to see your attendance record"})]}),s.jsx(qt,{checked:a.showAttendance,onCheckedChange:f=>i({...a,showAttendance:f})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(T,{children:t==="ar"?" ":"Allow Messages"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t==="ar"?"    ":"Allow others to send you messages"})]}),s.jsx(qt,{checked:a.allowMessages,onCheckedChange:f=>i({...a,allowMessages:f})})]})]})]})}),s.jsx(Re,{value:"security",className:"space-y-4",children:s.jsxs(q,{children:[s.jsxs(te,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(ta,{className:"h-5 w-5"}),t==="ar"?"":"Security"]}),s.jsx(wn,{children:t==="ar"?"    ":"Manage your password and security settings"})]}),s.jsxs(G,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(C1,{className:"h-4 w-4"}),t==="ar"?"  ":"Change Password"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"current-password",children:t==="ar"?"  ":"Current Password"}),s.jsxs("div",{className:"relative",dir:"ltr",children:[s.jsx(F,{id:"current-password",type:c.current?"text":"password",value:o.current,onChange:f=>l({...o,current:f.target.value}),placeholder:t==="ar"?"   ":"Enter current password",className:"pr-12",dir:"ltr"}),s.jsx($,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 hover:bg-transparent",onClick:()=>d({...c,current:!c.current}),children:c.current?s.jsx(Qr,{className:"h-4 w-4"}):s.jsx(Pn,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"new-password",children:t==="ar"?"  ":"New Password"}),s.jsxs("div",{className:"relative",dir:"ltr",children:[s.jsx(F,{id:"new-password",type:c.new?"text":"password",value:o.new,onChange:f=>l({...o,new:f.target.value}),placeholder:t==="ar"?"   ":"Enter new password",className:"pr-12",dir:"ltr"}),s.jsx($,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 hover:bg-transparent",onClick:()=>d({...c,new:!c.new}),children:c.new?s.jsx(Qr,{className:"h-4 w-4"}):s.jsx(Pn,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"confirm-password",children:t==="ar"?"  ":"Confirm Password"}),s.jsxs("div",{className:"relative",dir:"ltr",children:[s.jsx(F,{id:"confirm-password",type:c.confirm?"text":"password",value:o.confirm,onChange:f=>l({...o,confirm:f.target.value}),placeholder:t==="ar"?"   ":"Confirm new password",className:"pr-12",dir:"ltr"}),s.jsx($,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 hover:bg-transparent",onClick:()=>d({...c,confirm:!c.confirm}),children:c.confirm?s.jsx(Qr,{className:"h-4 w-4"}):s.jsx(Pn,{className:"h-4 w-4"})})]})]}),s.jsx($,{onClick:h,className:"w-full",children:t==="ar"?"  ":"Change Password"})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:t==="ar"?"  ":"Login Sessions"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[t==="ar"?"  : ":"Last login: ",new Date().toLocaleDateString()]})]})})]})]})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx($,{onClick:u,children:t==="ar"?" ":"Save Settings"})})]})};var R8="AlertDialog",[ffe,RTe]=Ln(R8,[TB]),oo=TB(),I8=e=>{const{__scopeAlertDialog:t,...n}=e,r=oo(t);return s.jsx(e0,{...r,...n,modal:!0})};I8.displayName=R8;var mfe="AlertDialogTrigger",pfe=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=oo(n);return s.jsx(EC,{...a,...r,ref:t})});pfe.displayName=mfe;var gfe="AlertDialogPortal",$8=e=>{const{__scopeAlertDialog:t,...n}=e,r=oo(t);return s.jsx(t0,{...r,...n})};$8.displayName=gfe;var vfe="AlertDialogOverlay",L8=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=oo(n);return s.jsx(sh,{...a,...r,ref:t})});L8.displayName=vfe;var Hd="AlertDialogContent",[xfe,yfe]=ffe(Hd),jfe=$3("AlertDialogContent"),F8=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,i=oo(n),o=m.useRef(null),l=Ze(t,o),c=m.useRef(null);return s.jsx(yde,{contentName:Hd,titleName:B8,docsSlug:"alert-dialog",children:s.jsx(xfe,{scope:n,cancelRef:c,children:s.jsxs(ah,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:ge(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(jfe,{children:r}),s.jsx(bfe,{contentRef:o})]})})})});F8.displayName=Hd;var B8="AlertDialogTitle",z8=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=oo(n);return s.jsx(Zm,{...a,...r,ref:t})});z8.displayName=B8;var U8="AlertDialogDescription",V8=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=oo(n);return s.jsx(Qm,{...a,...r,ref:t})});V8.displayName=U8;var wfe="AlertDialogAction",W8=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=oo(n);return s.jsx(n0,{...a,...r,ref:t})});W8.displayName=wfe;var q8="AlertDialogCancel",H8=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=yfe(q8,n),i=oo(n),o=Ze(t,a);return s.jsx(n0,{...i,...r,ref:o})});H8.displayName=q8;var bfe=({contentRef:e})=>{const t=`\`${Hd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Hd}\` by passing a \`${U8}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Hd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Nfe=I8,_fe=$8,K8=L8,G8=F8,Y8=W8,X8=H8,Z8=z8,Q8=V8;const hi=Nfe,Sfe=_fe,J8=m.forwardRef(({className:e,...t},n)=>s.jsx(K8,{className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));J8.displayName=K8.displayName;const Ta=m.forwardRef(({className:e,...t},n)=>s.jsxs(Sfe,{children:[s.jsx(J8,{}),s.jsx(G8,{ref:n,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Ta.displayName=G8.displayName;const Oa=({className:e,...t})=>s.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",e),...t});Oa.displayName="AlertDialogHeader";const Ma=({className:e,...t})=>s.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ma.displayName="AlertDialogFooter";const Da=m.forwardRef(({className:e,...t},n)=>s.jsx(Z8,{ref:n,className:me("text-lg font-semibold",e),...t}));Da.displayName=Z8.displayName;const Ra=m.forwardRef(({className:e,...t},n)=>s.jsx(Q8,{ref:n,className:me("text-sm text-muted-foreground",e),...t}));Ra.displayName=Q8.displayName;const Ia=m.forwardRef(({className:e,...t},n)=>s.jsx(Y8,{ref:n,className:me(om(),e),...t}));Ia.displayName=Y8.displayName;const $a=m.forwardRef(({className:e,...t},n)=>s.jsx(X8,{ref:n,className:me(om({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));$a.displayName=X8.displayName;var o0="Checkbox",[Cfe,ITe]=Ln(o0),[kfe,VC]=Cfe(o0);function Afe(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=e,[f,p]=Ca({prop:n,defaultProp:a??!1,onChange:c,caller:o0}),[g,v]=m.useState(null),[j,y]=m.useState(null),x=m.useRef(!1),w=g?!!o||!!g.closest("form"):!0,b={checked:f,disabled:i,setChecked:p,control:g,setControl:v,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:x,required:d,defaultChecked:rl(a)?!1:a,isFormControl:w,bubbleInput:j,setBubbleInput:y};return s.jsx(kfe,{scope:t,...b,children:Pfe(h)?h(b):r})}var e9="CheckboxTrigger",t9=m.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:g}=VC(e9,e),v=Ze(a,u),j=m.useRef(c);return m.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const x=()=>h(j.current);return y.addEventListener("reset",x),()=>y.removeEventListener("reset",x)}},[i,h]),s.jsx(Ce.button,{type:"button",role:"checkbox","aria-checked":rl(c)?"mixed":c,"aria-required":d,"data-state":i9(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:v,onKeyDown:ge(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:ge(n,y=>{h(x=>rl(x)?!0:!x),g&&p&&(f.current=y.isPropagationStopped(),f.current||y.stopPropagation())})})});t9.displayName=e9;var WC=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=e;return s.jsx(Afe,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:f})=>s.jsxs(s.Fragment,{children:[s.jsx(t9,{...h,ref:t,__scopeCheckbox:n}),f&&s.jsx(a9,{__scopeCheckbox:n})]})})});WC.displayName=o0;var n9="CheckboxIndicator",r9=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=VC(n9,n);return s.jsx(Fn,{present:r||rl(i.checked)||i.checked===!0,children:s.jsx(Ce.span,{"data-state":i9(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});r9.displayName=n9;var s9="CheckboxBubbleInput",a9=m.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:f,setBubbleInput:p}=VC(s9,e),g=Ze(n,p),v=Yy(i),j=Cy(r);m.useEffect(()=>{const x=f;if(!x)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set,_=!a.current;if(v!==i&&S){const N=new Event("click",{bubbles:_});x.indeterminate=rl(i),S.call(x,rl(i)?!1:i),x.dispatchEvent(N)}},[f,v,i,a]);const y=m.useRef(rl(i)?!1:i);return s.jsx(Ce.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:d,value:u,form:h,...t,tabIndex:-1,ref:g,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});a9.displayName=s9;function Pfe(e){return typeof e=="function"}function rl(e){return e==="indeterminate"}function i9(e){return rl(e)?"indeterminate":e?"checked":"unchecked"}const un=m.forwardRef(({className:e,...t},n)=>s.jsx(WC,{ref:n,className:me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(r9,{className:me("flex items-center justify-center text-current"),children:s.jsx(Hi,{className:"h-4 w-4"})})}));un.displayName=WC.displayName;const Efe=i0({firstName:He().trim().min(1,"First name is required").max(50),lastName:He().trim().min(1,"Last name is required").max(50),firstNameAr:He().trim().min(1,"Arabic first name is required").max(50),lastNameAr:He().trim().min(1,"Arabic last name is required").max(50),dateOfBirth:He().min(1,"Date of birth is required"),gender:ife(["male","female"],{required_error:"Gender is required"}),nationality:He().min(1,"Nationality is required"),civilId:He().trim().min(1,"Civil ID is required").max(20),grade:He().min(1,"Grade is required"),class:He().min(1,"Class is required"),academicYear:He().min(1,"Academic year is required"),enrollmentDate:He().min(1,"Enrollment date is required"),previousSchool:He().optional(),email:He().trim().email("Invalid email").max(255),phone:He().trim().regex(/^\+968\s?\d{4}\s?\d{4}$/,"Invalid phone number"),address:He().trim().min(1,"Address is required").max(200),parentName:He().trim().min(1,"Parent name is required").max(100),parentNameAr:He().trim().min(1,"Arabic parent name is required").max(100),parentPhone:He().trim().regex(/^\+968\s?\d{4}\s?\d{4}$/,"Invalid parent phone"),parentEmail:He().trim().email("Invalid parent email").max(255),parentOccupation:He().optional(),relationship:He().min(1,"Relationship is required"),bloodGroup:He().min(1,"Blood group is required"),allergies:He().optional(),medicalConditions:He().optional(),medications:He().optional(),emergencyContact:He().trim().regex(/^\+968\s?\d{4}\s?\d{4}$/,"Invalid emergency contact"),emergencyContactName:He().trim().min(1,"Emergency contact name is required"),transportationAgreement:ld(),canteenAgreement:ld(),uniformAgreement:ld(),photoAgreement:ld(),medicalAgreement:ld(),termsAgreement:ld()});function Tfe({isOpen:e,onClose:t,editingStudent:n}){const{language:r}=Te(),{students:a,addStudent:i,updateStudent:o,deleteStudent:l}=zy(),[c,d]=m.useState("basic"),[u,h]=m.useState(""),[f,p]=m.useState(null),[g,v]=m.useState(!1),[j,y]=m.useState(!1);m.useEffect(()=>{n?(w({firstName:n.firstName||"",lastName:n.lastName||"",firstNameAr:n.firstNameAr||"",lastNameAr:n.lastNameAr||"",dateOfBirth:n.dateOfBirth||"",gender:n.gender||"",nationality:n.nationality||"Omani",civilId:n.civilId||"",grade:n.grade||"",class:n.class||"",academicYear:n.academicYear||new Date().getFullYear().toString(),enrollmentDate:n.enrollmentDate||new Date().toISOString().split("T")[0],previousSchool:n.previousSchool||"",email:n.email||"",phone:n.phone||"+968 ",address:n.address||"",parentName:n.parentName||"",parentNameAr:n.parentNameAr||"",parentPhone:n.parentPhone||"+968 ",parentEmail:n.parentEmail||"",parentOccupation:n.parentOccupation||"",relationship:n.relationship||"",bloodGroup:n.bloodGroup||"",allergies:n.allergies||"",medicalConditions:n.medicalConditions||"",medications:n.medications||"",emergencyContact:n.emergencyContact||"+968 ",emergencyContactName:n.emergencyContactName||"",transportationAgreement:n.transportationAgreement||!1,canteenAgreement:n.canteenAgreement||!1,uniformAgreement:n.uniformAgreement||!1,photoAgreement:n.photoAgreement||!1,medicalAgreement:n.medicalAgreement||!1,termsAgreement:n.termsAgreement||!1}),h(n.profileImage||""),v(!0)):(w({firstName:"",lastName:"",firstNameAr:"",lastNameAr:"",dateOfBirth:"",gender:"",nationality:"Omani",civilId:"",grade:"",class:"",academicYear:new Date().getFullYear().toString(),enrollmentDate:new Date().toISOString().split("T")[0],previousSchool:"",email:"",phone:"+968 ",address:"",parentName:"",parentNameAr:"",parentPhone:"+968 ",parentEmail:"",parentOccupation:"",relationship:"",bloodGroup:"",allergies:"",medicalConditions:"",medications:"",emergencyContact:"+968 ",emergencyContactName:"",transportationAgreement:!1,canteenAgreement:!1,uniformAgreement:!1,photoAgreement:!1,medicalAgreement:!1,termsAgreement:!1}),h(""),v(!1))},[n]);const[x,w]=m.useState({firstName:"",lastName:"",firstNameAr:"",lastNameAr:"",dateOfBirth:"",gender:"",nationality:"Omani",civilId:"",grade:"",class:"",academicYear:new Date().getFullYear().toString(),enrollmentDate:new Date().toISOString().split("T")[0],previousSchool:"",email:"",phone:"+968 ",address:"",parentName:"",parentNameAr:"",parentPhone:"+968 ",parentEmail:"",parentOccupation:"",relationship:"",bloodGroup:"",allergies:"",medicalConditions:"",medications:"",emergencyContact:"+968 ",emergencyContactName:"",transportationAgreement:!1,canteenAgreement:!1,uniformAgreement:!1,photoAgreement:!1,medicalAgreement:!1,termsAgreement:!1}),b=A=>{var M;const O=(M=A.target.files)==null?void 0:M[0];if(O){if(O.size>5*1024*1024){ae({title:r==="en"?"File too large":"  ",description:r==="en"?"Please select an image under 5MB":"     5 ",variant:"destructive"});return}const z=new FileReader;z.onloadend=()=>{h(z.result)},z.readAsDataURL(O)}},S=()=>{try{if(Efe.parse(x),n&&n.id)o(n.id,{...x,profileImage:u||n.profileImage||void 0}),ae({title:r==="en"?"Update Successful":" ",description:r==="en"?`Student ${x.firstName} ${x.lastName} has been updated successfully`:`   ${x.firstNameAr} ${x.lastNameAr} `});else{const A={...x,profileImage:u||void 0};i(A),ae({title:r==="en"?"Registration Successful":" ",description:r==="en"?`Student ${x.firstName} ${x.lastName} has been registered successfully`:`   ${x.firstNameAr} ${x.lastNameAr} `}),w({firstName:"",lastName:"",firstNameAr:"",lastNameAr:"",dateOfBirth:"",gender:"",nationality:"Omani",civilId:"",grade:"",class:"",academicYear:new Date().getFullYear().toString(),enrollmentDate:new Date().toISOString().split("T")[0],previousSchool:"",email:"",phone:"+968 ",address:"",parentName:"",parentNameAr:"",parentPhone:"+968 ",parentEmail:"",parentOccupation:"",relationship:"",bloodGroup:"",allergies:"",medicalConditions:"",medications:"",emergencyContact:"+968 ",emergencyContactName:"",transportationAgreement:!1,canteenAgreement:!1,uniformAgreement:!1,photoAgreement:!1,medicalAgreement:!1,termsAgreement:!1}),h(""),d("basic")}t()}catch(A){if(A instanceof As){ae({title:r==="en"?"Validation Error":"  ",description:A.errors[0].message,variant:"destructive"});const O=A.errors[0].path[0];["firstName","lastName","firstNameAr","lastNameAr","dateOfBirth","gender","nationality","civilId"].includes(O)?d("basic"):["grade","class","academicYear","enrollmentDate","previousSchool"].includes(O)?d("academic"):["email","phone","address"].includes(O)?d("contact"):O.startsWith("parent")||O==="relationship"?d("parent"):O.includes("medical")||O.includes("emergency")||O==="bloodGroup"||O==="allergies"?d("medical"):d("agreements")}}},_=A=>{p(A),v(!0),w({...A,phone:A.phone||"+968 ",parentPhone:A.parentPhone||"+968 ",emergencyContact:A.emergencyContact||"+968 "}),h(A.profileImage||"")},N=()=>{f&&o(f.id,{...x,profileImage:u}),ae({title:r==="en"?"Student Updated":"  ",description:r==="en"?"Student information has been updated successfully":"    "}),v(!1),p(null)},C=()=>{y(!0)},k=()=>{n&&n.id&&(l(n.id),ae({title:r==="en"?"Student Deleted":"  ",description:r==="en"?`${n.firstName} ${n.lastName} has been deleted successfully`:`  ${n.firstNameAr} ${n.lastNameAr} `}),y(!1),t())};return s.jsxs(s.Fragment,{children:[s.jsx(qe,{open:e,onOpenChange:t,children:s.jsxs(Ve,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col p-0",dir:r==="ar"?"rtl":"ltr",children:[s.jsx(Ke,{className:"px-6 pt-6 pb-4 border-b",children:s.jsx(Ge,{className:"text-xl font-bold",children:n?r==="en"?"Edit Student":" ":r==="en"?"Student Registration":" "})}),s.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:s.jsxs(gn,{value:c,onValueChange:d,className:"h-full",dir:r==="ar"?"rtl":"ltr",children:[s.jsxs(sn,{className:`grid grid-cols-7 w-full mb-4 sticky top-0 z-10 bg-background ${r==="ar"?"flex-row-reverse":""}`,children:[s.jsx(_e,{value:"basic",children:r==="en"?"Basic":""}),s.jsx(_e,{value:"academic",children:r==="en"?"Academic":""}),s.jsx(_e,{value:"contact",children:r==="en"?"Contact":""}),s.jsx(_e,{value:"parent",children:r==="en"?"Parent":" "}),s.jsx(_e,{value:"medical",children:r==="en"?"Medical":""}),s.jsx(_e,{value:"agreements",children:r==="en"?"Agreements":""}),s.jsx(_e,{value:"saved",children:r==="en"?"Saved":""})]}),s.jsxs("div",{className:"pb-4",children:[s.jsxs(Re,{value:"basic",className:"space-y-4",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsxs(fn,{className:"h-32 w-32",children:[s.jsx(sr,{src:u}),s.jsx(mn,{children:s.jsx(as,{className:"h-12 w-12"})})]}),s.jsxs(T,{htmlFor:"photo-upload",className:"absolute bottom-0 right-0 bg-primary text-primary-foreground rounded-full p-2 cursor-pointer hover:bg-primary/90",children:[s.jsx(Zf,{className:"h-4 w-4"}),s.jsx(F,{id:"photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:b})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"firstName",children:r==="en"?"First Name":" "}),s.jsx(F,{id:"firstName",value:x.firstName,onChange:A=>w({...x,firstName:A.target.value}),placeholder:r==="en"?"Enter first name":"  ",dir:r==="ar"?"rtl":"ltr"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"lastName",children:r==="en"?"Last Name":" "}),s.jsx(F,{id:"lastName",value:x.lastName,onChange:A=>w({...x,lastName:A.target.value}),placeholder:r==="en"?"Enter last name":"  ",dir:r==="ar"?"rtl":"ltr"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"firstNameAr",children:r==="en"?"First Name (Arabic)":"  ()"}),s.jsx(F,{id:"firstNameAr",value:x.firstNameAr,onChange:A=>w({...x,firstNameAr:A.target.value}),placeholder:r==="en"?"Enter Arabic first name":"   ",dir:"rtl"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"lastNameAr",children:r==="en"?"Last Name (Arabic)":"  ()"}),s.jsx(F,{id:"lastNameAr",value:x.lastNameAr,onChange:A=>w({...x,lastNameAr:A.target.value}),placeholder:r==="en"?"Enter Arabic last name":"   ",dir:"rtl"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"dateOfBirth",children:r==="en"?"Date of Birth":" "}),s.jsx(F,{id:"dateOfBirth",type:"date",value:x.dateOfBirth,onChange:A=>w({...x,dateOfBirth:A.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"gender",children:r==="en"?"Gender":""}),s.jsxs(Pe,{value:x.gender,onValueChange:A=>w({...x,gender:A}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:r==="en"?"Select gender":" "})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"male",children:r==="en"?"Male":""}),s.jsx(K,{value:"female",children:r==="en"?"Female":""})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"nationality",children:r==="en"?"Nationality":""}),s.jsx(F,{id:"nationality",value:x.nationality,onChange:A=>w({...x,nationality:A.target.value}),placeholder:r==="en"?"Enter nationality":" ",dir:r==="ar"?"rtl":"ltr"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"civilId",children:r==="en"?"Civil ID":" "}),s.jsx(F,{id:"civilId",value:x.civilId,onChange:A=>w({...x,civilId:A.target.value}),placeholder:r==="en"?"Enter civil ID":"   ",dir:r==="ar"?"rtl":"ltr"})]})]})]}),s.jsx(Re,{value:"academic",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"grade",children:r==="en"?"Grade":""}),s.jsxs(Pe,{value:x.grade,onValueChange:A=>w({...x,grade:A}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:r==="en"?"Select grade":" "})}),s.jsx(Ae,{children:[1,2,3,4,5,6,7,8,9,10,11,12].map(A=>s.jsx(K,{value:A.toString(),children:r==="en"?`Grade ${A}`:` ${A}`},A))})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"class",children:r==="en"?"Class":""}),s.jsxs(Pe,{value:x.class,onValueChange:A=>w({...x,class:A}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:r==="en"?"Select class":" "})}),s.jsx(Ae,{children:["A","B","C","D"].map(A=>s.jsxs(K,{value:`${x.grade}-${A}`,children:[x.grade,"-",A]},A))})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"academicYear",children:r==="en"?"Academic Year":" "}),s.jsx(F,{id:"academicYear",value:x.academicYear,onChange:A=>w({...x,academicYear:A.target.value}),placeholder:r==="en"?"e.g., 2024":" 2024",dir:r==="ar"?"rtl":"ltr"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"enrollmentDate",children:r==="en"?"Enrollment Date":" "}),s.jsx(F,{id:"enrollmentDate",type:"date",value:x.enrollmentDate,onChange:A=>w({...x,enrollmentDate:A.target.value})})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(T,{htmlFor:"previousSchool",children:r==="en"?"Previous School (Optional)":"  ()"}),s.jsx(F,{id:"previousSchool",value:x.previousSchool,onChange:A=>w({...x,previousSchool:A.target.value}),placeholder:r==="en"?"Enter previous school name":"   ",dir:r==="ar"?"rtl":"ltr"})]})]})}),s.jsx(Re,{value:"contact",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"email",children:r==="en"?"Email":" "}),s.jsx(F,{id:"email",type:"email",value:x.email,onChange:A=>w({...x,email:A.target.value}),placeholder:"student@school.om"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"phone",children:r==="en"?"Phone":" "}),s.jsx(F,{id:"phone",value:x.phone,onChange:A=>w({...x,phone:A.target.value}),placeholder:"+968 9123 4567",type:"tel"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(T,{htmlFor:"address",children:r==="en"?"Address":""}),s.jsx(F,{id:"address",value:x.address,onChange:A=>w({...x,address:A.target.value}),placeholder:r==="en"?"Enter full address":"  ",dir:r==="ar"?"rtl":"ltr"})]})]})}),s.jsx(Re,{value:"parent",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"parentName",children:r==="en"?"Parent/Guardian Name":"  "}),s.jsx(F,{id:"parentName",value:x.parentName,onChange:A=>w({...x,parentName:A.target.value}),placeholder:r==="en"?"Enter parent name":"   ",dir:r==="ar"?"rtl":"ltr"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"parentNameAr",children:r==="en"?"Parent Name (Arabic)":"   ()"}),s.jsx(F,{id:"parentNameAr",value:x.parentNameAr,onChange:A=>w({...x,parentNameAr:A.target.value}),placeholder:r==="en"?"Enter Arabic parent name":"    ",dir:"rtl"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"relationship",children:r==="en"?"Relationship":" "}),s.jsxs(Pe,{value:x.relationship,onValueChange:A=>w({...x,relationship:A}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:r==="en"?"Select relationship":"  "})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"father",children:r==="en"?"Father":""}),s.jsx(K,{value:"mother",children:r==="en"?"Mother":""}),s.jsx(K,{value:"guardian",children:r==="en"?"Guardian":""})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"parentPhone",children:r==="en"?"Parent Phone":"  "}),s.jsx(F,{id:"parentPhone",value:x.parentPhone,onChange:A=>w({...x,parentPhone:A.target.value}),placeholder:"+968 9123 4567",type:"tel"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"parentEmail",children:r==="en"?"Parent Email":"  "}),s.jsx(F,{id:"parentEmail",type:"email",value:x.parentEmail,onChange:A=>w({...x,parentEmail:A.target.value}),placeholder:"parent@email.com"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"parentOccupation",children:r==="en"?"Parent Occupation (Optional)":"   ()"}),s.jsx(F,{id:"parentOccupation",value:x.parentOccupation,onChange:A=>w({...x,parentOccupation:A.target.value}),placeholder:r==="en"?"Enter occupation":" ",dir:r==="ar"?"rtl":"ltr"})]})]})}),s.jsx(Re,{value:"medical",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"bloodGroup",children:r==="en"?"Blood Group":" "}),s.jsxs(Pe,{value:x.bloodGroup,onValueChange:A=>w({...x,bloodGroup:A}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:r==="en"?"Select blood group":"  "})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"A+",children:"A+"}),s.jsx(K,{value:"A-",children:"A-"}),s.jsx(K,{value:"B+",children:"B+"}),s.jsx(K,{value:"B-",children:"B-"}),s.jsx(K,{value:"AB+",children:"AB+"}),s.jsx(K,{value:"AB-",children:"AB-"}),s.jsx(K,{value:"O+",children:"O+"}),s.jsx(K,{value:"O-",children:"O-"})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"emergencyContactName",children:r==="en"?"Emergency Contact Name":"   "}),s.jsx(F,{id:"emergencyContactName",value:x.emergencyContactName,onChange:A=>w({...x,emergencyContactName:A.target.value}),placeholder:r==="en"?"Enter contact name":"   ",dir:r==="ar"?"rtl":"ltr"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"emergencyContact",children:r==="en"?"Emergency Contact Number":" "}),s.jsx(F,{id:"emergencyContact",value:x.emergencyContact,onChange:A=>w({...x,emergencyContact:A.target.value}),placeholder:"+968 9123 4567",type:"tel"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"allergies",children:r==="en"?"Allergies (Optional)":" ()"}),s.jsx(F,{id:"allergies",value:x.allergies,onChange:A=>w({...x,allergies:A.target.value}),placeholder:r==="en"?"e.g., Peanuts, Dairy":"    ",dir:r==="ar"?"rtl":"ltr"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(T,{htmlFor:"medicalConditions",children:r==="en"?"Medical Conditions (Optional)":"  ()"}),s.jsx(F,{id:"medicalConditions",value:x.medicalConditions,onChange:A=>w({...x,medicalConditions:A.target.value}),placeholder:r==="en"?"Enter any medical conditions":"   ",dir:r==="ar"?"rtl":"ltr"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(T,{htmlFor:"medications",children:r==="en"?"Medications (Optional)":" ()"}),s.jsx(F,{id:"medications",value:x.medications,onChange:A=>w({...x,medications:A.target.value}),placeholder:r==="en"?"Enter any regular medications":"   ",dir:r==="ar"?"rtl":"ltr"})]})]})}),s.jsx(Re,{value:"agreements",className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:`flex items-start ${r==="ar"?"space-x-reverse space-x-3":"space-x-3"}`,children:[s.jsx(un,{id:"transportation",checked:x.transportationAgreement,onCheckedChange:A=>w({...x,transportationAgreement:A})}),s.jsxs("div",{className:"grid gap-1.5 leading-none",children:[s.jsxs(T,{htmlFor:"transportation",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(bn,{className:"h-4 w-4"}),r==="en"?"Transportation Agreement":" "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r==="en"?"I agree to enroll my child in the school transportation service":"       "})]})]}),s.jsxs("div",{className:`flex items-start ${r==="ar"?"space-x-reverse space-x-3":"space-x-3"}`,children:[s.jsx(un,{id:"canteen",checked:x.canteenAgreement,onCheckedChange:A=>w({...x,canteenAgreement:A})}),s.jsxs("div",{className:"grid gap-1.5 leading-none",children:[s.jsxs(T,{htmlFor:"canteen",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Qa,{className:"h-4 w-4"}),r==="en"?"Canteen Agreement":" "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r==="en"?"I agree to allow my child to use the school canteen services":"       "})]})]}),s.jsxs("div",{className:`flex items-start ${r==="ar"?"space-x-reverse space-x-3":"space-x-3"}`,children:[s.jsx(un,{id:"uniform",checked:x.uniformAgreement,onCheckedChange:A=>w({...x,uniformAgreement:A})}),s.jsxs("div",{className:"grid gap-1.5 leading-none",children:[s.jsxs(T,{htmlFor:"uniform",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(so,{className:"h-4 w-4"}),r==="en"?"Uniform Agreement":"  "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r==="en"?"I agree to the school uniform policy and requirements":"     "})]})]}),s.jsxs("div",{className:`flex items-start ${r==="ar"?"space-x-reverse space-x-3":"space-x-3"}`,children:[s.jsx(un,{id:"photo",checked:x.photoAgreement,onCheckedChange:A=>w({...x,photoAgreement:A})}),s.jsxs("div",{className:"grid gap-1.5 leading-none",children:[s.jsxs(T,{htmlFor:"photo",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Zf,{className:"h-4 w-4"}),r==="en"?"Photo/Video Agreement":" /"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r==="en"?"I consent to my child being photographed/videoed for school purposes":"     "})]})]}),s.jsxs("div",{className:`flex items-start ${r==="ar"?"space-x-reverse space-x-3":"space-x-3"}`,children:[s.jsx(un,{id:"medical",checked:x.medicalAgreement,onCheckedChange:A=>w({...x,medicalAgreement:A})}),s.jsxs("div",{className:"grid gap-1.5 leading-none",children:[s.jsxs(T,{htmlFor:"medical",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Dr,{className:"h-4 w-4"}),r==="en"?"Medical Agreement":" "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r==="en"?"I authorize the school to seek medical treatment in case of emergency":"       "})]})]}),s.jsxs("div",{className:`flex items-start ${r==="ar"?"space-x-reverse space-x-3":"space-x-3"}`,children:[s.jsx(un,{id:"terms",checked:x.termsAgreement,onCheckedChange:A=>w({...x,termsAgreement:A})}),s.jsxs("div",{className:"grid gap-1.5 leading-none",children:[s.jsxs(T,{htmlFor:"terms",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Vt,{className:"h-4 w-4"}),r==="en"?"Terms & Conditions":" "]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r==="en"?"I agree to all school terms, conditions, and policies":"      "})]})]})]})}),s.jsx(Re,{value:"saved",className:"space-y-4",children:s.jsx("div",{className:"grid gap-4",children:a.map(A=>s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(fn,{children:[s.jsx(sr,{src:A.profileImage}),s.jsx(mn,{children:A.firstName[0]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:r==="en"?`${A.firstName} ${A.lastName}`:`${A.firstNameAr} ${A.lastNameAr}`}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r==="en"?`Grade ${A.grade} - Class ${A.class}`:` ${A.grade} -  ${A.class}`}),s.jsxs("div",{className:"flex gap-4 mt-1",children:[A.transportationAgreement&&s.jsxs("span",{className:"text-xs flex items-center gap-1 text-success",children:[s.jsx(bn,{className:"h-3 w-3"}),r==="en"?"Transportation":""]}),A.canteenAgreement&&s.jsxs("span",{className:"text-xs flex items-center gap-1 text-success",children:[s.jsx(Qa,{className:"h-3 w-3"}),r==="en"?"Canteen":""]})]})]})]}),s.jsx($,{size:"sm",variant:"ghost",onClick:()=>_(A),children:s.jsx(Yn,{className:"h-4 w-4"})})]})},A.id))})})]})]})}),s.jsx(Nt,{className:"px-6 pb-6 pt-4 border-t mt-auto",children:s.jsxs("div",{className:"flex justify-between w-full",children:[s.jsx("div",{children:n&&s.jsxs($,{variant:"destructive",onClick:C,children:[s.jsx($n,{className:"h-4 w-4 mr-2"}),r==="en"?"Delete Student":" "]})}),s.jsx("div",{className:"flex gap-2",children:g?s.jsxs(s.Fragment,{children:[s.jsxs($,{variant:"outline",onClick:()=>{v(!1),p(null)},children:[s.jsx(Xn,{className:"h-4 w-4 mr-2"}),r==="en"?"Cancel Edit":" "]}),s.jsxs($,{onClick:N,children:[s.jsx(Wc,{className:"h-4 w-4 mr-2"}),r==="en"?"Save Changes":" "]})]}):s.jsxs(s.Fragment,{children:[s.jsx($,{variant:"outline",onClick:t,children:r==="en"?"Cancel":""}),s.jsx($,{onClick:S,children:n?r==="en"?"Update Student":" ":r==="en"?"Register Student":" "})]})})]})})]})}),s.jsx(hi,{open:j,onOpenChange:y,children:s.jsxs(Ta,{children:[s.jsxs(Oa,{children:[s.jsx(Da,{children:r==="en"?"Confirm Deletion":" "}),s.jsx(Ra,{children:r==="en"?`Are you sure you want to delete ${n==null?void 0:n.firstName} ${n==null?void 0:n.lastName}? This action cannot be undone.`:`     ${n==null?void 0:n.firstNameAr} ${n==null?void 0:n.lastNameAr}      .`})]}),s.jsxs(Ma,{children:[s.jsx($a,{children:r==="en"?"Cancel":""}),s.jsx(Ia,{onClick:k,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:r==="en"?"Delete Student":" "})]})]})})]})}function Ofe(){const{user:e,profile:t}=ot(),{t:n,language:r}=Te();ur();const{students:a,addStudent:i,updateStudent:o,deleteStudent:l,searchStudents:c}=zy(),[d,u]=m.useState(""),[h,f]=m.useState(null),[p,g]=m.useState([]),[v,j]=m.useState(!1),[y,x]=m.useState(null),[w,b]=m.useState(!1),[S,_]=m.useState(!1);m.useState("");const[N,C]=m.useState([]),[k,A]=m.useState(null),[O,M]=m.useState(!1),[z,P]=m.useState(!1),[E,U]=m.useState(null);m.useEffect(()=>{(async()=>{if((t==null?void 0:t.role)==="teacher"&&e){const{data:he}=await V.from("teachers").select("id").eq("profile_id",e.id).maybeSingle();if(he){const{data:D}=await V.from("teacher_classes").select(`
              class_id,
              classes (
                id,
                name,
                grade,
                section,
                total_students
              )
            `).eq("teacher_id",he.id);D&&C(D.map(ee=>ee.classes).filter(Boolean))}}})()},[e,t]);let R=a;(t==null?void 0:t.role)==="teacher"&&N.length>0&&(k?R=a.filter(X=>X.class===k.name):R=[]);const L=(d?R.filter(X=>X.firstName.toLowerCase().includes(d.toLowerCase())||X.lastName.toLowerCase().includes(d.toLowerCase())||X.email.toLowerCase().includes(d.toLowerCase())||X.class.toLowerCase().includes(d.toLowerCase())):R).map(X=>({id:X.id,name:`${X.firstName} ${X.lastName}`,nameAr:`${X.firstNameAr} ${X.lastNameAr}`,email:X.email,class:X.class,grade:X.grade,nfcId:X.nfcId||"",barcode:X.barcode||"",phone:X.phone,parentPhone:X.parentPhone,address:X.address,profileImage:X.profileImage||"",dateOfBirth:X.dateOfBirth,bloodGroup:X.bloodGroup,allergies:X.allergies||"",emergencyContact:X.emergencyContact})),Q=X=>{const he=a.find(D=>D.id===X.id);he&&(x(he),j(!0))},se=()=>{x(null),j(!0)},W=X=>{f(X),b(!0)},ie=()=>{_(!0),setTimeout(()=>{const X=L[Math.floor(Math.random()*L.length)];f(X),_(!1),b(!0),ae({title:"NFC Read Successful",description:`Found student: ${X.name}`})},2e3)},ue=(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="teacher",oe=X=>{U(X),P(!0)},Se=()=>{E&&(l(E.id),ae({title:r==="en"?"Student Deleted":"  ",description:r==="en"?`${E.name} has been deleted successfully`:`  ${E.name} `}),P(!1),U(null))},I=()=>{M(!0)},Z=()=>{p.forEach(he=>l(he));const X=p.length;g([]),ae({title:r==="en"?"Deleted Successfully":"  ",description:r==="en"?`${X} students have been deleted successfully`:`  ${X}  `}),M(!1)},J=X=>{g(he=>he.includes(X)?he.filter(D=>D!==X):[...he,X])};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:n("dashboard.students")}),s.jsx("p",{className:"text-muted-foreground",children:r==="en"?"Manage and view all student profiles":"    "})]}),s.jsxs("div",{className:"flex gap-2",children:[p.length>0&&(e==null?void 0:e.role)==="admin"&&s.jsxs($,{onClick:I,variant:"destructive",children:[s.jsx($n,{className:"h-4 w-4 mr-2"}),r==="en"?`Delete (${p.length})`:` (${p.length})`]}),s.jsxs($,{onClick:ie,variant:"outline",children:[s.jsx(eT,{className:"h-4 w-4 mr-2"}),r==="en"?"Read NFC":" NFC"]}),s.jsxs($,{onClick:se,children:[s.jsx(pu,{className:"h-4 w-4 mr-2"}),r==="en"?"Add Student":" "]})]})]}),(t==null?void 0:t.role)==="teacher"&&!k&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:r==="en"?"Select a Class":" "}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:N.map(X=>s.jsx(q,{className:"hover:shadow-lg transition-all cursor-pointer group",onClick:()=>A(X),children:s.jsxs(G,{className:"flex flex-col items-center justify-center gap-2 p-6",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary/10 group-hover:scale-110 transition-transform",children:s.jsx(Sr,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold text-lg",children:r==="en"?`Class ${X.name}`:` ${X.name}`}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r==="en"?`Grade ${X.grade} - Section ${X.section}`:` ${X.grade} -  ${X.section}`}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[X.total_students||0," ",r==="en"?"students":""]})]})]})},X.id))})]})}),(t==null?void 0:t.role)==="teacher"&&k&&s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx($,{onClick:()=>A(null),variant:"outline",size:"sm",children:r==="en"?" Back to Classes":"   "}),s.jsxs("div",{className:"text-lg font-medium",children:[r==="en"?`Class ${k.name}`:` ${k.name}`," -",r==="en"?` Grade ${k.grade}`:`  ${k.grade}`]})]}),((t==null?void 0:t.role)!=="teacher"||k)&&s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(F,{placeholder:r==="en"?"Search by name, NFC, or barcode...":"   NFC  ...",value:d,onChange:X=>u(X.target.value),className:"pl-10 number-display",dir:"ltr"})]}),s.jsxs($,{variant:"outline",children:[s.jsx(_5,{className:"h-4 w-4 mr-2"}),r==="en"?"Scan Barcode":" "]})]}),((t==null?void 0:t.role)!=="teacher"||k)&&s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:L.map(X=>s.jsxs(q,{className:"hover:shadow-lg transition-shadow relative",children:[(e==null?void 0:e.role)==="admin"&&s.jsx("div",{className:"absolute top-2 left-2 z-10",children:s.jsx(un,{checked:p.includes(X.id),onCheckedChange:()=>J(X.id)})}),s.jsx(te,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(fn,{className:"h-12 w-12",children:[s.jsx(sr,{src:X.profileImage}),s.jsx(mn,{children:X.name.charAt(0)})]}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-base",children:r==="en"?X.name:X.nameAr}),s.jsx("p",{className:"text-sm text-muted-foreground",children:X.class})]})]}),ue&&s.jsxs("div",{className:"flex gap-1",children:[s.jsx($,{size:"sm",variant:"ghost",onClick:()=>Q(X),children:s.jsx(Yn,{className:"h-4 w-4"})}),s.jsx($,{size:"sm",variant:"ghost",onClick:()=>oe(X),className:"text-destructive hover:text-destructive",children:s.jsx($n,{className:"h-4 w-4"})})]})]})}),s.jsxs(G,{children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"NFC ID:"}),s.jsx("span",{className:"font-medium",children:X.nfcId})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:[n("common.status"),":"]}),s.jsx("span",{className:"text-success font-medium",children:n("common.active")})]})]}),s.jsx($,{className:"w-full mt-4",variant:"outline",onClick:()=>W(X),children:r==="en"?"View Full Profile":"  "})]})]},X.id))}),s.jsx(Tfe,{isOpen:v,onClose:()=>{j(!1),x(null)},editingStudent:y}),s.jsx(qe,{open:w,onOpenChange:b,children:s.jsxs(Ve,{className:"max-w-3xl",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:r==="en"?"Student Profile":" "})}),h&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs(fn,{className:"h-24 w-24",children:[s.jsx(sr,{src:h.profileImage}),s.jsx(mn,{children:h.name.charAt(0)})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold",children:r==="en"?h.name:h.nameAr}),s.jsx("p",{className:"text-muted-foreground number-display",children:h.email}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n("parent.grade"),": ",s.jsx("span",{className:"number-display",children:h.grade})," | ",n("common.class"),": ",s.jsx("span",{className:"number-display",children:h.class})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:n("common.nfcId")}),s.jsx("p",{className:"font-medium number-display",children:h.nfcId})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:n("common.barcode")}),s.jsx("p",{className:"font-medium number-display",children:h.barcode})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:n("common.phone")}),s.jsx("p",{className:"font-medium number-display",children:h.phone})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:n("common.parentPhone")}),s.jsx("p",{className:"font-medium number-display",children:h.parentPhone})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:n("common.dateOfBirth")}),s.jsx("p",{className:"font-medium number-display",children:h.dateOfBirth})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:n("common.bloodGroup")}),s.jsx("p",{className:"font-medium",children:h.bloodGroup})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:n("common.address")}),s.jsx("p",{className:"font-medium",children:h.address})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:n("common.emergencyContact")}),s.jsx("p",{className:"font-medium number-display",children:h.emergencyContact})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(T,{className:"text-muted-foreground",children:n("common.allergies")}),s.jsx("p",{className:"font-medium",children:h.allergies})]})]})]})]})}),s.jsx(qe,{open:S,onOpenChange:_,children:s.jsxs(Ve,{children:[s.jsx(Ke,{children:s.jsx(Ge,{children:r==="en"?"Reading NFC Card...":"  NFC..."})}),s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(eT,{className:"h-16 w-16 text-primary animate-pulse"}),s.jsx("p",{className:"mt-4 text-muted-foreground",children:r==="en"?"Please tap the NFC card":"   NFC"})]})]})}),s.jsx(hi,{open:O,onOpenChange:M,children:s.jsxs(Ta,{children:[s.jsxs(Oa,{children:[s.jsx(Da,{children:r==="en"?"Confirm Bulk Deletion":"  "}),s.jsx(Ra,{children:r==="en"?`Are you sure you want to delete ${p.length} selected students? This action cannot be undone.`:`     ${p.length}        .`})]}),s.jsxs(Ma,{children:[s.jsx($a,{children:r==="en"?"Cancel":""}),s.jsx(Ia,{onClick:Z,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:r==="en"?`Delete ${p.length} Students`:` ${p.length} `})]})]})}),s.jsx(hi,{open:z,onOpenChange:P,children:s.jsxs(Ta,{children:[s.jsxs(Oa,{children:[s.jsx(Da,{children:r==="en"?"Confirm Delete":" "}),s.jsx(Ra,{children:r==="en"?`Are you sure you want to delete ${E==null?void 0:E.name}? This action cannot be undone.`:`     ${E==null?void 0:E.name}      .`})]}),s.jsxs(Ma,{children:[s.jsx($a,{onClick:()=>U(null),children:r==="en"?"Cancel":""}),s.jsx(Ia,{onClick:Se,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:r==="en"?"Delete":""})]})]})})]})}const Mfe=i0({name:He().trim().min(1,"Name is required").max(100),nameAr:He().trim().min(1,"Arabic name is required").max(100),email:He().trim().email("Invalid email").max(255),phone:He().trim().regex(/^\+968\s?\d{4}\s?\d{4}$/,"Invalid phone number"),subjects:He().min(1,"Subjects are required").max(200),classes:He().min(1,"Classes are required").max(200),qualification:He().min(1,"Qualification is required").max(100),experience:He().min(1,"Experience is required").max(50),joinDate:He().min(1,"Join date is required"),password:He().min(6,"Password must be at least 6 characters").max(100)});function Dfe(){var L,Q,se,W,ie,ue,oe,Se,I,Z,J,X,he;const{profile:e}=ot(),{t,language:n}=Te(),[r,a]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(""),[d,u]=m.useState(null),[h,f]=m.useState(!1),[p,g]=m.useState(!1),[v,j]=m.useState(!1),[y,x]=m.useState(!1),[w,b]=m.useState(null),[S,_]=m.useState(!1),[N,C]=m.useState(null),[k,A]=m.useState({name:"",nameAr:"",email:"",phone:"",password:"",subjects:"",classes:"",qualification:"",experience:"",joinDate:"",specialization:"",previousSchool:"",teachingCertificate:"",nationality:"Omani",civilId:"",passportNumber:"",dateOfBirth:"",gender:"male",maritalStatus:"single",bloodGroup:"",address:"",city:"",country:"Oman",postalCode:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelation:"",bankName:"",iban:"",accountNumber:"",contractType:"full-time",salary:"",allowances:"",insuranceNumber:"",visaNumber:"",visaExpiry:""});m.useEffect(()=>{O()},[]);const O=async()=>{try{const{data:D,error:ee}=await V.from("teachers").select(`
          *,
          profiles (
            full_name,
            full_name_ar,
            email,
            phone,
            profile_image
          )
        `).order("created_at",{ascending:!1});if(ee)throw ee;a(D||[])}catch(D){console.error("Error fetching teachers:",D),ae({title:n==="en"?"Error":"",description:D.message,variant:"destructive"})}finally{o(!1)}},M=r.filter(D=>{var ee,pe,Oe,Y,ye,We,_t;return((pe=(ee=D.profiles)==null?void 0:ee.full_name)==null?void 0:pe.toLowerCase().includes(l.toLowerCase()))||((Y=(Oe=D.profiles)==null?void 0:Oe.full_name_ar)==null?void 0:Y.includes(l))||((We=(ye=D.profiles)==null?void 0:ye.email)==null?void 0:We.toLowerCase().includes(l.toLowerCase()))||((_t=D.employee_id)==null?void 0:_t.toLowerCase().includes(l.toLowerCase()))}),z=async D=>{var ee,pe,Oe,Y,ye,We,_t;try{const{data:Qe,error:fr}=await V.from("employees").select("*").eq("profile_id",D.profile_id).single();fr&&fr.code!=="PGRST116"&&console.error("Error fetching employee data:",fr),C({id:D.id,profile_id:D.profile_id,employee_id:D.employee_id,name:((ee=D.profiles)==null?void 0:ee.full_name)||"",nameAr:((pe=D.profiles)==null?void 0:pe.full_name_ar)||"",email:((Oe=D.profiles)==null?void 0:Oe.email)||"",phone:((Y=D.profiles)==null?void 0:Y.phone)||"",subjects:((ye=D.subjects)==null?void 0:ye.join(", "))||"",classes:((We=D.classes)==null?void 0:We.join(", "))||"",qualification:D.qualification||"",experience:((_t=D.experience_years)==null?void 0:_t.toString())||"",joinDate:D.join_date||"",specialization:(Qe==null?void 0:Qe.custom_position)||"",previousSchool:"",teachingCertificate:"",nationality:"Omani",civilId:(Qe==null?void 0:Qe.national_id)||"",passportNumber:(Qe==null?void 0:Qe.passport_number)||"",dateOfBirth:"",gender:"male",maritalStatus:"single",bloodGroup:"",address:"",city:"",country:"Oman",postalCode:"",emergencyContactName:(Qe==null?void 0:Qe.emergency_contact)||"",emergencyContactPhone:(Qe==null?void 0:Qe.emergency_phone)||"",emergencyContactRelation:"",bankName:(Qe==null?void 0:Qe.bank_name)||"",iban:(Qe==null?void 0:Qe.iban)||"",accountNumber:(Qe==null?void 0:Qe.bank_account)||"",contractType:(Qe==null?void 0:Qe.contract_type)||"full-time",salary:"",allowances:"",insuranceNumber:(Qe==null?void 0:Qe.insurance_number)||"",visaNumber:(Qe==null?void 0:Qe.visa_number)||"",visaExpiry:(Qe==null?void 0:Qe.visa_expiry)||""}),f(!0)}catch(Qe){console.error("Error preparing edit form:",Qe),ae({title:n==="en"?"Error":"",description:"Failed to load teacher data",variant:"destructive"})}},P=async()=>{try{const{error:D}=await V.from("teachers").update({subjects:N.subjects.split(",").map(ee=>ee.trim()),classes:N.classes.split(",").map(ee=>ee.trim()),qualification:N.qualification,experience_years:parseInt(N.experience)||0,join_date:N.joinDate}).eq("id",N.id);if(D)throw D;if(N.profile_id){const{error:ee}=await V.from("profiles").update({full_name:N.name,full_name_ar:N.nameAr,phone:N.phone}).eq("id",N.profile_id);if(ee)throw ee;const{error:pe}=await V.from("employees").update({custom_position:N.specialization,national_id:N.civilId,passport_number:N.passportNumber,bank_name:N.bankName,iban:N.iban,bank_account:N.accountNumber,emergency_contact:N.emergencyContactName,emergency_phone:N.emergencyContactPhone,visa_number:N.visaNumber,visa_expiry:N.visaExpiry,insurance_number:N.insuranceNumber,contract_type:N.contractType}).eq("profile_id",N.profile_id);pe&&console.error("Error updating employee record:",pe)}ae({title:t("common.save"),description:n==="en"?"Teacher profile updated successfully":"    "}),f(!1),O()}catch(D){ae({title:n==="en"?"Error":"",description:D.message,variant:"destructive"})}},E=D=>{b(D),x(!0)},U=async()=>{if(w)try{const{error:D}=await V.from("teachers").delete().eq("id",w.id);if(D)throw D;if(w.profile_id){const{error:ee}=await V.from("employees").delete().eq("profile_id",w.profile_id);ee&&console.error("Error deleting employee record:",ee)}ae({title:n==="en"?"Success":"",description:n==="en"?"Teacher deleted successfully":"   "}),x(!1),b(null),O()}catch(D){ae({title:n==="en"?"Error":"",description:D.message,variant:"destructive"})}},R=D=>{u(D),g(!0)},B=async()=>{try{Mfe.parse(k);const D=`TCH${Date.now().toString().slice(-6)}`,ee=await V.auth.getSession(),{data:pe,error:Oe}=await V.auth.signUp({email:k.email,password:k.password,options:{data:{full_name:k.name,full_name_ar:k.nameAr,phone:k.phone,role:"teacher"}}});if(Oe)throw Oe;if(ee.data.session&&await V.auth.setSession({access_token:ee.data.session.access_token,refresh_token:ee.data.session.refresh_token}),pe.user){const{error:Y}=await V.from("teachers").insert({employee_id:D,profile_id:pe.user.id,subjects:k.subjects.split(",").map(We=>We.trim()),classes:k.classes.split(",").map(We=>We.trim()),qualification:k.qualification,experience_years:parseInt(k.experience),join_date:k.joinDate});if(Y)throw Y;const{error:ye}=await V.from("employees").insert({employee_id:D,profile_id:pe.user.id,position:"teacher",department:"Education",national_id:k.civilId,passport_number:k.passportNumber,bank_name:k.bankName,iban:k.iban,bank_account:k.accountNumber,emergency_contact:k.emergencyContactName,emergency_phone:k.emergencyContactPhone,visa_number:k.visaNumber,visa_expiry:k.visaExpiry,insurance_number:k.insuranceNumber,contract_type:k.contractType,join_date:k.joinDate});ye&&console.error("Error creating employee record:",ye),ae({title:n==="en"?"Success":"",description:n==="en"?"Teacher account created successfully":"    "}),j(!1),A({name:"",nameAr:"",email:"",phone:"",password:"",subjects:"",classes:"",qualification:"",experience:"",joinDate:"",specialization:"",previousSchool:"",teachingCertificate:"",nationality:"Omani",civilId:"",passportNumber:"",dateOfBirth:"",gender:"male",maritalStatus:"single",bloodGroup:"",address:"",city:"",country:"Oman",postalCode:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelation:"",bankName:"",iban:"",accountNumber:"",contractType:"full-time",salary:"",allowances:"",insuranceNumber:"",visaNumber:"",visaExpiry:""}),O()}}catch(D){D instanceof As?ae({title:n==="en"?"Validation Error":"  ",description:D.errors[0].message,variant:"destructive"}):ae({title:n==="en"?"Error":"",description:D.message,variant:"destructive"})}};return(e==null?void 0:e.role)!=="admin"&&(e==null?void 0:e.role)!=="developer"?s.jsx("div",{className:"flex items-center justify-center h-[50vh]",children:s.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to view this page"})}):i?s.jsx("div",{className:"flex items-center justify-center h-[50vh]",children:s.jsx(Pt,{fullScreen:!0})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:t("dashboard.teachers")}),s.jsx("p",{className:"text-muted-foreground",children:n==="en"?"Manage and view all teacher profiles":"    "})]}),s.jsxs($,{onClick:()=>j(!0),children:[s.jsx(pu,{className:"h-4 w-4 mr-2"}),n==="en"?"Add Teacher":" "]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(F,{placeholder:n==="en"?"Search by name, email or employee ID...":"      ...",value:l,onChange:D=>c(D.target.value),className:"pl-10"})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:M.map(D=>{var ee,pe,Oe,Y,ye,We,_t,Qe,fr,go;return s.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(te,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(fn,{className:"h-12 w-12",children:[s.jsx(sr,{src:((ee=D.profiles)==null?void 0:ee.profile_image)||""}),s.jsx(mn,{children:((Oe=(pe=D.profiles)==null?void 0:pe.full_name)==null?void 0:Oe.charAt(0))||"T"})]}),s.jsxs("div",{children:[s.jsx(ne,{className:"text-base",children:n==="en"?(Y=D.profiles)==null?void 0:Y.full_name:((ye=D.profiles)==null?void 0:ye.full_name_ar)||((We=D.profiles)==null?void 0:We.full_name)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:((_t=D.subjects)==null?void 0:_t.join(", "))||"N/A"})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx($,{size:"sm",variant:"ghost",onClick:()=>z(D),children:s.jsx(Yn,{className:"h-4 w-4"})}),s.jsx($,{size:"sm",variant:"ghost",onClick:()=>E(D),className:"text-destructive hover:text-destructive",children:s.jsx($n,{className:"h-4 w-4"})})]})]})}),s.jsxs(G,{children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fr,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs font-medium",children:D.employee_id})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sc,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs",children:(Qe=D.profiles)==null?void 0:Qe.email})]}),((fr=D.profiles)==null?void 0:fr.phone)&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ku,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs",children:D.profiles.phone})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sr,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs",children:D.qualification||"Bachelor of Education"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-3 w-3 text-muted-foreground"}),s.jsxs("span",{className:"text-xs",children:[n==="en"?"Experience: ":": ",D.experience_years||5," ",n==="en"?"years":""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ka,{className:"h-3 w-3 text-muted-foreground"}),s.jsxs("span",{className:"text-xs",children:[n==="en"?"Classes: ":": ",((go=D.classes)==null?void 0:go.join(", "))||"Grade 5A, Grade 6B"]})]})]}),s.jsx($,{className:"w-full mt-4",variant:"outline",size:"sm",onClick:()=>R(D),children:n==="en"?"View Profile":" "})]})]},D.id)})}),s.jsx(qe,{open:v,onOpenChange:j,children:s.jsxs(Ve,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:n==="en"?"Create Teacher Account":"  "})}),s.jsxs(gn,{defaultValue:"basic",className:"w-full",children:[s.jsxs(sn,{className:"grid w-full grid-cols-5",children:[s.jsx(_e,{value:"basic",children:n==="en"?"Basic":""}),s.jsx(_e,{value:"professional",children:n==="en"?"Professional":""}),s.jsx(_e,{value:"personal",children:n==="en"?"Personal":""}),s.jsx(_e,{value:"address",children:n==="en"?"Address":""}),s.jsx(_e,{value:"financial",children:n==="en"?"Financial":""})]}),s.jsxs(Re,{value:"basic",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Name":""}),s.jsx(F,{value:k.name,onChange:D=>A({...k,name:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Name (Arabic)":" "}),s.jsx(F,{value:k.nameAr,onChange:D=>A({...k,nameAr:D.target.value}),dir:"rtl"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Email":" "}),s.jsx(F,{type:"email",value:k.email,onChange:D=>A({...k,email:D.target.value}),dir:"ltr"})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Password":" "}),s.jsxs("div",{className:"relative",dir:"ltr",children:[s.jsx(F,{type:S?"text":"password",value:k.password,onChange:D=>A({...k,password:D.target.value}),className:"pr-12",dir:"ltr"}),s.jsx($,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 hover:bg-transparent",onClick:()=>_(!S),children:S?s.jsx(Qr,{className:"h-4 w-4"}):s.jsx(Pn,{className:"h-4 w-4"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Phone":""}),s.jsx(F,{value:k.phone,onChange:D=>A({...k,phone:D.target.value}),placeholder:"+968 9XXX XXXX"})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Join Date":" "}),s.jsx(F,{type:"date",value:k.joinDate,onChange:D=>A({...k,joinDate:D.target.value})})]})]})]}),s.jsxs(Re,{value:"professional",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Subjects":""}),s.jsx(F,{value:k.subjects,onChange:D=>A({...k,subjects:D.target.value}),placeholder:n==="en"?"e.g., Math, Science":":  "})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Classes":""}),s.jsx(F,{value:k.classes,onChange:D=>A({...k,classes:D.target.value}),placeholder:n==="en"?"e.g., 5A, 5B":": 5 5"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Qualification":""}),s.jsx(F,{value:k.qualification,onChange:D=>A({...k,qualification:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Experience (years)":" ()"}),s.jsx(F,{type:"number",value:k.experience,onChange:D=>A({...k,experience:D.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Specialization":""}),s.jsx(F,{value:k.specialization,onChange:D=>A({...k,specialization:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Previous School":" "}),s.jsx(F,{value:k.previousSchool,onChange:D=>A({...k,previousSchool:D.target.value})})]})]})]}),s.jsxs(Re,{value:"personal",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Civil ID":" "}),s.jsx(F,{value:k.civilId,onChange:D=>A({...k,civilId:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Passport Number":"  "}),s.jsx(F,{value:k.passportNumber,onChange:D=>A({...k,passportNumber:D.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Date of Birth":" "}),s.jsx(F,{type:"date",value:k.dateOfBirth,onChange:D=>A({...k,dateOfBirth:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Gender":""}),s.jsxs(Pe,{value:k.gender,onValueChange:D=>A({...k,gender:D}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"male",children:n==="en"?"Male":""}),s.jsx(K,{value:"female",children:n==="en"?"Female":""})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Nationality":""}),s.jsx(F,{value:k.nationality,onChange:D=>A({...k,nationality:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Marital Status":" "}),s.jsxs(Pe,{value:k.maritalStatus,onValueChange:D=>A({...k,maritalStatus:D}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"single",children:n==="en"?"Single":""}),s.jsx(K,{value:"married",children:n==="en"?"Married":""}),s.jsx(K,{value:"divorced",children:n==="en"?"Divorced":""}),s.jsx(K,{value:"widowed",children:n==="en"?"Widowed":""})]})]})]})]})]}),s.jsxs(Re,{value:"address",className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Address":""}),s.jsx(F,{value:k.address,onChange:D=>A({...k,address:D.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"City":""}),s.jsx(F,{value:k.city,onChange:D=>A({...k,city:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Country":""}),s.jsx(F,{value:k.country,onChange:D=>A({...k,country:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Postal Code":" "}),s.jsx(F,{value:k.postalCode,onChange:D=>A({...k,postalCode:D.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Emergency Contact Name":"   "}),s.jsx(F,{value:k.emergencyContactName,onChange:D=>A({...k,emergencyContactName:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Emergency Phone":" "}),s.jsx(F,{value:k.emergencyContactPhone,onChange:D=>A({...k,emergencyContactPhone:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Relation":" "}),s.jsx(F,{value:k.emergencyContactRelation,onChange:D=>A({...k,emergencyContactRelation:D.target.value})})]})]})]}),s.jsxs(Re,{value:"financial",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Bank Name":" "}),s.jsx(F,{value:k.bankName,onChange:D=>A({...k,bankName:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"IBAN":" "}),s.jsx(F,{value:k.iban,onChange:D=>A({...k,iban:D.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Account Number":" "}),s.jsx(F,{value:k.accountNumber,onChange:D=>A({...k,accountNumber:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Monthly Salary (OMR)":"  (.)"}),s.jsx(F,{type:"number",value:k.salary,onChange:D=>A({...k,salary:D.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Insurance Number":" "}),s.jsx(F,{value:k.insuranceNumber,onChange:D=>A({...k,insuranceNumber:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Contract Type":" "}),s.jsxs(Pe,{value:k.contractType,onValueChange:D=>A({...k,contractType:D}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"full-time",children:n==="en"?"Full Time":" "}),s.jsx(K,{value:"part-time",children:n==="en"?"Part Time":" "}),s.jsx(K,{value:"contract",children:n==="en"?"Contract":""})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Visa Number":" "}),s.jsx(F,{value:k.visaNumber,onChange:D=>A({...k,visaNumber:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Visa Expiry":" "}),s.jsx(F,{type:"date",value:k.visaExpiry,onChange:D=>A({...k,visaExpiry:D.target.value})})]})]})]})]}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>j(!1),children:t("common.cancel")}),s.jsx($,{onClick:B,children:n==="en"?"Create Account":" "})]})]})}),s.jsx(hi,{open:y,onOpenChange:x,children:s.jsxs(Ta,{children:[s.jsxs(Oa,{children:[s.jsx(Da,{children:n==="en"?"Delete Teacher":" "}),s.jsx(Ra,{children:n==="en"?`Are you sure you want to delete ${(L=w==null?void 0:w.profiles)==null?void 0:L.full_name}? This action cannot be undone.`:`     ${((Q=w==null?void 0:w.profiles)==null?void 0:Q.full_name_ar)||((se=w==null?void 0:w.profiles)==null?void 0:se.full_name)}      .`})]}),s.jsxs(Ma,{children:[s.jsx($a,{children:t("common.cancel")}),s.jsx(Ia,{onClick:U,className:"bg-destructive text-destructive-foreground",children:n==="en"?"Delete":""})]})]})}),s.jsx(qe,{open:h,onOpenChange:f,children:s.jsxs(Ve,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:n==="en"?"Edit Teacher Profile":"  "})}),N&&s.jsxs(gn,{defaultValue:"basic",className:"w-full",children:[s.jsxs(sn,{className:"grid w-full grid-cols-5",children:[s.jsx(_e,{value:"basic",children:n==="en"?"Basic":""}),s.jsx(_e,{value:"professional",children:n==="en"?"Professional":""}),s.jsx(_e,{value:"personal",children:n==="en"?"Personal":""}),s.jsx(_e,{value:"address",children:n==="en"?"Address":""}),s.jsx(_e,{value:"financial",children:n==="en"?"Financial":""})]}),s.jsxs(Re,{value:"basic",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Name":""}),s.jsx(F,{value:N.name,onChange:D=>C({...N,name:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Name (Arabic)":" "}),s.jsx(F,{value:N.nameAr,onChange:D=>C({...N,nameAr:D.target.value}),dir:"rtl"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Email":" "}),s.jsx(F,{type:"email",value:N.email,disabled:!0,dir:"ltr"})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Phone":" "}),s.jsx(F,{value:N.phone,onChange:D=>C({...N,phone:D.target.value}),placeholder:"+968 9xxx xxxx"})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Employee ID":" "}),s.jsx(F,{value:N.employee_id,disabled:!0})]})})]}),s.jsxs(Re,{value:"professional",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Subjects":" "}),s.jsx(F,{value:N.subjects,onChange:D=>C({...N,subjects:D.target.value}),placeholder:n==="en"?"Math, Science, English":"  "})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Classes":""}),s.jsx(F,{value:N.classes,onChange:D=>C({...N,classes:D.target.value}),placeholder:n==="en"?"Grade 5A, Grade 6B":" 5  6"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Qualification":" "}),s.jsx(F,{value:N.qualification,onChange:D=>C({...N,qualification:D.target.value}),placeholder:n==="en"?"Bachelor of Education":" "})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Experience (years)":" ()"}),s.jsx(F,{type:"number",value:N.experience,onChange:D=>C({...N,experience:D.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Join Date":" "}),s.jsx(F,{type:"date",value:N.joinDate,onChange:D=>C({...N,joinDate:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Specialization":""}),s.jsx(F,{value:N.specialization,onChange:D=>C({...N,specialization:D.target.value}),placeholder:n==="en"?"Mathematics Education":" "})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Previous School":" "}),s.jsx(F,{value:N.previousSchool,onChange:D=>C({...N,previousSchool:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Teaching Certificate":" "}),s.jsx(F,{value:N.teachingCertificate,onChange:D=>C({...N,teachingCertificate:D.target.value})})]})]})]}),s.jsxs(Re,{value:"personal",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Nationality":""}),s.jsxs(Pe,{value:N.nationality,onValueChange:D=>C({...N,nationality:D}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"Omani",children:"Omani"}),s.jsx(K,{value:"Egyptian",children:"Egyptian"}),s.jsx(K,{value:"Jordanian",children:"Jordanian"}),s.jsx(K,{value:"Indian",children:"Indian"}),s.jsx(K,{value:"Pakistani",children:"Pakistani"}),s.jsx(K,{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Civil ID":" "}),s.jsx(F,{value:N.civilId,onChange:D=>C({...N,civilId:D.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Passport Number":"  "}),s.jsx(F,{value:N.passportNumber,onChange:D=>C({...N,passportNumber:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Date of Birth":" "}),s.jsx(F,{type:"date",value:N.dateOfBirth,onChange:D=>C({...N,dateOfBirth:D.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Gender":""}),s.jsxs(Pe,{value:N.gender,onValueChange:D=>C({...N,gender:D}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"male",children:n==="en"?"Male":""}),s.jsx(K,{value:"female",children:n==="en"?"Female":""})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Marital Status":" "}),s.jsxs(Pe,{value:N.maritalStatus,onValueChange:D=>C({...N,maritalStatus:D}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"single",children:n==="en"?"Single":""}),s.jsx(K,{value:"married",children:n==="en"?"Married":""}),s.jsx(K,{value:"divorced",children:n==="en"?"Divorced":""}),s.jsx(K,{value:"widowed",children:n==="en"?"Widowed":""})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Blood Group":" "}),s.jsxs(Pe,{value:N.bloodGroup,onValueChange:D=>C({...N,bloodGroup:D}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:n==="en"?"Select blood group":"  "})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"A+",children:"A+"}),s.jsx(K,{value:"A-",children:"A-"}),s.jsx(K,{value:"B+",children:"B+"}),s.jsx(K,{value:"B-",children:"B-"}),s.jsx(K,{value:"AB+",children:"AB+"}),s.jsx(K,{value:"AB-",children:"AB-"}),s.jsx(K,{value:"O+",children:"O+"}),s.jsx(K,{value:"O-",children:"O-"})]})]})]})})]}),s.jsxs(Re,{value:"address",className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.jsxs("div",{className:"col-span-2",children:[s.jsx(T,{children:n==="en"?"Address":""}),s.jsx(F,{value:N.address,onChange:D=>C({...N,address:D.target.value}),placeholder:n==="en"?"Street address":" "})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"City":""}),s.jsx(F,{value:N.city,onChange:D=>C({...N,city:D.target.value}),placeholder:n==="en"?"Muscat":""})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Country":""}),s.jsx(F,{value:N.country,onChange:D=>C({...N,country:D.target.value}),placeholder:"Oman"})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Postal Code":" "}),s.jsx(F,{value:N.postalCode,onChange:D=>C({...N,postalCode:D.target.value})})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Emergency Contact Name":"   "}),s.jsx(F,{value:N.emergencyContactName,onChange:D=>C({...N,emergencyContactName:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Emergency Contact Phone":" "}),s.jsx(F,{value:N.emergencyContactPhone,onChange:D=>C({...N,emergencyContactPhone:D.target.value}),placeholder:"+968 9xxx xxxx"})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Emergency Contact Relation":" "}),s.jsx(F,{value:N.emergencyContactRelation,onChange:D=>C({...N,emergencyContactRelation:D.target.value}),placeholder:n==="en"?"Brother, Sister, Parent, etc.":"   "})]})})]}),s.jsxs(Re,{value:"financial",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Bank Name":" "}),s.jsx(F,{value:N.bankName,onChange:D=>C({...N,bankName:D.target.value}),placeholder:"Bank Muscat"})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"IBAN":" "}),s.jsx(F,{value:N.iban,onChange:D=>C({...N,iban:D.target.value}),placeholder:"OMxx xxxx xxxx xxxx xxxx xxx"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Account Number":" "}),s.jsx(F,{value:N.accountNumber,onChange:D=>C({...N,accountNumber:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Contract Type":" "}),s.jsxs(Pe,{value:N.contractType,onValueChange:D=>C({...N,contractType:D}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"full-time",children:n==="en"?"Full Time":" "}),s.jsx(K,{value:"part-time",children:n==="en"?"Part Time":" "}),s.jsx(K,{value:"contract",children:n==="en"?"Contract":""})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Basic Salary":" "}),s.jsx(F,{type:"number",value:N.salary,onChange:D=>C({...N,salary:D.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Allowances":""}),s.jsx(F,{type:"number",value:N.allowances,onChange:D=>C({...N,allowances:D.target.value}),placeholder:"0.00"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Insurance Number":" "}),s.jsx(F,{value:N.insuranceNumber,onChange:D=>C({...N,insuranceNumber:D.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Visa Number":" "}),s.jsx(F,{value:N.visaNumber,onChange:D=>C({...N,visaNumber:D.target.value})})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Visa Expiry":" "}),s.jsx(F,{type:"date",value:N.visaExpiry,onChange:D=>C({...N,visaExpiry:D.target.value})})]})})]})]}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>f(!1),children:t("common.cancel")}),s.jsx($,{onClick:P,children:t("common.save")})]})]})}),s.jsx(qe,{open:p,onOpenChange:g,children:s.jsxs(Ve,{className:"max-w-2xl",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:n==="en"?"Teacher Profile":" "})}),d&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(fn,{className:"h-20 w-20",children:[s.jsx(sr,{src:((W=d.profiles)==null?void 0:W.profile_image)||""}),s.jsx(mn,{className:"text-2xl",children:((ue=(ie=d.profiles)==null?void 0:ie.full_name)==null?void 0:ue.charAt(0))||"T"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold",children:n==="en"?(oe=d.profiles)==null?void 0:oe.full_name:((Se=d.profiles)==null?void 0:Se.full_name_ar)||((I=d.profiles)==null?void 0:I.full_name)}),s.jsx("p",{className:"text-muted-foreground",children:d.employee_id})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:n==="en"?"Email":" "}),s.jsx("p",{children:(Z=d.profiles)==null?void 0:Z.email})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:n==="en"?"Phone":""}),s.jsx("p",{children:((J=d.profiles)==null?void 0:J.phone)||"N/A"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:n==="en"?"Subjects":""}),s.jsx("p",{children:((X=d.subjects)==null?void 0:X.join(", "))||"N/A"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:n==="en"?"Classes":""}),s.jsx("p",{children:((he=d.classes)==null?void 0:he.join(", "))||"N/A"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:n==="en"?"Qualification":""}),s.jsx("p",{children:d.qualification||"N/A"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:n==="en"?"Experience":""}),s.jsx("p",{children:d.experience_years?`${d.experience_years} years`:"N/A"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:n==="en"?"Join Date":" "}),s.jsx("p",{children:d.join_date||"N/A"})]})]})]})]})})]})}function Rfe(){const{profile:e}=ot(),{t,language:n}=Te(),[r,a]=m.useState([]),[i,o]=m.useState([]),[l,c]=m.useState(!0),[d,u]=m.useState(null),[h,f]=m.useState(!1),[p,g]=m.useState(!1),[v,j]=m.useState({name:"",grade:"",section:"",class_teacher_id:""}),[y,x]=m.useState({day:"",time:"",subject:"",teacher_id:"",room:""}),w=(e==null?void 0:e.role)==="developer"?sessionStorage.getItem("developerViewRole")||"developer":e==null?void 0:e.role;m.useEffect(()=>{b(),S()},[]);const b=async()=>{try{const{data:k,error:A}=await V.from("classes").select(`
          *,
          teachers:class_teacher_id (
            id,
            employee_id,
            profiles (
              full_name
            )
          ),
          class_schedules (
            id,
            day,
            time,
            subject,
            teacher_id,
            room,
            teachers (
              employee_id,
              profiles (
                full_name
              )
            )
          )
        `).order("created_at",{ascending:!1});if(A)throw A;a(k||[])}catch(k){console.error("Error fetching classes:",k),ae({title:n==="en"?"Error":"",description:k.message,variant:"destructive"})}finally{c(!1)}},S=async()=>{try{const{data:k,error:A}=await V.from("teachers").select(`
          id,
          employee_id,
          profiles (
            full_name
          )
        `).order("created_at",{ascending:!1});if(A)throw A;o(k||[])}catch(k){console.error("Error fetching teachers:",k)}},_=async()=>{try{const{data:k,error:A}=await V.from("classes").insert([{name:v.name,grade:v.grade,section:v.section,class_teacher_id:v.class_teacher_id==="none"?null:v.class_teacher_id||null}]).select().single();if(A)throw A;ae({title:n==="en"?"Success":"",description:n==="en"?"Class created successfully":"   "}),f(!1),j({name:"",grade:"",section:"",class_teacher_id:""}),b()}catch(k){ae({title:n==="en"?"Error":"",description:k.message,variant:"destructive"})}},N=async()=>{if(!(!d||!y.day||!y.time||!y.subject))try{const{error:k}=await V.from("class_schedules").insert([{class_id:d.id,day:y.day,time:y.time,subject:y.subject,teacher_id:y.teacher_id||null,room:y.room}]);if(k)throw k;ae({title:n==="en"?"Success":"",description:n==="en"?"Schedule added successfully":"   "}),g(!1),x({day:"",time:"",subject:"",teacher_id:"",room:""}),b()}catch(k){ae({title:n==="en"?"Error":"",description:k.message,variant:"destructive"})}},C=async k=>{try{const{error:A}=await V.from("classes").delete().eq("id",k);if(A)throw A;ae({title:n==="en"?"Success":"",description:n==="en"?"Class deleted successfully":"   "}),b()}catch(A){ae({title:n==="en"?"Error":"",description:A.message,variant:"destructive"})}};return w!=="admin"&&w!=="teacher"&&w!=="developer"?s.jsx("div",{className:"flex items-center justify-center h-[50vh]",children:s.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to view this page"})}):l?s.jsx(Pt,{size:"large",text:!0,fullScreen:!0}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:t("dashboard.classes")}),s.jsx("p",{className:"text-muted-foreground",children:n==="en"?"Manage class schedules and information":"   "})]}),(e==null?void 0:e.role)==="admin"&&s.jsxs($,{onClick:()=>f(!0),children:[s.jsx(pn,{className:"h-4 w-4 mr-2"}),n==="en"?"Add Class":" "]})]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map(k=>{var A,O;return s.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(te,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(ne,{className:"text-lg",children:k.name}),(e==null?void 0:e.role)==="admin"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{size:"sm",variant:"ghost",onClick:()=>{u(k),g(!0)},children:s.jsx(pn,{className:"h-4 w-4"})}),s.jsx($,{size:"sm",variant:"ghost",onClick:()=>C(k.id),children:s.jsx($n,{className:"h-4 w-4"})})]})]})}),s.jsxs(G,{children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ii,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:[n==="en"?"Grade":"",": ",k.grade]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jt,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:[n==="en"?"Section":"",": ",k.section]})]}),((O=(A=k.teachers)==null?void 0:A.profiles)==null?void 0:O.full_name)&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jt,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:[n==="en"?"Teacher":"",": ",k.teachers.profiles.full_name]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:[n==="en"?"Schedules":"",": ",k.class_schedules.length]})]})]}),k.class_schedules.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:n==="en"?"Schedule":""}),s.jsxs("div",{className:"space-y-1 text-xs",children:[k.class_schedules.slice(0,3).map(M=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:[M.day," - ",M.subject]}),s.jsx("span",{children:M.time})]},M.id)),k.class_schedules.length>3&&s.jsxs("div",{className:"text-muted-foreground",children:["+",k.class_schedules.length-3," more"]})]})]})]})]},k.id)})}),s.jsx(qe,{open:h,onOpenChange:f,children:s.jsxs(Ve,{children:[s.jsx(Ke,{children:s.jsx(Ge,{children:n==="en"?"Create New Class":"  "})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"className",children:n==="en"?"Class Name":" "}),s.jsx(F,{id:"className",value:v.name,onChange:k=>j({...v,name:k.target.value}),placeholder:n==="en"?"e.g., Class 10-A":":  10-"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"grade",children:n==="en"?"Grade":""}),s.jsx(F,{id:"grade",value:v.grade,onChange:k=>j({...v,grade:k.target.value}),placeholder:n==="en"?"e.g., 10":": 10"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"section",children:n==="en"?"Section":""}),s.jsx(F,{id:"section",value:v.section,onChange:k=>j({...v,section:k.target.value}),placeholder:n==="en"?"e.g., A":": "})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Class Teacher (Optional)":"  ()"}),s.jsxs(Pe,{value:v.class_teacher_id,onValueChange:k=>j({...v,class_teacher_id:k}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:n==="en"?"Select a teacher":" "})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"none",children:n==="en"?"No Teacher":" "}),i.map(k=>{var A;return s.jsx(K,{value:k.id,children:((A=k.profiles)==null?void 0:A.full_name)||k.employee_id},k.id)})]})]})]})]}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>f(!1),children:t("common.cancel")}),s.jsx($,{onClick:_,children:n==="en"?"Create Class":" "})]})]})}),s.jsx(qe,{open:p,onOpenChange:g,children:s.jsxs(Ve,{children:[s.jsx(Ke,{children:s.jsx(Ge,{children:n==="en"?"Add Schedule":" "})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Day":""}),s.jsxs(Pe,{value:y.day,onValueChange:k=>x({...y,day:k}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:n==="en"?"Select day":" "})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"Sunday",children:n==="en"?"Sunday":""}),s.jsx(K,{value:"Monday",children:n==="en"?"Monday":""}),s.jsx(K,{value:"Tuesday",children:n==="en"?"Tuesday":""}),s.jsx(K,{value:"Wednesday",children:n==="en"?"Wednesday":""}),s.jsx(K,{value:"Thursday",children:n==="en"?"Thursday":""})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"time",children:n==="en"?"Time":""}),s.jsx(F,{id:"time",type:"time",value:y.time,onChange:k=>x({...y,time:k.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"subject",children:n==="en"?"Subject":""}),s.jsx(F,{id:"subject",value:y.subject,onChange:k=>x({...y,subject:k.target.value}),placeholder:n==="en"?"e.g., Mathematics":": "})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Teacher":""}),s.jsxs(Pe,{value:y.teacher_id,onValueChange:k=>x({...y,teacher_id:k}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:n==="en"?"Select teacher":" "})}),s.jsx(Ae,{children:i.map(k=>{var A;return s.jsx(K,{value:k.id,children:((A=k.profiles)==null?void 0:A.full_name)||k.employee_id},k.id)})})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"room",children:n==="en"?"Room":""}),s.jsx(F,{id:"room",value:y.room,onChange:k=>x({...y,room:k.target.value}),placeholder:n==="en"?"e.g., Room 101":":  101"})]})]})]}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>g(!1),children:t("common.cancel")}),s.jsx($,{onClick:N,children:n==="en"?"Add Schedule":" "})]})]})})]})}var Xe=function(){return Xe=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Xe.apply(this,arguments)};function Ife(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function o9(e,t,n){for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function ep(e){return e.mode==="multiple"}function tp(e){return e.mode==="range"}function l0(e){return e.mode==="single"}var $fe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Lfe(e,t){return De(e,"LLLL y",t)}function Ffe(e,t){return De(e,"d",t)}function Bfe(e,t){return De(e,"LLLL",t)}function zfe(e){return"".concat(e)}function Ufe(e,t){return De(e,"cccccc",t)}function Vfe(e,t){return De(e,"yyyy",t)}var Wfe=Object.freeze({__proto__:null,formatCaption:Lfe,formatDay:Ffe,formatMonthCaption:Bfe,formatWeekNumber:zfe,formatWeekdayName:Ufe,formatYearCaption:Vfe}),qfe=function(e,t,n){return De(e,"do MMMM (EEEE)",n)},Hfe=function(){return"Month: "},Kfe=function(){return"Go to next month"},Gfe=function(){return"Go to previous month"},Yfe=function(e,t){return De(e,"cccc",t)},Xfe=function(e){return"Week n. ".concat(e)},Zfe=function(){return"Year: "},Qfe=Object.freeze({__proto__:null,labelDay:qfe,labelMonthDropdown:Hfe,labelNext:Kfe,labelPrevious:Gfe,labelWeekNumber:Xfe,labelWeekday:Yfe,labelYearDropdown:Zfe});function Jfe(){var e="buttons",t=$fe,n=h8,r={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:Wfe,labels:Qfe,locale:n,modifiersClassNames:r,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function eme(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return r?i=or(r):t&&(i=new Date(t,0,1)),a?o=Nu(a):n&&(o=new Date(n,11,31)),{fromDate:i?bu(i):void 0,toDate:o?bu(o):void 0}}var l9=m.createContext(void 0);function tme(e){var t,n=e.initialProps,r=Jfe(),a=eme(n),i=a.fromDate,o=a.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(l0(n)||ep(n)||tp(n))&&(c=n.onSelect);var d=Xe(Xe(Xe({},r),n),{captionLayout:l,classNames:Xe(Xe({},r.classNames),n.classNames),components:Xe({},n.components),formatters:Xe(Xe({},r.formatters),n.formatters),fromDate:i,labels:Xe(Xe({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Xe(Xe({},r.modifiers),n.modifiers),modifiersClassNames:Xe(Xe({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Xe(Xe({},r.styles),n.styles),toDate:o});return s.jsx(l9.Provider,{value:d,children:e.children})}function Ft(){var e=m.useContext(l9);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function c9(e){var t=Ft(),n=t.locale,r=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function nme(e){return s.jsx("svg",Xe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function d9(e){var t,n,r=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=Ft(),u=(n=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:nme;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:r,children:i}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function rme(e){var t,n=Ft(),r=n.fromDate,a=n.toDate,i=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,u=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var h=[];if(Xue(r,a))for(var f=or(r),p=r.getMonth();p<=a.getMonth();p++)h.push(Aw(f,p));else for(var f=or(new Date),p=0;p<=11;p++)h.push(Aw(f,p));var g=function(j){var y=Number(j.target.value),x=Aw(or(e.displayMonth),y);e.onChange(x)},v=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:d9;return s.jsx(v,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(j){return s.jsx("option",{value:j.getMonth(),children:l(j,{locale:o})},j.getMonth())})})}function sme(e){var t,n=e.displayMonth,r=Ft(),a=r.fromDate,i=r.toDate,o=r.locale,l=r.styles,c=r.classNames,d=r.components,u=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,f=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var p=a.getFullYear(),g=i.getFullYear(),v=p;v<=g;v++)f.push(hO(d8(new Date),v));var j=function(x){var w=hO(or(n),Number(x.target.value));e.onChange(w)},y=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:d9;return s.jsx(y,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:j,value:n.getFullYear(),caption:u(n,{locale:o}),children:f.map(function(x){return s.jsx("option",{value:x.getFullYear(),children:u(x,{locale:o})},x.getFullYear())})})}function ame(e,t){var n=m.useState(e),r=n[0],a=n[1],i=t===void 0?r:t;return[i,a]}function ime(e){var t=e.month,n=e.defaultMonth,r=e.today,a=t||n||r||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&dm(i,a)<0){var d=-1*(c-1);a=Ea(i,d)}return o&&dm(a,o)<0&&(a=o),or(a)}function ome(){var e=Ft(),t=ime(e),n=ame(t,e.month),r=n[0],a=n[1],i=function(o){var l;if(!e.disableNavigation){var c=or(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,i]}function lme(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,a=or(e),i=or(Ea(a,r)),o=dm(i,a),l=[],c=0;c<o;c++){var d=Ea(a,c);l.push(d)}return n&&(l=l.reverse()),l}function cme(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,l=or(e);if(!n)return Ea(l,o);var c=dm(n,e);if(!(c<i))return Ea(l,o)}}function dme(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,l=or(e);if(!n)return Ea(l,-o);var c=dm(l,n);if(!(c<=0))return Ea(l,-o)}}var u9=m.createContext(void 0);function ume(e){var t=Ft(),n=ome(),r=n[0],a=n[1],i=lme(r,t),o=cme(r,t),l=dme(r,t),c=function(h){return i.some(function(f){return LC(h,f)})},d=function(h,f){c(h)||(f&&v8(h,f)?a(Ea(h,1+t.numberOfMonths*-1)):a(h))},u={currentMonth:r,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(u9.Provider,{value:u,children:e.children})}function np(){var e=m.useContext(u9);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function MO(e){var t,n=Ft(),r=n.classNames,a=n.styles,i=n.components,o=np().goToMonth,l=function(u){o(Ea(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:c9,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:d}),s.jsx(rme,{onChange:l,displayMonth:e.displayMonth}),s.jsx(sme,{onChange:l,displayMonth:e.displayMonth})]})}function hme(e){return s.jsx("svg",Xe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function fme(e){return s.jsx("svg",Xe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var rx=m.forwardRef(function(e,t){var n=Ft(),r=n.classNames,a=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var o=i.join(" "),l=Xe(Xe({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Xe({},e,{ref:t,type:"button",className:o,style:l}))});function mme(e){var t,n,r=Ft(),a=r.dir,i=r.locale,o=r.classNames,l=r.styles,c=r.labels,d=c.labelPrevious,u=c.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var f=d(e.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),g=u(e.nextMonth,{locale:i}),v=[o.nav_button,o.nav_button_next].join(" "),j=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:fme,y=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:hme;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(rx,{name:"previous-month","aria-label":f,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(j,{className:o.nav_icon,style:l.nav_icon}):s.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(rx,{name:"next-month","aria-label":g,className:v,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(y,{className:o.nav_icon,style:l.nav_icon}):s.jsx(j,{className:o.nav_icon,style:l.nav_icon})})]})}function DO(e){var t=Ft().numberOfMonths,n=np(),r=n.previousMonth,a=n.nextMonth,i=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(g){return LC(e.displayMonth,g)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),h=t>1&&(d||!c),f=function(){r&&i(r)},p=function(){a&&i(a)};return s.jsx(mme,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:h,nextMonth:a,previousMonth:r,onPreviousClick:f,onNextClick:p})}function pme(e){var t,n=Ft(),r=n.classNames,a=n.disableNavigation,i=n.styles,o=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:c9,d;return a?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=s.jsx(MO,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(MO,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(DO,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(DO,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:r.caption,style:i.caption,children:d})}function gme(e){var t=Ft(),n=t.footer,r=t.styles,a=t.classNames.tfoot;return n?s.jsx("tfoot",{className:a,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function vme(e,t,n){for(var r=n?Tc(new Date):ui(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=nr(r,i);a.push(o)}return a}function xme(){var e=Ft(),t=e.classNames,n=e.styles,r=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=vme(a,i,o);return s.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:t.head_cell}),d.map(function(u,h){return s.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},h)})]})}function yme(){var e,t=Ft(),n=t.classNames,r=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:xme;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(i,{})})}function jme(e){var t=Ft(),n=t.locale,r=t.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:n})})}var qC=m.createContext(void 0);function wme(e){if(!ep(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(qC.Provider,{value:t,children:e.children})}return s.jsx(bme,{initialProps:e.initialProps,children:e.children})}function bme(e){var t=e.initialProps,n=e.children,r=t.selected,a=t.min,i=t.max,o=function(d,u,h){var f,p;(f=t.onDayClick)===null||f===void 0||f.call(t,d,u,h);var g=!!(u.selected&&a&&(r==null?void 0:r.length)===a);if(!g){var v=!!(!u.selected&&i&&(r==null?void 0:r.length)===i);if(!v){var j=r?o9([],r):[];if(u.selected){var y=j.findIndex(function(x){return Jr(d,x)});j.splice(y,1)}else j.push(d);(p=t.onSelect)===null||p===void 0||p.call(t,j,d,u,h)}}},l={disabled:[]};r&&l.disabled.push(function(d){var u=i&&r.length>i-1,h=r.some(function(f){return Jr(f,d)});return!!(u&&!h)});var c={selected:r,onDayClick:o,modifiers:l};return s.jsx(qC.Provider,{value:c,children:n})}function HC(){var e=m.useContext(qC);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Nme(e,t){var n=t||{},r=n.from,a=n.to;return r&&a?Jr(a,e)&&Jr(r,e)?void 0:Jr(a,e)?{from:a,to:void 0}:Jr(r,e)?void 0:iN(r,e)?{from:e,to:a}:{from:r,to:e}:a?iN(e,a)?{from:a,to:e}:{from:e,to:a}:r?v8(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var KC=m.createContext(void 0);function _me(e){if(!tp(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(KC.Provider,{value:t,children:e.children})}return s.jsx(Sme,{initialProps:e.initialProps,children:e.children})}function Sme(e){var t=e.initialProps,n=e.children,r=t.selected,a=r||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(p,g,v){var j,y;(j=t.onDayClick)===null||j===void 0||j.call(t,p,g,v);var x=Nme(p,r);(y=t.onSelect)===null||y===void 0||y.call(t,x,p,g,v)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],Jr(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:tc(i,l-1),before:nr(i,l-1)}),i&&o&&u.disabled.push({after:i,before:nr(i,l-1)}),!i&&o&&u.disabled.push({after:tc(o,l-1),before:nr(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:nr(i,-c+1)}),u.disabled.push({after:nr(i,c-1)})),i&&o){var h=ei(o,i)+1,f=c-h;u.disabled.push({before:tc(i,f)}),u.disabled.push({after:nr(o,f)})}!i&&o&&(u.disabled.push({before:nr(o,-c+1)}),u.disabled.push({after:nr(o,c-1)}))}return s.jsx(KC.Provider,{value:{selected:r,onDayClick:d,modifiers:u},children:n})}function GC(){var e=m.useContext(KC);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Zg(e){return Array.isArray(e)?o9([],e):e!==void 0?[e]:[]}function Cme(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],a=n[1];t[r]=Zg(a)}),t}var La;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(La||(La={}));var kme=La.Selected,wi=La.Disabled,Ame=La.Hidden,Pme=La.Today,Ew=La.RangeEnd,Tw=La.RangeMiddle,Ow=La.RangeStart,Eme=La.Outside;function Tme(e,t,n){var r,a=(r={},r[kme]=Zg(e.selected),r[wi]=Zg(e.disabled),r[Ame]=Zg(e.hidden),r[Pme]=[e.today],r[Ew]=[],r[Tw]=[],r[Ow]=[],r[Eme]=[],r);return e.fromDate&&a[wi].push({before:e.fromDate}),e.toDate&&a[wi].push({after:e.toDate}),ep(e)?a[wi]=a[wi].concat(t.modifiers[wi]):tp(e)&&(a[wi]=a[wi].concat(n.modifiers[wi]),a[Ow]=n.modifiers[Ow],a[Tw]=n.modifiers[Tw],a[Ew]=n.modifiers[Ew]),a}var h9=m.createContext(void 0);function Ome(e){var t=Ft(),n=HC(),r=GC(),a=Tme(t,n,r),i=Cme(t.modifiers),o=Xe(Xe({},a),i);return s.jsx(h9.Provider,{value:o,children:e.children})}function f9(){var e=m.useContext(h9);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Mme(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Dme(e){return!!(e&&typeof e=="object"&&"from"in e)}function Rme(e){return!!(e&&typeof e=="object"&&"after"in e)}function Ime(e){return!!(e&&typeof e=="object"&&"before"in e)}function $me(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Lme(e,t){var n,r=t.from,a=t.to;if(r&&a){var i=ei(a,r)<0;i&&(n=[a,r],r=n[0],a=n[1]);var o=ei(e,r)>=0&&ei(a,e)>=0;return o}return a?Jr(a,e):r?Jr(r,e):!1}function Fme(e){return IC(e)}function Bme(e){return Array.isArray(e)&&e.every(IC)}function zme(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(Fme(n))return Jr(e,n);if(Bme(n))return n.includes(e);if(Dme(n))return Lme(e,n);if($me(n))return n.dayOfWeek.includes(e.getDay());if(Mme(n)){var r=ei(n.before,e),a=ei(n.after,e),i=r>0,o=a<0,l=iN(n.before,n.after);return l?o&&i:i||o}return Rme(n)?ei(e,n.after)>0:Ime(n)?ei(n.before,e)>0:typeof n=="function"?n(e):!1})}function YC(e,t,n){var r=Object.keys(t).reduce(function(i,o){var l=t[o];return zme(e,l)&&i.push(o),i},[]),a={};return r.forEach(function(i){return a[i]=!0}),n&&!LC(e,n)&&(a.outside=!0),a}function Ume(e,t){for(var n=or(e[0]),r=Nu(e[e.length-1]),a,i,o=n;o<=r;){var l=YC(o,t),c=!l.disabled&&!l.hidden;if(!c){o=nr(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=nr(o,1)}return i||a}var Vme=365;function m9(e,t){var n=t.moveBy,r=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,h=a.locale,f={day:nr,week:aN,month:Ea,year:Hde,startOfWeek:function(j){return a.ISOWeek?Tc(j):ui(j,{locale:h,weekStartsOn:c})},endOfWeek:function(j){return a.ISOWeek?u8(j):$C(j,{locale:h,weekStartsOn:c})}},p=f[n](e,r==="after"?1:-1);r==="before"&&d?p=Kde([d,p]):r==="after"&&u&&(p=Gde([u,p]));var g=!0;if(i){var v=YC(p,i);g=!v.disabled&&!v.hidden}return g?p:l.count>Vme?l.lastFocused:m9(p,{moveBy:n,direction:r,context:a,modifiers:i,retry:Xe(Xe({},l),{count:l.count+1})})}var p9=m.createContext(void 0);function Wme(e){var t=np(),n=f9(),r=m.useState(),a=r[0],i=r[1],o=m.useState(),l=o[0],c=o[1],d=Ume(t.displayMonths,n),u=a??(l&&t.isDateDisplayed(l))?l:d,h=function(){c(a),i(void 0)},f=function(j){i(j)},p=Ft(),g=function(j,y){if(a){var x=m9(a,{moveBy:j,direction:y,context:p,modifiers:n});Jr(a,x)||(t.goToDate(x,a),f(x))}},v={focusedDay:a,focusTarget:u,blur:h,focus:f,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return s.jsx(p9.Provider,{value:v,children:e.children})}function XC(){var e=m.useContext(p9);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function qme(e,t){var n=f9(),r=YC(e,n,t);return r}var ZC=m.createContext(void 0);function Hme(e){if(!l0(e.initialProps)){var t={selected:void 0};return s.jsx(ZC.Provider,{value:t,children:e.children})}return s.jsx(Kme,{initialProps:e.initialProps,children:e.children})}function Kme(e){var t=e.initialProps,n=e.children,r=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:r};return s.jsx(ZC.Provider,{value:a,children:n})}function g9(){var e=m.useContext(ZC);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Gme(e,t){var n=Ft(),r=g9(),a=HC(),i=GC(),o=XC(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,h=o.blur,f=o.focus,p=o.focusMonthBefore,g=o.focusMonthAfter,v=o.focusYearBefore,j=o.focusYearAfter,y=o.focusStartOfWeek,x=o.focusEndOfWeek,w=function(R){var B,L,Q,se;l0(n)?(B=r.onDayClick)===null||B===void 0||B.call(r,e,t,R):ep(n)?(L=a.onDayClick)===null||L===void 0||L.call(a,e,t,R):tp(n)?(Q=i.onDayClick)===null||Q===void 0||Q.call(i,e,t,R):(se=n.onDayClick)===null||se===void 0||se.call(n,e,t,R)},b=function(R){var B;f(e),(B=n.onDayFocus)===null||B===void 0||B.call(n,e,t,R)},S=function(R){var B;h(),(B=n.onDayBlur)===null||B===void 0||B.call(n,e,t,R)},_=function(R){var B;(B=n.onDayMouseEnter)===null||B===void 0||B.call(n,e,t,R)},N=function(R){var B;(B=n.onDayMouseLeave)===null||B===void 0||B.call(n,e,t,R)},C=function(R){var B;(B=n.onDayPointerEnter)===null||B===void 0||B.call(n,e,t,R)},k=function(R){var B;(B=n.onDayPointerLeave)===null||B===void 0||B.call(n,e,t,R)},A=function(R){var B;(B=n.onDayTouchCancel)===null||B===void 0||B.call(n,e,t,R)},O=function(R){var B;(B=n.onDayTouchEnd)===null||B===void 0||B.call(n,e,t,R)},M=function(R){var B;(B=n.onDayTouchMove)===null||B===void 0||B.call(n,e,t,R)},z=function(R){var B;(B=n.onDayTouchStart)===null||B===void 0||B.call(n,e,t,R)},P=function(R){var B;(B=n.onDayKeyUp)===null||B===void 0||B.call(n,e,t,R)},E=function(R){var B;switch(R.key){case"ArrowLeft":R.preventDefault(),R.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":R.preventDefault(),R.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":R.preventDefault(),R.stopPropagation(),d();break;case"ArrowUp":R.preventDefault(),R.stopPropagation(),u();break;case"PageUp":R.preventDefault(),R.stopPropagation(),R.shiftKey?v():p();break;case"PageDown":R.preventDefault(),R.stopPropagation(),R.shiftKey?j():g();break;case"Home":R.preventDefault(),R.stopPropagation(),y();break;case"End":R.preventDefault(),R.stopPropagation(),x();break}(B=n.onDayKeyDown)===null||B===void 0||B.call(n,e,t,R)},U={onClick:w,onFocus:b,onBlur:S,onKeyDown:E,onKeyUp:P,onMouseEnter:_,onMouseLeave:N,onPointerEnter:C,onPointerLeave:k,onTouchCancel:A,onTouchEnd:O,onTouchMove:M,onTouchStart:z};return U}function Yme(){var e=Ft(),t=g9(),n=HC(),r=GC(),a=l0(e)?t.selected:ep(e)?n.selected:tp(e)?r.selected:void 0;return a}function Xme(e){return Object.values(La).includes(e)}function Zme(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var a=e.modifiersClassNames[r];if(a)n.push(a);else if(Xme(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function Qme(e,t){var n=Xe({},e.styles.day);return Object.keys(t).forEach(function(r){var a;n=Xe(Xe({},n),(a=e.modifiersStyles)===null||a===void 0?void 0:a[r])}),n}function Jme(e,t,n){var r,a,i,o=Ft(),l=XC(),c=qme(e,t),d=Gme(e,c),u=Yme(),h=!!(o.onDayClick||o.mode!=="default");m.useEffect(function(){var _;c.outside||l.focusedDay&&h&&Jr(l.focusedDay,e)&&((_=n.current)===null||_===void 0||_.focus())},[l.focusedDay,e,n,h,c.outside]);var f=Zme(o,c).join(" "),p=Qme(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),v=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:jme,j=s.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),y={style:p,className:f,children:j,role:"gridcell"},x=l.focusTarget&&Jr(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Jr(l.focusedDay,e),b=Xe(Xe(Xe({},y),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=w||x?0:-1,r)),d),S={isButton:h,isHidden:g,activeModifiers:c,selectedDays:u,buttonProps:b,divProps:y};return S}function epe(e){var t=m.useRef(null),n=Jme(e.date,e.displayMonth,t);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(rx,Xe({name:"day",ref:t},n.buttonProps)):s.jsx("div",Xe({},n.divProps))}function tpe(e){var t=e.number,n=e.dates,r=Ft(),a=r.onWeekNumberClick,i=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var h=c(Number(t),{locale:l}),f=function(p){a(t,n,p)};return s.jsx(rx,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:f,children:u})}function npe(e){var t,n,r=Ft(),a=r.styles,i=r.classNames,o=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:epe,d=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:tpe,u;return o&&(u=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(h){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:h})},Kue(h))})]})}function RO(e,t,n){for(var r=n!=null&&n.ISOWeek?u8(t):$C(t,n),a=n!=null&&n.ISOWeek?Tc(e):ui(e,n),i=ei(r,a),o=[],l=0;l<=i;l++)o.push(nr(a,l));var c=o.reduce(function(d,u){var h=n!=null&&n.ISOWeek?f8(u):p8(u,n),f=d.find(function(p){return p.weekNumber===h});return f?(f.dates.push(u),d):(d.push({weekNumber:h,dates:[u]}),d)},[]);return c}function rpe(e,t){var n=RO(or(e),Nu(e),t);if(t!=null&&t.useFixedWeeks){var r=Yue(e,t);if(r<6){var a=n[n.length-1],i=a.dates[a.dates.length-1],o=aN(i,6-r),l=RO(aN(i,1),o,t);n.push.apply(n,l)}}return n}function spe(e){var t,n,r,a=Ft(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,h=a.weekStartsOn,f=a.firstWeekContainsDate,p=a.ISOWeek,g=rpe(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),v=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:yme,j=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:npe,y=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:gme;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(v,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(x){return s.jsx(j,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),s.jsx(y,{displayMonth:e.displayMonth})]})}function ape(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var ipe=ape()?m.useLayoutEffect:m.useEffect,Mw=!1,ope=0;function IO(){return"react-day-picker-".concat(++ope)}function lpe(e){var t,n=e??(Mw?IO():null),r=m.useState(n),a=r[0],i=r[1];return ipe(function(){a===null&&i(IO())},[]),m.useEffect(function(){Mw===!1&&(Mw=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function cpe(e){var t,n,r=Ft(),a=r.dir,i=r.classNames,o=r.styles,l=r.components,c=np().displayMonths,d=lpe(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],f=o.month,p=e.displayIndex===0,g=e.displayIndex===c.length-1,v=!p&&!g;a==="rtl"&&(t=[p,g],g=t[0],p=t[1]),p&&(h.push(i.caption_start),f=Xe(Xe({},f),o.caption_start)),g&&(h.push(i.caption_end),f=Xe(Xe({},f),o.caption_end)),v&&(h.push(i.caption_between),f=Xe(Xe({},f),o.caption_between));var j=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:pme;return s.jsxs("div",{className:h.join(" "),style:f,children:[s.jsx(j,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(spe,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function dpe(e){var t=Ft(),n=t.classNames,r=t.styles;return s.jsx("div",{className:n.months,style:r.months,children:e.children})}function upe(e){var t,n,r=e.initialProps,a=Ft(),i=XC(),o=np(),l=m.useState(!1),c=l[0],d=l[1];m.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var h=Xe(Xe({},a.styles.root),a.style),f=Object.keys(r).filter(function(g){return g.startsWith("data-")}).reduce(function(g,v){var j;return Xe(Xe({},g),(j={},j[v]=r[v],j))},{}),p=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:dpe;return s.jsx("div",Xe({className:u.join(" "),style:h,dir:a.dir,id:a.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:s.jsx(p,{children:o.displayMonths.map(function(g,v){return s.jsx(cpe,{displayIndex:v,displayMonth:g},v)})})}))}function hpe(e){var t=e.children,n=Ife(e,["children"]);return s.jsx(tme,{initialProps:n,children:s.jsx(ume,{children:s.jsx(Hme,{initialProps:n,children:s.jsx(wme,{initialProps:n,children:s.jsx(_me,{initialProps:n,children:s.jsx(Ome,{children:s.jsx(Wme,{children:t})})})})})})})}function fpe(e){return s.jsx(hpe,Xe({},e,{children:s.jsx(upe,{initialProps:e})}))}function ml({className:e,classNames:t,showOutsideDays:n=!0,...r}){return s.jsx(fpe,{showOutsideDays:n,className:me("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:me(om({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:me(om({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(xJ,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(Bd,{className:"h-4 w-4"})},...r})}ml.displayName="Calendar";function mpe(){const{user:e}=ot(),{t,language:n,dir:r}=Te(),[a,i]=m.useState(new Date),o=[{time:"08:00 - 08:45",subject:t("schedule.mathematics"),teacher:n==="en"?"Ahmed Hassan":" ",room:`${t("schedule.room")} 201`,class:"10-A"},{time:"08:45 - 09:30",subject:t("schedule.physics"),teacher:n==="en"?"Ahmed Hassan":" ",room:`${t("schedule.lab")} 1`,class:"10-A"},{time:"09:45 - 10:30",subject:t("schedule.english"),teacher:n==="en"?"Fatima Al-Said":" ",room:`${t("schedule.room")} 201`,class:"10-A"},{time:"10:30 - 11:15",subject:t("schedule.arabic"),teacher:n==="en"?"Mohammed Al-Rashdi":" ",room:`${t("schedule.room")} 201`,class:"10-A"},{time:"11:30 - 12:15",subject:t("schedule.chemistry"),teacher:n==="en"?"Ahmed Hassan":" ",room:`${t("schedule.lab")} 2`,class:"10-A"},{time:"12:15 - 13:00",subject:t("schedule.break"),teacher:"-",room:t("schedule.cafeteria"),class:"-"},{time:"13:00 - 13:45",subject:t("schedule.history"),teacher:n==="en"?"Sara Ibrahim":" ",room:`${t("schedule.room")} 105`,class:"10-A"},{time:"13:45 - 14:30",subject:t("schedule.pe"),teacher:n==="en"?"Ali Mohammed":" ",room:t("schedule.sportsHall"),class:"10-A"}],l=()=>{const d=[(n==="en"?["Time","Subject","Teacher","Room","Class"]:["","","","",""]).join(","),...o.map(f=>[f.time,f.subject,f.teacher,f.room,f.class].join(","))].join(`
`),u=new Blob([d],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a");h.href=URL.createObjectURL(u),h.download=`class_schedule_${new Date().toISOString().split("T")[0]}.csv`,h.click(),fe.success(n==="en"?"Class schedule downloaded successfully":"    ")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:t("dashboard.schedule")}),s.jsx("p",{className:"text-muted-foreground",children:t("schedule.manageSchedules")})]}),s.jsxs($,{onClick:l,variant:"outline",children:[s.jsx(br,{className:"h-4 w-4 mr-2"}),t("schedule.downloadSchedule")]})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs(q,{className:"lg:col-span-2",children:[s.jsx(te,{children:s.jsx(ne,{children:t("schedule.todaySchedule")})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",dir:r,children:o.map((c,d)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:`flex items-center gap-4 ${r==="rtl"?"flex-row-reverse":""}`,children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(dr,{className:"h-4 w-4 text-muted-foreground mb-1"}),s.jsx("span",{className:"text-xs font-medium",children:c.time.split(" - ")[0]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:c.time.split(" - ")[1]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:c.subject}),c.teacher!=="-"&&s.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[s.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(jt,{className:"h-3 w-3"}),c.teacher]}),s.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(ka,{className:"h-3 w-3"}),c.room]}),(e==null?void 0:e.role)==="teacher"&&c.class!=="-"&&s.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(ii,{className:"h-3 w-3"}),c.class]})]})]})]}),c.subject===t("schedule.break")?s.jsx(ce,{className:"bg-info/10 text-info",children:t("schedule.break")}):s.jsx(ce,{variant:"outline",children:c.subject})]},d))})})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:t("common.calendar")})}),s.jsxs(G,{children:[s.jsx(ml,{mode:"single",selected:a,onSelect:i,className:"rounded-md border"}),s.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:t("schedule.scheduleSummary")}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:t("schedule.classes")}),s.jsx("span",{className:"font-medium",children:"7"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:t("schedule.break")}),s.jsxs("span",{className:"font-medium",children:["45 ",t("time.min")]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:t("schedule.totalHours")}),s.jsxs("span",{className:"font-medium",children:["6.5 ",t("time.hrs")]})]})]})]})]})]})]})]})}var c0="Popover",[v9,$Te]=Ln(c0,[Cl]),rp=Cl(),[ppe,Tl]=v9(c0),x9=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=rp(t),c=m.useRef(null),[d,u]=m.useState(!1),[h,f]=Ca({prop:r,defaultProp:a??!1,onChange:i,caller:c0});return s.jsx(sC,{...l,children:s.jsx(ppe,{scope:t,contentId:ir(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:d,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:o,children:n})})};x9.displayName=c0;var y9="PopoverAnchor",gpe=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Tl(y9,n),i=rp(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return m.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Um,{...i,...r,ref:t})});gpe.displayName=y9;var j9="PopoverTrigger",w9=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Tl(j9,n),i=rp(n),o=Ze(t,a.triggerRef),l=s.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":C9(a.open),...r,ref:o,onClick:ge(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Um,{asChild:!0,...i,children:l})});w9.displayName=j9;var QC="PopoverPortal",[vpe,xpe]=v9(QC,{forceMount:void 0}),b9=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,i=Tl(QC,t);return s.jsx(vpe,{scope:t,forceMount:n,children:s.jsx(Fn,{present:n||i.open,children:s.jsx(Wu,{asChild:!0,container:a,children:r})})})};b9.displayName=QC;var Au="PopoverContent",N9=m.forwardRef((e,t)=>{const n=xpe(Au,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,i=Tl(Au,e.__scopePopover);return s.jsx(Fn,{present:r||i.open,children:i.modal?s.jsx(jpe,{...a,ref:t}):s.jsx(wpe,{...a,ref:t})})});N9.displayName=Au;var ype=cl("PopoverContent.RemoveScroll"),jpe=m.forwardRef((e,t)=>{const n=Tl(Au,e.__scopePopover),r=m.useRef(null),a=Ze(t,r),i=m.useRef(!1);return m.useEffect(()=>{const o=r.current;if(o)return Wy(o)},[]),s.jsx(Gm,{as:ype,allowPinchZoom:!0,children:s.jsx(_9,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ge(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),wpe=m.forwardRef((e,t)=>{const n=Tl(Au,e.__scopePopover),r=m.useRef(!1),a=m.useRef(!1);return s.jsx(_9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),_9=m.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=e,f=Tl(Au,n),p=rp(n);return Vy(),s.jsx(Km,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Vc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:s.jsx(ky,{"data-state":C9(f.open),role:"dialog",id:f.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),S9="PopoverClose",bpe=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Tl(S9,n);return s.jsx(Ce.button,{type:"button",...r,ref:t,onClick:ge(e.onClick,()=>a.onOpenChange(!1))})});bpe.displayName=S9;var Npe="PopoverArrow",_pe=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=rp(n);return s.jsx(Ay,{...a,...r,ref:t})});_pe.displayName=Npe;function C9(e){return e?"open":"closed"}var Spe=x9,Cpe=w9,kpe=b9,k9=N9;const Mc=Spe,Dc=Cpe,pl=m.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>s.jsx(kpe,{children:s.jsx(k9,{ref:a,align:t,sideOffset:n,className:me("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));pl.displayName=k9.displayName;function Ape(){const{profile:e}=ot(),{t,language:n}=Te(),[r,a]=m.useState([]),[i,o]=m.useState([]),[l,c]=m.useState(!0),[d,u]=m.useState(""),[h,f]=m.useState(new Date),[p,g]=m.useState("all"),[v,j]=m.useState("all"),[y,x]=m.useState(!1),[w,b]=m.useState({student_id:"",type:"school",status:"present",time:"",location:""}),S=(e==null?void 0:e.role)==="developer"?sessionStorage.getItem("developerViewRole")||"developer":e==null?void 0:e.role;m.useEffect(()=>{_(),N()},[h]);const _=async()=>{try{const z=De(h,"yyyy-MM-dd"),{data:P,error:E}=await V.from("attendance_records").select(`
          *,
          students!attendance_records_student_id_fkey (
            student_id,
            profiles!students_profile_id_fkey (
              full_name,
              full_name_ar
            )
          )
        `).eq("date",z).order("created_at",{ascending:!1});if(E)throw E;a(P||[])}catch(z){console.error("Error fetching attendance:",z),ae({title:n==="en"?"Error":"",description:z.message,variant:"destructive"})}finally{c(!1)}},N=async()=>{try{const{data:z,error:P}=await V.from("students").select(`
          id,
          student_id,
          profiles!students_profile_id_fkey (
            full_name,
            full_name_ar
          )
        `).order("student_id");if(P)throw P;o(z||[])}catch(z){console.error("Error fetching students:",z)}},C=async()=>{if(!w.student_id||!w.time){ae({title:n==="en"?"Error":"",description:n==="en"?"Please fill all required fields":"    ",variant:"destructive"});return}try{const{error:z}=await V.from("attendance_records").insert([{student_id:w.student_id,date:De(h,"yyyy-MM-dd"),time:w.time,type:w.type,status:w.status,method:"manual",location:w.location,recorded_by:e==null?void 0:e.id}]);if(z)throw z;ae({title:n==="en"?"Success":"",description:n==="en"?"Attendance marked successfully":"   "}),x(!1),b({student_id:"",type:"school",status:"present",time:"",location:""}),_()}catch(z){ae({title:n==="en"?"Error":"",description:z.message,variant:"destructive"})}},k=z=>{switch(z){case"present":return"bg-green-100 text-green-800";case"absent":return"bg-red-100 text-red-800";case"late":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},A=z=>{switch(z){case"present":return s.jsx(US,{className:"h-4 w-4"});case"absent":return s.jsx(mu,{className:"h-4 w-4"});case"late":return s.jsx(dr,{className:"h-4 w-4"});default:return null}},O=r.filter(z=>{var R,B,L,Q,se,W,ie,ue;const P=d===""||((L=(B=(R=z.students)==null?void 0:R.profiles)==null?void 0:B.full_name)==null?void 0:L.toLowerCase().includes(d.toLowerCase()))||((W=(se=(Q=z.students)==null?void 0:Q.profiles)==null?void 0:se.full_name_ar)==null?void 0:W.includes(d))||((ue=(ie=z.students)==null?void 0:ie.student_id)==null?void 0:ue.toLowerCase().includes(d.toLowerCase())),E=p==="all"||z.type===p,U=v==="all"||z.status===v;return P&&E&&U}),M=()=>{ae({title:n==="en"?"Report Generated":"  ",description:n==="en"?"Attendance report has been generated":"   "})};return S!=="admin"&&S!=="teacher"&&S!=="developer"?s.jsx("div",{className:"flex items-center justify-center h-[50vh]",children:s.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to view this page"})}):l?s.jsx(Pt,{size:"large",text:!0,fullScreen:!0}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:t("dashboard.attendance")}),s.jsx("p",{className:"text-muted-foreground",children:n==="en"?"Track and manage student attendance":"   "})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs($,{variant:"outline",onClick:M,children:[s.jsx(br,{className:"h-4 w-4 mr-2"}),n==="en"?"Export Report":" "]}),s.jsx($,{onClick:()=>x(!0),children:n==="en"?"Mark Attendance":" "})]})]}),s.jsx(q,{children:s.jsx(G,{className:"pt-6",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:n==="en"?"Date":""}),s.jsxs(Mc,{children:[s.jsx(Dc,{asChild:!0,children:s.jsxs($,{variant:"outline",className:me("w-full justify-start text-left font-normal",!h&&"text-muted-foreground"),children:[s.jsx(ft,{className:"mr-2 h-4 w-4"}),h?De(h,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(pl,{className:"w-auto p-0",align:"start",children:s.jsx(ml,{mode:"single",selected:h,onSelect:z=>z&&f(z),initialFocus:!0,className:me("p-3 pointer-events-auto")})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:n==="en"?"Search":""}),s.jsxs("div",{className:"relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(F,{placeholder:n==="en"?"Search students...":"  ...",value:d,onChange:z=>u(z.target.value),className:"pl-10"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:n==="en"?"Type":""}),s.jsxs(Pe,{value:p,onValueChange:g,children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"all",children:n==="en"?"All Types":" "}),s.jsx(K,{value:"school",children:n==="en"?"School":""}),s.jsx(K,{value:"bus",children:n==="en"?"Bus":""})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:n==="en"?"Status":""}),s.jsxs(Pe,{value:v,onValueChange:j,children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"all",children:n==="en"?"All Status":" "}),s.jsx(K,{value:"present",children:n==="en"?"Present":""}),s.jsx(K,{value:"absent",children:n==="en"?"Absent":""}),s.jsx(K,{value:"late",children:n==="en"?"Late":""})]})]})]})]})})}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:n==="en"?"Attendance Records":" "})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:O.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:n==="en"?"No attendance records found for this date":"     "})}):O.map(z=>{var P,E,U,R,B,L,Q;return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-2 rounded-full bg-muted",children:z.type==="school"?s.jsx(by,{className:"h-4 w-4"}):s.jsx(bn,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:n==="en"?(E=(P=z.students)==null?void 0:P.profiles)==null?void 0:E.full_name:((R=(U=z.students)==null?void 0:U.profiles)==null?void 0:R.full_name_ar)||((L=(B=z.students)==null?void 0:B.profiles)==null?void 0:L.full_name)}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[(Q=z.students)==null?void 0:Q.student_id,"  ",z.time,"  ",z.location||"N/A"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(ce,{className:`${k(z.status)} flex items-center gap-1`,children:[A(z.status),z.status==="present"?n==="en"?"Present":"":z.status==="absent"?n==="en"?"Absent":"":n==="en"?"Late":""]}),s.jsx(ce,{variant:"outline",children:z.type==="school"?n==="en"?"School":"":n==="en"?"Bus":""})]})]},z.id)})})})]}),s.jsx(qe,{open:y,onOpenChange:x,children:s.jsxs(Ve,{children:[s.jsx(Ke,{children:s.jsx(Ge,{children:n==="en"?"Mark Attendance":" "})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Student":""}),s.jsxs(Pe,{value:w.student_id,onValueChange:z=>b({...w,student_id:z}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:n==="en"?"Select a student":" "})}),s.jsx(Ae,{children:i.map(z=>{var P,E,U;return s.jsxs(K,{value:z.id,children:[z.student_id," - ",n==="en"?(P=z.profiles)==null?void 0:P.full_name:((E=z.profiles)==null?void 0:E.full_name_ar)||((U=z.profiles)==null?void 0:U.full_name)]},z.id)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Type":""}),s.jsxs(Pe,{value:w.type,onValueChange:z=>b({...w,type:z}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"school",children:n==="en"?"School":""}),s.jsx(K,{value:"bus",children:n==="en"?"Bus":""})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="en"?"Status":""}),s.jsxs(Pe,{value:w.status,onValueChange:z=>b({...w,status:z}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"present",children:n==="en"?"Present":""}),s.jsx(K,{value:"absent",children:n==="en"?"Absent":""}),s.jsx(K,{value:"late",children:n==="en"?"Late":""})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"time",children:n==="en"?"Time":""}),s.jsx(F,{id:"time",type:"time",value:w.time,onChange:z=>b({...w,time:z.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"location",children:n==="en"?"Location (Optional)":" ()"}),s.jsx(F,{id:"location",value:w.location,onChange:z=>b({...w,location:z.target.value}),placeholder:n==="en"?"e.g., Main Entrance":":  "})]})]})]}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>x(!1),children:t("common.cancel")}),s.jsx($,{onClick:C,children:n==="en"?"Mark Attendance":" "})]})]})})]})}function Ppe(){const{user:e,profile:t}=ot(),{language:n}=Te(),[r,a]=m.useState(!0),[i,o]=m.useState([]),[l,c]=m.useState(null),d=(t==null?void 0:t.role)==="developer"?sessionStorage.getItem("developerViewRole")||"developer":t==null?void 0:t.role;m.useEffect(()=>{u()},[e,t]);const u=async()=>{if(!e||!t){a(!1);return}try{if(d==="parent"){const{data:h,error:f}=await V.from("students").select("*").eq("parent_id",e.id);if(f)throw f;o(h||[])}else if(d==="student"){const{data:h,error:f}=await V.from("students").select("id").eq("profile_id",e.id).single();if(f)throw f;c(h)}}catch(h){console.error("Error loading data:",h)}finally{a(!1)}};return r?s.jsx(Pt,{fullScreen:!0}):d!=="parent"&&d!=="student"?s.jsx("div",{className:"p-6",children:s.jsx(q,{className:"border-orange-500/50 bg-orange-500/5",children:s.jsx(G,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Dr,{className:"h-5 w-5 text-orange-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium mb-1",children:n==="ar"?" ":"Not Available"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n==="ar"?"      ":"Bus tracking is only available for students and parents"})]})]})})})}):s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:n==="ar"?" ":"Bus Tracking"}),s.jsx("p",{className:"text-muted-foreground",children:n==="ar"?"    ":"Track school bus location in real-time"})]}),d==="parent"&&s.jsx(s.Fragment,{children:i.length>0?i.map(h=>s.jsx($O,{studentId:h.id,studentName:`${h.first_name} ${h.last_name}`,language:n,userId:e.id,showQuickActions:!0},h.id)):s.jsx(q,{children:s.jsx(G,{className:"pt-6",children:s.jsx("div",{className:"text-center text-muted-foreground",children:n==="ar"?"   ":"No children registered"})})})}),d==="student"&&l&&s.jsx($O,{studentId:l.id,studentName:"",language:n,userId:e.id,showQuickActions:!1}),d==="student"&&!l&&s.jsx(q,{children:s.jsx(G,{className:"pt-6",children:s.jsx("div",{className:"text-center text-muted-foreground",children:n==="ar"?"   ":"No student data found"})})})]})}function $O({studentId:e,studentName:t,language:n,userId:r,showQuickActions:a}){const[i,o]=m.useState(null),[l,c]=m.useState(null),[d,u]=m.useState([]),[h,f]=m.useState(!0),[p,g]=m.useState(!1),[v,j]=m.useState(""),[y,x]=m.useState(new Date),[w,b]=m.useState("");m.useEffect(()=>{S();const N=V.channel(`bus-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"bus_locations"},C=>{C.new.bus_id===(i==null?void 0:i.bus_id)&&c(C.new)}).subscribe();return()=>{V.removeChannel(N)}},[e]);const S=async()=>{var N;try{const{data:C,error:k}=await V.from("student_bus_assignments").select("*, buses(bus_number)").eq("student_id",e).eq("is_active",!0).maybeSingle();if(k)throw k;if(C){o({bus_id:C.bus_id,busNumber:(N=C.buses)==null?void 0:N.bus_number});const{data:A}=await V.from("bus_locations").select("*").eq("bus_id",C.bus_id).order("timestamp",{ascending:!1}).limit(1).maybeSingle();A&&c(A);const{data:O}=await V.from("bus_boarding_logs").select("*").eq("student_id",e).order("timestamp",{ascending:!1}).limit(10);O&&u(O)}}catch(C){console.error("Error loading bus data:",C)}finally{f(!1)}},_=async()=>{if(!v){fe.error(n==="ar"?"   ":"Please select request type");return}if(!w.trim()){fe.error(n==="ar"?"  ":"Please provide a reason");return}try{const{error:N}=await V.from("transport_requests").insert({student_id:e,parent_id:r,request_type:v,request_date:De(y,"yyyy-MM-dd"),reason:w,status:"pending"});if(N)throw N;fe.success(n==="ar"?"   ":"Request submitted successfully"),g(!1),j(""),b("")}catch(N){console.error("Error submitting request:",N),fe.error(n==="ar"?"  ":"Failed to submit request")}};return h?s.jsx(q,{children:s.jsx(G,{className:"pt-6",children:s.jsx("div",{className:"text-center text-muted-foreground",children:n==="ar"?" ...":"Loading..."})})}):i?s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bn,{className:"h-5 w-5"}),t&&s.jsx("span",{children:t}),!t&&s.jsx("span",{children:n==="ar"?" ":"Bus Tracking"})]}),s.jsxs(ce,{variant:"secondary",children:[n==="ar"?"":"Bus"," #",i.busNumber]})]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"relative h-[200px] bg-gradient-to-br from-primary/5 to-secondary/5 rounded-lg flex items-center justify-center overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBvcGFjaXR5PSIwLjA1IiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=')] opacity-20"}),s.jsxs("div",{className:"relative z-10 text-center space-y-3",children:[s.jsx(Tt.div,{animate:{y:[0,-10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:s.jsx(bn,{className:"h-12 w-12 text-primary mx-auto"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:(l==null?void 0:l.current_stop)||(n==="ar"?" ":"En Route")}),l!=null&&l.eta_minutes?s.jsxs("p",{className:"text-2xl font-bold text-primary mt-2",children:[l.eta_minutes," ",n==="ar"?"":"min"]}):s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:n==="ar"?"   ":"No live data available"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(dr,{className:"h-4 w-4"}),n==="ar"?"  ":"Boarding History"]}),s.jsx(Gn,{className:"h-[200px] rounded-lg border p-3",children:d.length>0?s.jsx("div",{className:"space-y-2",children:d.map(N=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-accent/5 rounded",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[N.action==="boarded"?s.jsx(w5,{className:"h-4 w-4 text-green-600"}):s.jsx(qS,{className:"h-4 w-4 text-orange-600"}),s.jsx("span",{className:"text-sm font-medium",children:N.action==="boarded"?n==="ar"?"  ":"Boarded Bus":n==="ar"?"  ":"Exited Bus"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:De(new Date(N.timestamp),"MMM dd, HH:mm")}),N.location&&s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(ka,{className:"h-3 w-3"}),N.location]})]})]},N.id))}):s.jsx("div",{className:"text-center text-sm text-muted-foreground py-8",children:n==="ar"?"    ":"No boarding history yet"})})]}),a&&s.jsxs(qe,{open:p,onOpenChange:g,children:[s.jsx(um,{asChild:!0,children:s.jsxs($,{variant:"outline",className:"w-full gap-2",children:[s.jsx(ft,{className:"h-4 w-4"}),n==="ar"?"  ":"Request Transport Change"]})}),s.jsxs(Ve,{className:"max-w-md",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:n==="ar"?"  ":"Transport Change Request"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:n==="ar"?" ":"Request Type"}),s.jsxs(Pe,{value:v,onValueChange:j,children:[s.jsx(ke,{className:"mt-2",children:s.jsx(Ee,{placeholder:n==="ar"?"  ":"Select request type"})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"absent",children:n==="ar"?" -  ":"Absent - Will not come"}),s.jsx(K,{value:"no_morning_bus",children:n==="ar"?"   ":"No morning bus"}),s.jsx(K,{value:"no_afternoon_bus",children:n==="ar"?"   ":"No afternoon bus"}),s.jsx(K,{value:"parent_pickup",children:n==="ar"?"    ":"Parent pickup"}),s.jsx(K,{value:"parent_dropoff",children:n==="ar"?"    ":"Parent dropoff"})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="ar"?"":"Date"}),s.jsx(ml,{mode:"single",selected:y,onSelect:N=>N&&x(N),disabled:N=>N<new Date,className:"rounded-md border mt-2"})]}),s.jsxs("div",{children:[s.jsx(T,{children:n==="ar"?"":"Reason"}),s.jsx(kr,{value:w,onChange:N=>b(N.target.value),placeholder:n==="ar"?"  ...":"Please provide a reason...",className:"mt-2",dir:n==="ar"?"rtl":"ltr"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>g(!1),children:n==="ar"?"":"Cancel"}),s.jsxs($,{onClick:_,children:[s.jsx(Gi,{className:"h-4 w-4 mr-2"}),n==="ar"?"":"Submit"]})]})]})]})]})]}):s.jsx(q,{children:s.jsx(G,{className:"pt-6",children:s.jsx("div",{className:"text-center text-muted-foreground",children:n==="ar"?"   ":"No bus assigned"})})})}var d0={},A9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(A9);var JC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(JC);var ek={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(ek);var u0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],a=n.length;if(a===0)return r;let i=0,o="",l="",c=!1;for(n.charCodeAt(0)===46&&(r.push(""),i++);i<a;){const d=n[i];l?d==="\\"&&i+1<a?(i++,o+=n[i]):d===l?l="":o+=d:c?d==='"'||d==="'"?l=d:d==="]"?(c=!1,r.push(o),o=""):o+=d:d==="["?(c=!0,o&&(r.push(o),o="")):d==="."?o&&(r.push(o),o=""):o+=d,i++}return o&&r.push(o),r}e.toPath=t})(u0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A9,n=JC,r=ek,a=u0;function i(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?n.isDeepKey(c)?i(l,a.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const u=l[c];return u===void 0?d:u}default:{if(Array.isArray(c))return o(l,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?d:u}}}function o(l,c,d){if(c.length===0)return d;let u=l;for(let h=0;h<c.length;h++){if(u==null||t.isUnsafeProperty(c[h]))return d;u=u[c[h]]}return u===void 0?d:u}e.get=i})(d0);var Epe=d0.get;const Rc=pi(Epe);var P9={exports:{}},Dt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tk=Symbol.for("react.transitional.element"),nk=Symbol.for("react.portal"),h0=Symbol.for("react.fragment"),f0=Symbol.for("react.strict_mode"),m0=Symbol.for("react.profiler"),p0=Symbol.for("react.consumer"),g0=Symbol.for("react.context"),v0=Symbol.for("react.forward_ref"),x0=Symbol.for("react.suspense"),y0=Symbol.for("react.suspense_list"),j0=Symbol.for("react.memo"),w0=Symbol.for("react.lazy"),Tpe=Symbol.for("react.view_transition"),Ope=Symbol.for("react.client.reference");function ia(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case tk:switch(e=e.type,e){case h0:case m0:case f0:case x0:case y0:case Tpe:return e;default:switch(e=e&&e.$$typeof,e){case g0:case v0:case w0:case j0:return e;case p0:return e;default:return t}}case nk:return t}}}Dt.ContextConsumer=p0;Dt.ContextProvider=g0;Dt.Element=tk;Dt.ForwardRef=v0;Dt.Fragment=h0;Dt.Lazy=w0;Dt.Memo=j0;Dt.Portal=nk;Dt.Profiler=m0;Dt.StrictMode=f0;Dt.Suspense=x0;Dt.SuspenseList=y0;Dt.isContextConsumer=function(e){return ia(e)===p0};Dt.isContextProvider=function(e){return ia(e)===g0};Dt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===tk};Dt.isForwardRef=function(e){return ia(e)===v0};Dt.isFragment=function(e){return ia(e)===h0};Dt.isLazy=function(e){return ia(e)===w0};Dt.isMemo=function(e){return ia(e)===j0};Dt.isPortal=function(e){return ia(e)===nk};Dt.isProfiler=function(e){return ia(e)===m0};Dt.isStrictMode=function(e){return ia(e)===f0};Dt.isSuspense=function(e){return ia(e)===x0};Dt.isSuspenseList=function(e){return ia(e)===y0};Dt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===h0||e===m0||e===f0||e===x0||e===y0||typeof e=="object"&&e!==null&&(e.$$typeof===w0||e.$$typeof===j0||e.$$typeof===g0||e.$$typeof===p0||e.$$typeof===v0||e.$$typeof===Ope||e.getModuleId!==void 0)};Dt.typeOf=ia;P9.exports=Dt;var Mpe=P9.exports,Hn=e=>e===0?0:e>0?1:-1,cs=e=>typeof e=="number"&&e!=+e,nc=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Be=e=>(typeof e=="number"||e instanceof Number)&&!cs(e),fi=e=>Be(e)||typeof e=="string",Dpe=0,pm=e=>{var t=++Dpe;return"".concat(e||"").concat(t)},Nr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Be(t)&&typeof t!="string")return r;var i;if(nc(t)){if(n==null)return r;var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return cs(i)&&(i=r),a&&n!=null&&i>n&&(i=n),i},E9=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Qt(e,t,n){return Be(e)&&Be(t)?e+n*(t-e):t}function T9(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Rc(r,t))===n)}var nn=e=>e===null||typeof e>"u",sp=e=>nn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Rpe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function rk(e){if(typeof e!="string")return!1;var t=Rpe;return t.includes(e)}var Ipe=["viewBox","children"],LO=["points","pathLength"],Dw={svg:Ipe,polygon:LO,polyline:LO},sk=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(m.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{rk(a)&&(r[a]=i=>n[a](n,i))}),r},$pe=(e,t,n)=>r=>(e(t,n,r),null),ap=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];rk(a)&&typeof i=="function"&&(r||(r={}),r[a]=$pe(i,t,n))}),r},Lpe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function O9(e){if(typeof e!="string")return!1;var t=Lpe;return t.includes(e)}function Ba(e){var t=Object.entries(e).filter(n=>{var[r]=n;return O9(r)});return Object.fromEntries(t)}var FO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",BO=null,Rw=null,M9=e=>{if(e===BO&&Array.isArray(Rw))return Rw;var t=[];return m.Children.forEach(e,n=>{nn(n)||(Mpe.isFragment(n)?t=t.concat(M9(n.props.children)):t.push(n))}),Rw=t,BO=e,t};function ak(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>FO(a)):r=[FO(t)],M9(e).forEach(a=>{var i=Rc(a,"type.displayName")||Rc(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}var D9=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Fpe=(e,t,n,r)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=r&&(Dw==null?void 0:Dw[r]))!==null&&a!==void 0?a:[],o=t.startsWith("data-"),l=typeof e!="function"&&(!!r&&i.includes(t)||O9(t)),c=!!n&&rk(t);return o||l||c},vn=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(m.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(i=>{var o;Fpe((o=r)===null||o===void 0?void 0:o[i],i,t,n)&&(a[i]=r[i])}),a},Bpe=["children","width","height","viewBox","className","style","title","desc"];function fN(){return fN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fN.apply(null,arguments)}function zpe(e,t){if(e==null)return{};var n,r,a=Upe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Upe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ik=m.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:i,className:o,style:l,title:c,desc:d}=e,u=zpe(e,Bpe),h=i||{width:r,height:a,x:0,y:0},f=mt("recharts-surface",o);return m.createElement("svg",fN({},vn(u,!0,"svg"),{className:f,width:r,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),m.createElement("title",null,c),m.createElement("desc",null,d),n)}),Vpe=["children","className"];function mN(){return mN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mN.apply(null,arguments)}function Wpe(e,t){if(e==null)return{};var n,r,a=qpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var On=m.forwardRef((e,t)=>{var{children:n,className:r}=e,a=Wpe(e,Vpe),i=mt("recharts-layer",r);return m.createElement("g",mN({className:i},vn(a,!0),{ref:t}),n)}),R9=m.createContext(null),Hpe=()=>m.useContext(R9);function It(e){return function(){return e}}const I9=Math.cos,sx=Math.sin,za=Math.sqrt,ax=Math.PI,b0=2*ax,pN=Math.PI,gN=2*pN,Hl=1e-6,Kpe=gN-Hl;function $9(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Gpe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $9;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class Ype{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$9:Gpe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-t,d=a-n,u=o-t,h=l-n,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Hl)if(!(Math.abs(h*c-d*u)>Hl)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-o,g=a-l,v=c*c+d*d,j=p*p+g*g,y=Math.sqrt(v),x=Math.sqrt(f),w=i*Math.tan((pN-Math.acos((v+f-j)/(2*y*x)))/2),b=w/x,S=w/y;Math.abs(b-1)>Hl&&this._append`L${t+b*u},${n+b*h}`,this._append`A${i},${i},0,0,${+(h*p>u*g)},${this._x1=t+S*c},${this._y1=n+S*d}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),d=t+l,u=n+c,h=1^o,f=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Hl||Math.abs(this._y1-u)>Hl)&&this._append`L${d},${u}`,r&&(f<0&&(f=f%gN+gN),f>Kpe?this._append`A${r},${r},0,1,${h},${t-l},${n-c}A${r},${r},0,1,${h},${this._x1=d},${this._y1=u}`:f>Hl&&this._append`A${r},${r},0,${+(f>=pN)},${h},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function ok(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Ype(t)}function lk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function L9(e){this._context=e}L9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function N0(e){return new L9(e)}function F9(e){return e[0]}function B9(e){return e[1]}function z9(e,t){var n=It(!0),r=null,a=N0,i=null,o=ok(l);e=typeof e=="function"?e:e===void 0?F9:It(e),t=typeof t=="function"?t:t===void 0?B9:It(t);function l(c){var d,u=(c=lk(c)).length,h,f=!1,p;for(r==null&&(i=a(p=o())),d=0;d<=u;++d)!(d<u&&n(h=c[d],d,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(h,d,c),+t(h,d,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:It(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:It(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:It(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,r!=null&&(i=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=i=null:i=a(r=c),l):r},l}function ug(e,t,n){var r=null,a=It(!0),i=null,o=N0,l=null,c=ok(d);e=typeof e=="function"?e:e===void 0?F9:It(+e),t=typeof t=="function"?t:It(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?B9:It(+n);function d(h){var f,p,g,v=(h=lk(h)).length,j,y=!1,x,w=new Array(v),b=new Array(v);for(i==null&&(l=o(x=c())),f=0;f<=v;++f){if(!(f<v&&a(j=h[f],f,h))===y)if(y=!y)p=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=f-1;g>=p;--g)l.point(w[g],b[g]);l.lineEnd(),l.areaEnd()}y&&(w[f]=+e(j,f,h),b[f]=+t(j,f,h),l.point(r?+r(j,f,h):w[f],n?+n(j,f,h):b[f]))}if(x)return l=null,x+""||null}function u(){return z9().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:It(+h),r=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:It(+h),d):e},d.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:It(+h),d):r},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:It(+h),n=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:It(+h),d):t},d.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:It(+h),d):n},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(n)},d.lineX1=function(){return u().x(r).y(t)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:It(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class U9{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Xpe(e){return new U9(e,!0)}function Zpe(e){return new U9(e,!1)}const ck={draw(e,t){const n=za(t/ax);e.moveTo(n,0),e.arc(0,0,n,0,b0)}},Qpe={draw(e,t){const n=za(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},V9=za(1/3),Jpe=V9*2,ege={draw(e,t){const n=za(t/Jpe),r=n*V9;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},tge={draw(e,t){const n=za(t),r=-n/2;e.rect(r,r,n,n)}},nge=.8908130915292852,W9=sx(ax/10)/sx(7*ax/10),rge=sx(b0/10)*W9,sge=-I9(b0/10)*W9,age={draw(e,t){const n=za(t*nge),r=rge*n,a=sge*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=b0*i/5,l=I9(o),c=sx(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*a,c*r+l*a)}e.closePath()}},Iw=za(3),ige={draw(e,t){const n=-za(t/(Iw*3));e.moveTo(0,n*2),e.lineTo(-Iw*n,-n),e.lineTo(Iw*n,-n),e.closePath()}},Rs=-.5,Is=za(3)/2,vN=1/za(12),oge=(vN/2+1)*3,lge={draw(e,t){const n=za(t/oge),r=n/2,a=n*vN,i=r,o=n*vN+n,l=-i,c=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Rs*r-Is*a,Is*r+Rs*a),e.lineTo(Rs*i-Is*o,Is*i+Rs*o),e.lineTo(Rs*l-Is*c,Is*l+Rs*c),e.lineTo(Rs*r+Is*a,Rs*a-Is*r),e.lineTo(Rs*i+Is*o,Rs*o-Is*i),e.lineTo(Rs*l+Is*c,Rs*c-Is*l),e.closePath()}};function cge(e,t){let n=null,r=ok(a);e=typeof e=="function"?e:It(e||ck),t=typeof t=="function"?t:It(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:It(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:It(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function ix(){}function ox(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function q9(e){this._context=e}q9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ox(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ox(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dge(e){return new q9(e)}function H9(e){this._context=e}H9.prototype={areaStart:ix,areaEnd:ix,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ox(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uge(e){return new H9(e)}function K9(e){this._context=e}K9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ox(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hge(e){return new K9(e)}function G9(e){this._context=e}G9.prototype={areaStart:ix,areaEnd:ix,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function fge(e){return new G9(e)}function zO(e){return e<0?-1:1}function UO(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(zO(i)+zO(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function VO(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function $w(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,a+l*t,i-l,o-l*n,i,o)}function lx(e){this._context=e}lx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$w(this,this._t0,VO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$w(this,VO(this,n=UO(this,e,t)),n);break;default:$w(this,this._t0,n=UO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Y9(e){this._context=new X9(e)}(Y9.prototype=Object.create(lx.prototype)).point=function(e,t){lx.prototype.point.call(this,t,e)};function X9(e){this._context=e}X9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function mge(e){return new lx(e)}function pge(e){return new Y9(e)}function Z9(e){this._context=e}Z9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=WO(e),a=WO(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function WO(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function gge(e){return new Z9(e)}function _0(e,t){this._context=e,this._t=t}_0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function vge(e){return new _0(e,.5)}function xge(e){return new _0(e,0)}function yge(e){return new _0(e,1)}function Pu(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function xN(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function jge(e,t){return e[t]}function wge(e){const t=[];return t.key=e,t}function bge(){var e=It([]),t=xN,n=Pu,r=jge;function a(i){var o=Array.from(e.apply(this,arguments),wge),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+r(h,o[l].key,d,i)]).data=h;for(l=0,u=lk(t(o));l<c;++l)o[u[l]].index=l;return n(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:It(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:It(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?xN:typeof i=="function"?i:It(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??Pu,a):n},a}function Nge(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}Pu(e,t)}}function _ge(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Pu(e,t)}}function Sge(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],h=u[r][1]||0,f=u[r-1][1]||0,p=(h-f)/2,g=0;g<l;++g){var v=e[t[g]],j=v[r][1]||0,y=v[r-1][1]||0;p+=j-y}c+=h,d+=p*h}a[r-1][1]+=a[r-1][0]=n,c&&(n-=d/c)}a[r-1][1]+=a[r-1][0]=n,Pu(e,t)}}var Cge=["type","size","sizeType"];function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yN.apply(null,arguments)}function qO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function HO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(n),!0).forEach(function(r){kge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kge(e,t,n){return(t=Age(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Age(e){var t=Pge(e,"string");return typeof t=="symbol"?t:t+""}function Pge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ege(e,t){if(e==null)return{};var n,r,a=Tge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Tge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Q9={symbolCircle:ck,symbolCross:Qpe,symbolDiamond:ege,symbolSquare:tge,symbolStar:age,symbolTriangle:ige,symbolWye:lge},Oge=Math.PI/180,Mge=e=>{var t="symbol".concat(sp(e));return Q9[t]||ck},Dge=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*Oge;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Rge=(e,t)=>{Q9["symbol".concat(sp(e))]=t},dk=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=Ege(e,Cge),i=HO(HO({},a),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var f=Mge(o),p=cge().type(f).size(Dge(n,r,o));return p()},{className:c,cx:d,cy:u}=i,h=vn(i,!0);return d===+d&&u===+u&&n===+n?m.createElement("path",yN({},h,{className:mt("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:l()})):null};dk.registerSymbol=Rge;function jN(){return jN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jN.apply(null,arguments)}function KO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ige(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(n),!0).forEach(function(r){uk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uk(e,t,n){return(t=$ge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ge(e){var t=Lge(e,"string");return typeof t=="symbol"?t:t+""}function Lge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $s=32;class hk extends m.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,a=$s/2,i=$s/6,o=$s/3,l=t.inactive?r:t.color,c=n??t.type;if(c==="none")return null;if(c==="plainline")return m.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:$s,y2:a,className:"recharts-legend-icon"});if(c==="line")return m.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat($s,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return m.createElement("path",{stroke:"none",fill:l,d:"M0,".concat($s/8,"h").concat($s,"v").concat($s*3/4,"h").concat(-$s,"z"),className:"recharts-legend-icon"});if(m.isValidElement(t.legendIcon)){var d=Ige({},t);return delete d.legendIcon,m.cloneElement(t.legendIcon,d)}return m.createElement(dk,{fill:l,cx:a,cy:a,size:$s,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:$s,height:$s},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,h)=>{var f=u.formatter||a,p=mt({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:u.inactive});if(u.type==="none")return null;var g=u.inactive?i:u.color,v=f?f(u.value,u,h):u.value;return m.createElement("li",jN({className:p,style:c,key:"legend-item-".concat(h)},ap(this.props,u,h)),m.createElement(ik,{width:n,height:n,viewBox:l,style:d,"aria-label":"".concat(v," legend icon")},this.renderIcon(u,o)),m.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return m.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}uk(hk,"displayName","Legend");uk(hk,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var J9={},ez={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let i=0;i<n.length;i++){const o=n[i],l=r(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(ez);var fk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(fk);var tz={},S0={},nz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(nz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nz;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(S0);var rz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(rz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S0,n=rz;function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(tz);var sz={},az={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d0;function n(r){return function(a){return t.get(a,r)}}e.property=n})(az);var iz={},Lw={},Fw={},mk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(mk);var pk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(pk);var gk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(gk);var GO;function Fge(){return GO||(GO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vk(),n=mk,r=pk,a=gk;function i(h,f,p){return typeof p!="function"?t.isMatch(h,f):o(h,f,function g(v,j,y,x,w,b){const S=p(v,j,y,x,w,b);return S!==void 0?!!S:o(v,j,g,b)},new Map)}function o(h,f,p,g){if(f===h)return!0;switch(typeof f){case"object":return l(h,f,p,g);case"function":return Object.keys(f).length>0?o(h,{...f},p,g):a.eq(h,f);default:return n.isObject(h)?typeof f=="string"?f==="":!0:a.eq(h,f)}}function l(h,f,p,g){if(f==null)return!0;if(Array.isArray(f))return d(h,f,p,g);if(f instanceof Map)return c(h,f,p,g);if(f instanceof Set)return u(h,f,p,g);const v=Object.keys(f);if(h==null)return v.length===0;if(v.length===0)return!0;if(g&&g.has(f))return g.get(f)===h;g&&g.set(f,h);try{for(let j=0;j<v.length;j++){const y=v[j];if(!r.isPrimitive(h)&&!(y in h)||f[y]===void 0&&h[y]!==void 0||f[y]===null&&h[y]!==null||!p(h[y],f[y],y,h,f,g))return!1}return!0}finally{g&&g.delete(f)}}function c(h,f,p,g){if(f.size===0)return!0;if(!(h instanceof Map))return!1;for(const[v,j]of f.entries()){const y=h.get(v);if(p(y,j,v,h,f,g)===!1)return!1}return!0}function d(h,f,p,g){if(f.length===0)return!0;if(!Array.isArray(h))return!1;const v=new Set;for(let j=0;j<f.length;j++){const y=f[j];let x=!1;for(let w=0;w<h.length;w++){if(v.has(w))continue;const b=h[w];let S=!1;if(p(b,y,j,h,f,g)&&(S=!0),S){v.add(w),x=!0;break}}if(!x)return!1}return!0}function u(h,f,p,g){return f.size===0?!0:h instanceof Set?d([...h],[...f],p,g):!1}e.isMatchWith=i,e.isSetMatch=u}(Fw)),Fw}var YO;function vk(){return YO||(YO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fge();function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n}(Lw)),Lw}var oz={},xk={},lz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(lz);var yk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(yk);var jk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",h="[object Function]",f="[object ArrayBuffer]",p="[object Object]",g="[object Error]",v="[object DataView]",j="[object Uint8Array]",y="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",b="[object BigUint64Array]",S="[object Int8Array]",_="[object Int16Array]",N="[object Int32Array]",C="[object BigInt64Array]",k="[object Float32Array]",A="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=f,e.arrayTag=u,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=b,e.booleanTag=a,e.dataViewTag=v,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=k,e.float64ArrayTag=A,e.functionTag=h,e.int16ArrayTag=_,e.int32ArrayTag=N,e.int8ArrayTag=S,e.mapTag=c,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=x,e.uint32ArrayTag=w,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=y})(jk);var cz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(cz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lz,n=yk,r=jk,a=pk,i=cz;function o(u,h){return l(u,void 0,u,new Map,h)}function l(u,h,f,p=new Map,g=void 0){const v=g==null?void 0:g(u,h,f,p);if(v!==void 0)return v;if(a.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const j=new Array(u.length);p.set(u,j);for(let y=0;y<u.length;y++)j[y]=l(u[y],y,f,p,g);return Object.hasOwn(u,"index")&&(j.index=u.index),Object.hasOwn(u,"input")&&(j.input=u.input),j}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const j=new RegExp(u.source,u.flags);return j.lastIndex=u.lastIndex,j}if(u instanceof Map){const j=new Map;p.set(u,j);for(const[y,x]of u)j.set(y,l(x,y,f,p,g));return j}if(u instanceof Set){const j=new Set;p.set(u,j);for(const y of u)j.add(l(y,void 0,f,p,g));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const j=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,j);for(let y=0;y<u.length;y++)j[y]=l(u[y],y,f,p,g);return j}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const j=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,j),c(j,u,f,p,g),j}if(typeof File<"u"&&u instanceof File){const j=new File([u],u.name,{type:u.type});return p.set(u,j),c(j,u,f,p,g),j}if(u instanceof Blob){const j=new Blob([u],{type:u.type});return p.set(u,j),c(j,u,f,p,g),j}if(u instanceof Error){const j=new u.constructor;return p.set(u,j),j.message=u.message,j.name=u.name,j.stack=u.stack,j.cause=u.cause,c(j,u,f,p,g),j}if(typeof u=="object"&&d(u)){const j=Object.create(Object.getPrototypeOf(u));return p.set(u,j),c(j,u,f,p,g),j}return u}function c(u,h,f=u,p,g){const v=[...Object.keys(h),...t.getSymbols(h)];for(let j=0;j<v.length;j++){const y=v[j],x=Object.getOwnPropertyDescriptor(u,y);(x==null||x.writable)&&(u[y]=l(h[y],y,f,p,g))}}function d(u){switch(n.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(xk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xk;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(oz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vk(),n=oz;function r(a){return a=n.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=r})(iz);var dz={},uz={},hz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xk,n=jk;function r(a,i){return t.cloneDeepWith(a,(o,l,c,d)=>{const u=i==null?void 0:i(o,l,c,d);if(u!==void 0)return u;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case n.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}})}e.cloneDeepWith=r})(hz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hz;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(uz);var fz={},wk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(wk);var mz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yk;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(mz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JC,n=wk,r=mz,a=u0;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let d=o;for(let u=0;u<c.length;u++){const h=c[u];if((d==null||!Object.hasOwn(d,h))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(h)&&h<d.length))return!1;d=d[h]}return!0}e.has=i})(fz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vk(),n=ek,r=uz,a=d0,i=fz;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(d){const u=a.get(d,l);return u===void 0?i.has(d,l):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=o})(dz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fk,n=az,r=iz,a=dz;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i})(sz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ez,n=fk,r=tz,a=sz;function i(o,l=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=i})(J9);var Bge=J9.uniqBy;const XO=pi(Bge);function pz(e,t,n){return t===!0?XO(e,n):typeof t=="function"?XO(e,t):e}var gz={exports:{}},vz={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0=m,zge=MF;function Uge(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vge=typeof Object.is=="function"?Object.is:Uge,Wge=zge.useSyncExternalStore,qge=C0.useRef,Hge=C0.useEffect,Kge=C0.useMemo,Gge=C0.useDebugValue;vz.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=qge(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Kge(function(){function c(p){if(!d){if(d=!0,u=p,p=r(p),a!==void 0&&o.hasValue){var g=o.value;if(a(g,p))return h=g}return h=p}if(g=h,Vge(u,p))return g;var v=r(p);return a!==void 0&&a(g,v)?(u=p,g):(u=p,h=v)}var d=!1,u,h,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,r,a]);var l=Wge(e,i[0],i[1]);return Hge(function(){o.hasValue=!0,o.value=l},[l]),Gge(l),l};gz.exports=vz;var Yge=gz.exports,bk=m.createContext(null),Xge=e=>e,an=()=>{var e=m.useContext(bk);return e?e.store.dispatch:Xge},Qg=()=>{},Zge=()=>Qg,Qge=(e,t)=>e===t;function ze(e){var t=m.useContext(bk);return Yge.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Zge,t?t.store.getState:Qg,t?t.store.getState:Qg,t?e:Qg,Qge)}function Jge(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function eve(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function tve(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var ZO=e=>Array.isArray(e)?e:[e];function nve(e){const t=Array.isArray(e[0])?e[0]:e;return tve(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function rve(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var sve=class{constructor(e){this.value=e}deref(){return this.value}},ave=typeof WeakRef<"u"?WeakRef:sve,ive=0,QO=1;function hg(){return{s:ive,v:void 0,o:null,p:null}}function xz(e,t={}){let n=hg();const{resultEqualityCheck:r}=t;let a,i=0;function o(){var h;let l=n;const{length:c}=arguments;for(let f=0,p=c;f<p;f++){const g=arguments[f];if(typeof g=="function"||typeof g=="object"&&g!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const j=v.get(g);j===void 0?(l=hg(),v.set(g,l)):l=j}else{let v=l.p;v===null&&(l.p=v=new Map);const j=v.get(g);j===void 0?(l=hg(),v.set(g,l)):l=j}}const d=l;let u;if(l.s===QO)u=l.v;else if(u=e.apply(null,arguments),i++,r){const f=((h=a==null?void 0:a.deref)==null?void 0:h.call(a))??a;f!=null&&r(f,u)&&(u=f,i!==0&&i--),a=typeof u=="object"&&u!==null||typeof u=="function"?new ave(u):u}return d.s=QO,d.v=u,u}return o.clearCache=()=>{n=hg(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function ove(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let i=0,o=0,l,c={},d=a.pop();typeof d=="object"&&(c=d,d=a.pop()),Jge(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...n,...c},{memoize:h,memoizeOptions:f=[],argsMemoize:p=xz,argsMemoizeOptions:g=[],devModeChecks:v={}}=u,j=ZO(f),y=ZO(g),x=nve(a),w=h(function(){return i++,d.apply(null,arguments)},...j),b=p(function(){o++;const _=rve(x,arguments);return l=w.apply(null,_),l},...y);return Object.assign(b,{resultFunc:d,memoizedResultFunc:w,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:h,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var re=ove(xz),lve=Object.assign((e,t=re)=>{eve(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(i=>e[i]);return t(r,(...i)=>i.reduce((o,l,c)=>(o[n[c]]=l,o),{}))},{withTypes:()=>lve}),yz={},jz={},wz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,i)=>{if(r!==a){const o=t(r),l=t(a);if(o===l&&o===0){if(r<a)return i==="desc"?1:-1;if(r>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=n})(wz);var bz={},Nk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Nk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nk,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(bz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wz,n=bz,r=u0;function a(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(p=>String(p));const d=(p,g)=>{let v=p;for(let j=0;j<g.length&&v!=null;++j)v=v[g[j]];return v},u=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:d(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?d(g,p):typeof g=="object"?g[p]:g,h=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return i.map(p=>({original:p,criteria:h.map(g=>u(g,p))})).slice().sort((p,g)=>{for(let v=0;v<h.length;v++){const j=t.compareValues(p.criteria[v],g.criteria[v],l[v]);if(j!==0)return j}return 0}).map(p=>p.original)}e.orderBy=a})(jz);var Nz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],i=Math.floor(r),o=(l,c)=>{for(let d=0;d<l.length;d++){const u=l[d];Array.isArray(u)&&c<i?o(u,c+1):a.push(u)}};return o(n,0),a}e.flatten=t})(Nz);var _k={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wk,n=S0,r=mk,a=gk;function i(o,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],o):!1}e.isIterateeCall=i})(_k);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jz,n=Nz,r=_k;function a(i,...o){const l=o.length;return l>1&&r.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,n.flatten(o),["asc"])}e.sortBy=a})(yz);var cve=yz.sortBy;const k0=pi(cve);var _z=e=>e.legend.settings,dve=e=>e.legend.size,uve=e=>e.legend.payload,hve=re([uve,_z],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?k0(r,n):r});function fve(){return ze(hve)}var fg=1;function Sz(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=m.useState({height:0,left:0,top:0,width:0}),r=m.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>fg||Math.abs(o.left-t.left)>fg||Math.abs(o.top-t.top)>fg||Math.abs(o.width-t.width)>fg)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Jn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var mve=typeof Symbol=="function"&&Symbol.observable||"@@observable",JO=mve,Bw=()=>Math.random().toString(36).substring(7).split("").join("."),pve={INIT:`@@redux/INIT${Bw()}`,REPLACE:`@@redux/REPLACE${Bw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Bw()}`},cx=pve;function Sk(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Cz(e,t,n){if(typeof e!="function")throw new Error(Jn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Jn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Jn(1));return n(Cz)(e,t)}let r=e,a=t,i=new Map,o=i,l=0,c=!1;function d(){o===i&&(o=new Map,i.forEach((j,y)=>{o.set(y,j)}))}function u(){if(c)throw new Error(Jn(3));return a}function h(j){if(typeof j!="function")throw new Error(Jn(4));if(c)throw new Error(Jn(5));let y=!0;d();const x=l++;return o.set(x,j),function(){if(y){if(c)throw new Error(Jn(6));y=!1,d(),o.delete(x),i=null}}}function f(j){if(!Sk(j))throw new Error(Jn(7));if(typeof j.type>"u")throw new Error(Jn(8));if(typeof j.type!="string")throw new Error(Jn(17));if(c)throw new Error(Jn(9));try{c=!0,a=r(a,j)}finally{c=!1}return(i=o).forEach(x=>{x()}),j}function p(j){if(typeof j!="function")throw new Error(Jn(10));r=j,f({type:cx.REPLACE})}function g(){const j=h;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Jn(11));function x(){const b=y;b.next&&b.next(u())}return x(),{unsubscribe:j(x)}},[JO](){return this}}}return f({type:cx.INIT}),{dispatch:f,subscribe:h,getState:u,replaceReducer:p,[JO]:g}}function gve(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:cx.INIT})>"u")throw new Error(Jn(12));if(typeof n(void 0,{type:cx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Jn(13))})}function kz(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{gve(n)}catch(i){a=i}return function(o={},l){if(a)throw a;let c=!1;const d={};for(let u=0;u<r.length;u++){const h=r[u],f=n[h],p=o[h],g=f(p,l);if(typeof g>"u")throw l&&l.type,new Error(Jn(14));d[h]=g,c=c||g!==p}return c=c||r.length!==Object.keys(o).length,c?d:o}}function dx(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function vve(...e){return t=>(n,r)=>{const a=t(n,r);let i=()=>{throw new Error(Jn(15))};const o={getState:a.getState,dispatch:(c,...d)=>i(c,...d)},l=e.map(c=>c(o));return i=dx(...l)(a.dispatch),{...a,dispatch:i}}}function Az(e){return Sk(e)&&"type"in e&&typeof e.type=="string"}var Pz=Symbol.for("immer-nothing"),eM=Symbol.for("immer-draftable"),Es=Symbol.for("immer-state");function wa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Eu=Object.getPrototypeOf;function Ic(e){return!!e&&!!e[Es]}function Zi(e){var t;return e?Ez(e)||Array.isArray(e)||!!e[eM]||!!((t=e.constructor)!=null&&t[eM])||ip(e)||P0(e):!1}var xve=Object.prototype.constructor.toString();function Ez(e){if(!e||typeof e!="object")return!1;const t=Eu(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===xve}function ux(e,t){A0(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function A0(e){const t=e[Es];return t?t.type_:Array.isArray(e)?1:ip(e)?2:P0(e)?3:0}function wN(e,t){return A0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Tz(e,t,n){const r=A0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function yve(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ip(e){return e instanceof Map}function P0(e){return e instanceof Set}function Kl(e){return e.copy_||e.base_}function bN(e,t){if(ip(e))return new Map(e);if(P0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Ez(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Es];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Eu(e),r)}else{const r=Eu(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function Ck(e,t=!1){return E0(e)||Ic(e)||!Zi(e)||(A0(e)>1&&Object.defineProperties(e,{set:{value:mg},add:{value:mg},clear:{value:mg},delete:{value:mg}}),Object.freeze(e),t&&Object.values(e).forEach(n=>Ck(n,!0))),e}function mg(){wa(2)}function E0(e){return Object.isFrozen(e)}var jve={};function $c(e){const t=jve[e];return t||wa(0,e),t}var gm;function Oz(){return gm}function wve(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function tM(e,t){t&&($c("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function NN(e){_N(e),e.drafts_.forEach(bve),e.drafts_=null}function _N(e){e===gm&&(gm=e.parent_)}function nM(e){return gm=wve(gm,e)}function bve(e){const t=e[Es];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function rM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Es].modified_&&(NN(t),wa(4)),Zi(e)&&(e=hx(t,e),t.parent_||fx(t,e)),t.patches_&&$c("Patches").generateReplacementPatches_(n[Es].base_,e,t.patches_,t.inversePatches_)):e=hx(t,n,[]),NN(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Pz?e:void 0}function hx(e,t,n){if(E0(t))return t;const r=t[Es];if(!r)return ux(t,(a,i)=>sM(e,r,t,a,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return fx(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let i=a,o=!1;r.type_===3&&(i=new Set(a),a.clear(),o=!0),ux(i,(l,c)=>sM(e,r,a,l,c,n,o)),fx(e,a,!1),n&&e.patches_&&$c("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function sM(e,t,n,r,a,i,o){if(Ic(a)){const l=i&&t&&t.type_!==3&&!wN(t.assigned_,r)?i.concat(r):void 0,c=hx(e,a,l);if(Tz(n,r,c),Ic(c))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(Zi(a)&&!E0(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;hx(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(ip(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&fx(e,a)}}function fx(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ck(t,n)}function Nve(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Oz(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=kk;n&&(a=[r],i=vm);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return r.draft_=l,r.revoke_=o,l}var kk={get(e,t){if(t===Es)return e;const n=Kl(e);if(!wN(n,t))return _ve(e,n,t);const r=n[t];return e.finalized_||!Zi(r)?r:r===zw(e.base_,t)?(Uw(e),e.copy_[t]=CN(r,e)):r},has(e,t){return t in Kl(e)},ownKeys(e){return Reflect.ownKeys(Kl(e))},set(e,t,n){const r=Mz(Kl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=zw(Kl(e),t),i=a==null?void 0:a[Es];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(yve(n,a)&&(n!==void 0||wN(e.base_,t)))return!0;Uw(e),SN(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return zw(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Uw(e),SN(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Kl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){wa(11)},getPrototypeOf(e){return Eu(e.base_)},setPrototypeOf(){wa(12)}},vm={};ux(kk,(e,t)=>{vm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});vm.deleteProperty=function(e,t){return vm.set.call(this,e,t,void 0)};vm.set=function(e,t,n){return kk.set.call(this,e[0],t,n,e[0])};function zw(e,t){const n=e[Es];return(n?Kl(n):e)[t]}function _ve(e,t,n){var a;const r=Mz(t,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(e.draft_):void 0}function Mz(e,t){if(!(t in e))return;let n=Eu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Eu(n)}}function SN(e){e.modified_||(e.modified_=!0,e.parent_&&SN(e.parent_))}function Uw(e){e.copy_||(e.copy_=bN(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Sve=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(c=i,...d){return o.produce(c,u=>n.call(this,u,...d))}}typeof n!="function"&&wa(6),r!==void 0&&typeof r!="function"&&wa(7);let a;if(Zi(t)){const i=nM(this),o=CN(t,void 0);let l=!0;try{a=n(o),l=!1}finally{l?NN(i):_N(i)}return tM(i,r),rM(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===Pz&&(a=void 0),this.autoFreeze_&&Ck(a,!0),r){const i=[],o=[];$c("Patches").generateReplacementPatches_(t,a,i,o),r(i,o)}return a}else wa(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let r,a;return[this.produce(t,n,(o,l)=>{r=o,a=l}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Zi(e)||wa(8),Ic(e)&&(e=Ii(e));const t=nM(this),n=CN(e,void 0);return n[Es].isManual_=!0,_N(t),n}finishDraft(e,t){const n=e&&e[Es];(!n||!n.isManual_)&&wa(9);const{scope_:r}=n;return tM(r,t),rM(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=$c("Patches").applyPatches_;return Ic(e)?r(e,t):this.produce(e,a=>r(a,t))}};function CN(e,t){const n=ip(e)?$c("MapSet").proxyMap_(e,t):P0(e)?$c("MapSet").proxySet_(e,t):Nve(e,t);return(t?t.scope_:Oz()).drafts_.push(n),n}function Ii(e){return Ic(e)||wa(10,e),Dz(e)}function Dz(e){if(!Zi(e)||E0(e))return e;const t=e[Es];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=bN(e,t.scope_.immer_.useStrictShallowCopy_)}else n=bN(e,!0);return ux(n,(r,a)=>{Tz(n,r,Dz(a))}),t&&(t.finalized_=!1),n}var Cve=new Sve,Rz=Cve.produce;function Iz(e){return({dispatch:n,getState:r})=>a=>i=>typeof i=="function"?i(n,r,e):a(i)}var kve=Iz(),Ave=Iz,Pve=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dx:dx.apply(null,arguments)};function na(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(_s(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Az(r)&&r.type===e,n}var $z=class ef extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ef.prototype)}static get[Symbol.species](){return ef}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ef(...t[0].concat(this)):new ef(...t.concat(this))}};function aM(e){return Zi(e)?Rz(e,()=>{}):e}function pg(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Eve(e){return typeof e=="boolean"}var Tve=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new $z;return n&&(Eve(n)?o.push(kve):o.push(Ave(n.extraArgument))),o},Ove="RTK_autoBatch",iM=e=>t=>{setTimeout(t,e)},Mve=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:iM(10):e.type==="callback"?e.queueNotification:iM(e.timeout),d=()=>{o=!1,i&&(i=!1,l.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const h=()=>a&&u(),f=r.subscribe(h);return l.add(u),()=>{f(),l.delete(u)}},dispatch(u){var h;try{return a=!((h=u==null?void 0:u.meta)!=null&&h[Ove]),i=!a,i&&(o||(o=!0,c(d))),r.dispatch(u)}finally{a=!0}}})},Dve=e=>function(n){const{autoBatch:r=!0}=n??{};let a=new $z(e);return r&&a.push(Mve(typeof r=="object"?r:void 0)),a};function Rve(e){const t=Tve(),{reducer:n=void 0,middleware:r,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(Sk(n))c=kz(n);else throw new Error(_s(1));let d;typeof r=="function"?d=r(t):d=t();let u=dx;a&&(u=Pve({trace:!1,...typeof a=="object"&&a}));const h=vve(...d),f=Dve(h);let p=typeof l=="function"?l(f):f();const g=u(...p);return Cz(c,o,g)}function Lz(e){const t={},n=[];let r;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(_s(28));if(l in t)throw new Error(_s(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return n.push({matcher:i,reducer:o}),a},addDefaultCase(i){return r=i,a}};return e(a),[t,n,r]}function Ive(e){return typeof e=="function"}function $ve(e,t){let[n,r,a]=Lz(t),i;if(Ive(e))i=()=>aM(e());else{const l=aM(e);i=()=>l}function o(l=i(),c){let d=[n[c.type],...r.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[a]),d.reduce((u,h)=>{if(h)if(Ic(u)){const p=h(u,c);return p===void 0?u:p}else{if(Zi(u))return Rz(u,f=>h(f,c));{const f=h(u,c);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},l)}return o.getInitialState=i,o}var Lve="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Fve=(e=21)=>{let t="",n=e;for(;n--;)t+=Lve[Math.random()*64|0];return t},Bve=Symbol.for("rtk-slice-createasyncthunk");function zve(e,t){return`${e}/${t}`}function Uve({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Bve];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(_s(11));typeof process<"u";const l=(typeof a.reducers=="function"?a.reducers(Wve()):a.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(b,S){const _=typeof b=="string"?b:b.type;if(!_)throw new Error(_s(12));if(_ in d.sliceCaseReducersByType)throw new Error(_s(13));return d.sliceCaseReducersByType[_]=S,u},addMatcher(b,S){return d.sliceMatchers.push({matcher:b,reducer:S}),u},exposeAction(b,S){return d.actionCreators[b]=S,u},exposeCaseReducer(b,S){return d.sliceCaseReducersByName[b]=S,u}};c.forEach(b=>{const S=l[b],_={reducerName:b,type:zve(i,b),createNotation:typeof a.reducers=="function"};Hve(S)?Gve(_,S,u,t):qve(_,S,u)});function h(){const[b={},S=[],_=void 0]=typeof a.extraReducers=="function"?Lz(a.extraReducers):[a.extraReducers],N={...b,...d.sliceCaseReducersByType};return $ve(a.initialState,C=>{for(let k in N)C.addCase(k,N[k]);for(let k of d.sliceMatchers)C.addMatcher(k.matcher,k.reducer);for(let k of S)C.addMatcher(k.matcher,k.reducer);_&&C.addDefaultCase(_)})}const f=b=>b,p=new Map,g=new WeakMap;let v;function j(b,S){return v||(v=h()),v(b,S)}function y(){return v||(v=h()),v.getInitialState()}function x(b,S=!1){function _(C){let k=C[b];return typeof k>"u"&&S&&(k=pg(g,_,y)),k}function N(C=f){const k=pg(p,S,()=>new WeakMap);return pg(k,C,()=>{const A={};for(const[O,M]of Object.entries(a.selectors??{}))A[O]=Vve(M,C,()=>pg(g,C,y),S);return A})}return{reducerPath:b,getSelectors:N,get selectors(){return N(_)},selectSlice:_}}const w={name:i,reducer:j,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:y,...x(o),injectInto(b,{reducerPath:S,..._}={}){const N=S??o;return b.inject({reducerPath:N,reducer:j},_),{...w,...x(N,!0)}}};return w}}function Vve(e,t,n,r){function a(i,...o){let l=t(i);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return a.unwrapped=e,a}var Ms=Uve();function Wve(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function qve({type:e,reducerName:t,createNotation:n},r,a){let i,o;if("reducer"in r){if(n&&!Kve(r))throw new Error(_s(17));i=r.reducer,o=r.prepare}else i=r;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?na(e,o):na(e))}function Hve(e){return e._reducerDefinitionType==="asyncThunk"}function Kve(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Gve({type:e,reducerName:t},n,r,a){if(!a)throw new Error(_s(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=n,h=a(e,i,u);r.exposeAction(t,h),o&&r.addCase(h.fulfilled,o),l&&r.addCase(h.pending,l),c&&r.addCase(h.rejected,c),d&&r.addMatcher(h.settled,d),r.exposeCaseReducer(t,{fulfilled:o||gg,pending:l||gg,rejected:c||gg,settled:d||gg})}function gg(){}var Yve="task",Fz="listener",Bz="completed",Ak="cancelled",Xve=`task-${Ak}`,Zve=`task-${Bz}`,kN=`${Fz}-${Ak}`,Qve=`${Fz}-${Bz}`,T0=class{constructor(e){xh(this,"name","TaskAbortError");xh(this,"message");this.code=e,this.message=`${Yve} ${Ak} (reason: ${e})`}},Pk=(e,t)=>{if(typeof e!="function")throw new TypeError(_s(32))},mx=()=>{},zz=(e,t=mx)=>(e.catch(t),e),Uz=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),gc=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},vc=e=>{if(e.aborted){const{reason:t}=e;throw new T0(t)}};function Vz(e,t){let n=mx;return new Promise((r,a)=>{const i=()=>a(new T0(e.reason));if(e.aborted){i();return}n=Uz(e,i),t.finally(()=>n()).then(r,a)}).finally(()=>{n=mx})}var Jve=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof T0?"cancelled":"rejected",error:n}}finally{t==null||t()}},px=e=>t=>zz(Vz(e,t).then(n=>(vc(e),n))),Wz=e=>{const t=px(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Kd}=Object,oM={},O0="listenerMiddleware",exe=(e,t)=>{const n=r=>Uz(e,()=>gc(r,e.reason));return(r,a)=>{Pk(r);const i=new AbortController;n(i);const o=Jve(async()=>{vc(e),vc(i.signal);const l=await r({pause:px(i.signal),delay:Wz(i.signal),signal:i.signal});return vc(i.signal),l},()=>gc(i,Zve));return a!=null&&a.autoJoin&&t.push(o.catch(mx)),{result:px(e)(o),cancel(){gc(i,Xve)}}}},txe=(e,t)=>{const n=async(r,a)=>{vc(t);let i=()=>{};const l=[new Promise((c,d)=>{let u=e({predicate:r,effect:(h,f)=>{f.unsubscribe(),c([h,f.getState(),f.getOriginalState()])}});i=()=>{u(),d()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await Vz(t,Promise.race(l));return vc(t),c}finally{i()}};return(r,a)=>zz(n(r,a))},qz=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=na(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(_s(21));return Pk(i),{predicate:a,type:t,effect:i}},Hz=Kd(e=>{const{type:t,predicate:n,effect:r}=qz(e);return{id:Fve(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(_s(22))}}},{withTypes:()=>Hz}),lM=(e,t)=>{const{type:n,effect:r,predicate:a}=qz(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===r)},AN=e=>{e.pending.forEach(t=>{gc(t,kN)})},nxe=e=>()=>{e.forEach(AN),e.clear()},cM=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},Kz=Kd(na(`${O0}/add`),{withTypes:()=>Kz}),rxe=na(`${O0}/removeAll`),Gz=Kd(na(`${O0}/remove`),{withTypes:()=>Gz}),sxe=(...e)=>{console.error(`${O0}/error`,...e)},op=(e={})=>{const t=new Map,{extra:n,onError:r=sxe}=e;Pk(r);const a=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),h=>{u.unsubscribe(),h!=null&&h.cancelActive&&AN(u)}),i=u=>{const h=lM(t,u)??Hz(u);return a(h)};Kd(i,{withTypes:()=>i});const o=u=>{const h=lM(t,u);return h&&(h.unsubscribe(),u.cancelActive&&AN(h)),!!h};Kd(o,{withTypes:()=>o});const l=async(u,h,f,p)=>{const g=new AbortController,v=txe(i,g.signal),j=[];try{u.pending.add(g),await Promise.resolve(u.effect(h,Kd({},f,{getOriginalState:p,condition:(y,x)=>v(y,x).then(Boolean),take:v,delay:Wz(g.signal),pause:px(g.signal),extra:n,signal:g.signal,fork:exe(g.signal,j),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((y,x,w)=>{y!==g&&(gc(y,kN),w.delete(y))})},cancel:()=>{gc(g,kN),u.pending.delete(g)},throwIfCancelled:()=>{vc(g.signal)}})))}catch(y){y instanceof T0||cM(r,y,{raisedBy:"effect"})}finally{await Promise.all(j),gc(g,Qve),u.pending.delete(g)}},c=nxe(t);return{middleware:u=>h=>f=>{if(!Az(f))return h(f);if(Kz.match(f))return i(f.payload);if(rxe.match(f)){c();return}if(Gz.match(f))return o(f.payload);let p=u.getState();const g=()=>{if(p===oM)throw new Error(_s(23));return p};let v;try{if(v=h(f),t.size>0){const j=u.getState(),y=Array.from(t.values());for(const x of y){let w=!1;try{w=x.predicate(f,j,p)}catch(b){w=!1,cM(r,b,{raisedBy:"predicate"})}w&&l(x,f,u,g)}}}finally{p=oM}return v},startListening:i,stopListening:o,clearListeners:c}};function _s(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var axe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Yz=Ms({name:"chartLayout",initialState:axe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,i;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:ixe,setLayout:oxe,setChartSize:lxe,setScale:cxe}=Yz.actions,dxe=Yz.reducer;function dM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dM(Object(n),!0).forEach(function(r){uxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uxe(e,t,n){return(t=hxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hxe(e){var t=fxe(e,"string");return typeof t=="symbol"?t:t+""}function fxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gx=Math.PI/180,mxe=e=>e*180/Math.PI,En=(e,t,n,r)=>({x:e+Math.cos(-gx*r)*n,y:t+Math.sin(-gx*r)*n}),Xz=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},pxe=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)},gxe=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,o=pxe({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(n-a)/o,c=Math.acos(l);return r>i&&(c=2*Math.PI-c),{radius:o,angle:mxe(c),angleInRadian:c}},vxe=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-i*360,endAngle:n-i*360}},xxe=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return e+o*360},yxe=(e,t)=>{var{x:n,y:r}=e,{radius:a,angle:i}=gxe({x:n,y:r},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:d}=vxe(t),u=i,h;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;h=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;h=u>=d&&u<=c}return h?uM(uM({},t),{},{radius:a,angle:xxe(u,t)}):null};function Zz(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function hM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ws(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hM(Object(n),!0).forEach(function(r){jxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jxe(e,t,n){return(t=wxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wxe(e){var t=bxe(e,"string");return typeof t=="symbol"?t:t+""}function bxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lt(e,t,n){return nn(e)||nn(t)?n:fi(t)?Rc(e,t,n):typeof t=="function"?t(e):n}var Nxe=(e,t,n,r,a)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var d=c>0?n[c-1].coordinate:n[l-1].coordinate,u=n[c].coordinate,h=c>=l-1?n[0].coordinate:n[c+1].coordinate,f=void 0;if(Hn(u-d)!==Hn(h-u)){var p=[];if(Hn(h-u)===Hn(a[1]-a[0])){f=h;var g=u+a[1]-a[0];p[0]=Math.min(g,(g+d)/2),p[1]=Math.max(g,(g+d)/2)}else{f=d;var v=h+a[1]-a[0];p[0]=Math.min(u,(v+u)/2),p[1]=Math.max(u,(v+u)/2)}var j=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>j[0]&&e<=j[1]||e>=p[0]&&e<=p[1]){({index:o}=n[c]);break}}else{var y=Math.min(d,h),x=Math.max(d,h);if(e>(y+u)/2&&e<=(x+u)/2){({index:o}=n[c]);break}}}else if(t){for(var w=0;w<l;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},_xe=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&Be(e[i]))return Ws(Ws({},e),{},{[i]:e[i]+(r||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&Be(e[o]))return Ws(Ws({},e),{},{[o]:e[o]+(a||0)})}return e},lo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Qz=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===n&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(n),o},Jz=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:h,niceTicks:f,axisType:p}=e;if(!o)return null;var g=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=a==="category"&&o.bandwidth?o.bandwidth()/g:0;if(v=p==="angleAxis"&&i&&i.length>=2?Hn(i[0]-i[1])*2*v:v,h||f){var j=(h||f||[]).map((y,x)=>{var w=r?r.indexOf(y):y;return{coordinate:o(w)+v,value:y,offset:v,index:x}});return j.filter(y=>!cs(y.coordinate))}return c&&d?d.map((y,x)=>({coordinate:o(y)+v,value:y,index:x,offset:v})):o.ticks&&!n&&u!=null?o.ticks(u).map((y,x)=>({coordinate:o(y)+v,value:y,offset:v,index:x})):o.domain().map((y,x)=>({coordinate:o(y)+v,value:r?r[y]:y,index:x,offset:v}))},fM=1e-4,Sxe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-fM,i=Math.max(r[0],r[1])+fM,o=e(t[0]),l=e(t[n-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[n-1]])}},Cxe=(e,t)=>{if(!t||t.length!==2||!Be(t[0])||!Be(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Be(e[0])||e[0]<n)&&(a[0]=n),(!Be(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},kxe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0,o=0;o<t;++o){var l=cs(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1])}},Axe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0;i<t;++i){var o=cs(e[i][n][1])?e[i][n][0]:e[i][n][1];o>=0?(e[i][n][0]=a,e[i][n][1]=a+o,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},Pxe={sign:kxe,expand:Nge,none:Pu,silhouette:_ge,wiggle:Sge,positive:Axe},Exe=(e,t,n)=>{var r=Pxe[n],a=bge().keys(t).value((i,o)=>+Lt(i,o,0)).order(xN).offset(r);return a(e)};function eU(e){return e==null?void 0:String(e)}function mM(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!nn(a[t.dataKey])){var l=T9(n,"value",a[t.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=Lt(a,nn(o)?t.dataKey:o);return nn(c)?null:t.scale(c)}var pM=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var l=Lt(i,t.dataKey,t.scale.domain()[o]);return nn(l)?null:t.scale(l)-a/2+r},Txe=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},Oxe=e=>{var t=e.flat(2).filter(Be);return[Math.min(...t),Math.max(...t)]},Mxe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Dxe=(e,t,n)=>{if(e!=null)return Mxe(Object.keys(e).reduce((r,a)=>{var i=e[a],{stackedData:o}=i,l=o.reduce((c,d)=>{var u=Zz(d,t,n),h=Oxe(u);return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},gM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xm=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=k0(t,u=>u.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var c=a[o],d=a[o-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function xM(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return Ws(Ws({},t),{},{dataKey:n,payload:r,value:a,name:i})}function ih(e,t){if(e)return String(e);if(typeof t=="string")return t}function Rxe(e,t,n,r,a){if(n==="horizontal"||n==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return r?yxe({x:e,y:t},r):null}var Ixe=(e,t,n,r)=>{var a=t.find(d=>d&&d.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:o}=r;return Ws(Ws(Ws({},r),En(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:c}=r;return Ws(Ws(Ws({},r),En(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},$xe=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,co=e=>e.layout.width,uo=e=>e.layout.height,Lxe=e=>e.layout.scale,tU=e=>e.layout.margin,M0=re(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),D0=re(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),nU="data-recharts-item-index",rU="data-recharts-item-data-key",lp=60;function yM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yM(Object(n),!0).forEach(function(r){Fxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fxe(e,t,n){return(t=Bxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bxe(e){var t=zxe(e,"string");return typeof t=="symbol"?t:t+""}function zxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uxe=e=>e.brush.height;function Vxe(e){var t=D0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:lp;return n+a}return n},0)}function Wxe(e){var t=D0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:lp;return n+a}return n},0)}function qxe(e){var t=M0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Hxe(e){var t=M0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Bn=re([co,uo,tU,Uxe,Vxe,Wxe,qxe,Hxe,_z,dve],(e,t,n,r,a,i,o,l,c,d)=>{var u={left:(n.left||0)+a,right:(n.right||0)+i},h={top:(n.top||0)+o,bottom:(n.bottom||0)+l},f=vg(vg({},h),u),p=f.bottom;f.bottom+=r,f=_xe(f,c,d);var g=e-f.left-f.right,v=t-f.top-f.bottom;return vg(vg({brushBottom:p},f),{},{width:Math.max(g,0),height:Math.max(v,0)})}),Kxe=re(Bn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Ek=re(co,uo,(e,t)=>({x:0,y:0,width:e,height:t})),Gxe=m.createContext(null),ds=()=>m.useContext(Gxe)!=null,R0=e=>e.brush,I0=re([R0,Bn,tU],(e,t,n)=>({height:e.height,x:Be(e.x)?e.x:t.left,y:Be(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Be(e.width)?e.width:t.width})),Tk=()=>{var e,t=ds(),n=ze(Kxe),r=ze(I0),a=(e=ze(R0))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},Yxe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},sU=()=>{var e;return(e=ze(Bn))!==null&&e!==void 0?e:Yxe},Ok=()=>ze(co),Mk=()=>ze(uo),Xxe=()=>ze(e=>e.layout.margin),ht=e=>e.layout.layoutType,$0=()=>ze(ht),Zxe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},aU=Ms({name:"legend",initialState:Zxe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Ii(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:jM,setLegendSettings:Qxe,addLegendPayload:iU,removeLegendPayload:oU}=aU.actions,Jxe=aU.reducer,eye=["contextPayload"];function PN(){return PN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PN.apply(null,arguments)}function wM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(n),!0).forEach(function(r){Dk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dk(e,t,n){return(t=tye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tye(e){var t=nye(e,"string");return typeof t=="symbol"?t:t+""}function nye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rye(e,t){if(e==null)return{};var n,r,a=sye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function sye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aye(e){return e.value}function iye(e){var{contextPayload:t}=e,n=rye(e,eye),r=pz(t,e.payloadUniqBy,aye),a=Tu(Tu({},n),{},{payload:r});return m.isValidElement(e.content)?m.cloneElement(e.content,a):typeof e.content=="function"?m.createElement(e.content,a):m.createElement(hk,a)}function oye(e,t,n,r,a,i){var{layout:o,align:l,verticalAlign:c}=t,d,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?d={left:((r||0)-i.width)/2}:d=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?u={top:((a||0)-i.height)/2}:u=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Tu(Tu({},d),u)}function lye(e){var t=an();return m.useEffect(()=>{t(Qxe(e))},[t,e]),null}function cye(e){var t=an();return m.useEffect(()=>(t(jM(e)),()=>{t(jM({width:0,height:0}))}),[t,e]),null}function dye(e){var t=fve(),n=Hpe(),r=Xxe(),{width:a,height:i,wrapperStyle:o,portal:l}=e,[c,d]=Sz([t]),u=Ok(),h=Mk();if(u==null||h==null)return null;var f=u-(r.left||0)-(r.right||0),p=Gd.getWidthOrHeight(e.layout,i,a,f),g=l?o:Tu(Tu({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||i||"auto"},oye(o,e,r,u,h,c)),o),v=l??n;if(v==null)return null;var j=m.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},m.createElement(lye,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),m.createElement(cye,{width:c.width,height:c.height}),m.createElement(iye,PN({},e,p,{margin:r,chartWidth:u,chartHeight:h,contextPayload:t})));return no.createPortal(j,v)}class Gd extends m.PureComponent{static getWidthOrHeight(t,n,r,a){return t==="vertical"&&Be(n)?{height:n}:t==="horizontal"?{width:r||a}:null}render(){return m.createElement(dye,this.props)}}Dk(Gd,"displayName","Legend");Dk(Gd,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function EN(){return EN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EN.apply(null,arguments)}function bM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bM(Object(n),!0).forEach(function(r){uye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uye(e,t,n){return(t=hye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hye(e){var t=fye(e,"string");return typeof t=="symbol"?t:t+""}function fye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mye(e){return Array.isArray(e)&&fi(e[0])&&fi(e[1])?e.join(" ~ "):e}var pye=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:h,accessibilityLayer:f=!1}=e,p=()=>{if(i&&i.length){var S={padding:0,margin:0},_=(l?k0(i,l):i).map((N,C)=>{if(N.type==="none")return null;var k=N.formatter||o||mye,{value:A,name:O}=N,M=A,z=O;if(k){var P=k(A,O,N,C,i);if(Array.isArray(P))[M,z]=P;else if(P!=null)M=P;else return null}var E=Vw({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return m.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:E},fi(z)?m.createElement("span",{className:"recharts-tooltip-item-name"},z):null,fi(z)?m.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,m.createElement("span",{className:"recharts-tooltip-item-value"},M),m.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return m.createElement("ul",{className:"recharts-tooltip-item-list",style:S},_)}return null},g=Vw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=Vw({margin:0},a),j=!nn(u),y=j?u:"",x=mt("recharts-default-tooltip",c),w=mt("recharts-tooltip-label",d);j&&h&&i!==void 0&&i!==null&&(y=h(u,i));var b=f?{role:"status","aria-live":"assertive"}:{};return m.createElement("div",EN({className:x,style:g},b),m.createElement("p",{className:w,style:v},m.isValidElement(y)?y:"".concat(y)),p())},Dh="recharts-tooltip-wrapper",gye={visibility:"hidden"};function vye(e){var{coordinate:t,translateX:n,translateY:r}=e;return mt(Dh,{["".concat(Dh,"-right")]:Be(n)&&t&&Be(t.x)&&n>=t.x,["".concat(Dh,"-left")]:Be(n)&&t&&Be(t.x)&&n<t.x,["".concat(Dh,"-bottom")]:Be(r)&&t&&Be(t.y)&&r>=t.y,["".concat(Dh,"-top")]:Be(r)&&t&&Be(t.y)&&r<t.y})}function NM(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=e;if(i&&Be(i[r]))return i[r];var u=n[r]-l-(a>0?a:0),h=n[r]+a;if(t[r])return o[r]?u:h;var f=c[r];if(f==null)return 0;if(o[r]){var p=u,g=f;return p<g?Math.max(h,f):Math.max(u,f)}if(d==null)return 0;var v=h+l,j=f+d;return v>j?Math.max(u,f):Math.max(h,f)}function xye(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function yye(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,d,u,h;return o.height>0&&o.width>0&&n?(u=NM({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=NM({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=xye({translateX:u,translateY:h,useTranslate3d:l})):d=gye,{cssProperties:d,cssClasses:vye({translateX:u,translateY:h,coordinate:n})}}function _M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(n),!0).forEach(function(r){TN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TN(e,t,n){return(t=jye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jye(e){var t=wye(e,"string");return typeof t=="symbol"?t:t+""}function wye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bye extends m.PureComponent{constructor(){super(...arguments),TN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),TN(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:d,position:u,reverseDirection:h,useTranslate3d:f,viewBox:p,wrapperStyle:g,lastBoundingBox:v,innerRef:j,hasPortalFromProps:y}=this.props,{cssClasses:x,cssProperties:w}=yye({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:u,reverseDirection:h,tooltipBox:{height:v.height,width:v.width},useTranslate3d:f,viewBox:p}),b=y?{}:xg(xg({transition:c&&t?"transform ".concat(r,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),S=xg(xg({},b),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return m.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:S,ref:j},i)}}var Nye=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ol={devToolsEnabled:!1,isSsr:Nye()},lU=()=>ze(e=>e.rootProps.accessibilityLayer);function cr(e){return Number.isFinite(e)}function Ou(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ON.apply(null,arguments)}function SM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function CM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(n),!0).forEach(function(r){_ye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ye(e,t,n){return(t=Sye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sye(e){var t=Cye(e,"string");return typeof t=="symbol"?t:t+""}function Cye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kM={curveBasisClosed:uge,curveBasisOpen:hge,curveBasis:dge,curveBumpX:Xpe,curveBumpY:Zpe,curveLinearClosed:fge,curveLinear:N0,curveMonotoneX:mge,curveMonotoneY:pge,curveNatural:gge,curveStep:vge,curveStepAfter:yge,curveStepBefore:xge},yg=e=>cr(e.x)&&cr(e.y),Rh=e=>e.x,Ih=e=>e.y,kye=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(sp(e));return(n==="curveMonotone"||n==="curveBump")&&t?kM["".concat(n).concat(t==="vertical"?"Y":"X")]:kM[n]||N0},Aye=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:i=!1}=e,o=kye(t,a),l=i?n.filter(yg):n,c;if(Array.isArray(r)){var d=i?r.filter(h=>yg(h)):r,u=l.map((h,f)=>CM(CM({},h),{},{base:d[f]}));return a==="vertical"?c=ug().y(Ih).x1(Rh).x0(h=>h.base.x):c=ug().x(Rh).y1(Ih).y0(h=>h.base.y),c.defined(yg).curve(o),c(u)}return a==="vertical"&&Be(r)?c=ug().y(Ih).x1(Rh).x0(r):Be(r)?c=ug().x(Rh).y1(Ih).y0(r):c=z9().x(Rh).y(Ih),c.defined(yg).curve(o),c(l)},bf=e=>{var{className:t,points:n,path:r,pathRef:a}=e;if((!n||!n.length)&&!r)return null;var i=n&&n.length?Aye(e):r;return m.createElement("path",ON({},Ba(e),sk(e),{className:mt("recharts-curve",t),d:i===null?void 0:i,ref:a}))},Pye=["x","y","top","left","width","height","className"];function MN(){return MN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MN.apply(null,arguments)}function AM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Eye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(n),!0).forEach(function(r){Tye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tye(e,t,n){return(t=Oye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oye(e){var t=Mye(e,"string");return typeof t=="symbol"?t:t+""}function Mye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dye(e,t){if(e==null)return{};var n,r,a=Rye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Rye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Iye=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),$ye=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:i=0,height:o=0,className:l}=e,c=Dye(e,Pye),d=Eye({x:t,y:n,top:r,left:a,width:i,height:o},c);return!Be(t)||!Be(n)||!Be(i)||!Be(o)||!Be(r)||!Be(a)?null:m.createElement("path",MN({},vn(d,!0),{className:mt("recharts-cross",l),d:Iye(t,n,i,o,r,a)}))};function Lye(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function PM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(n),!0).forEach(function(r){Bye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bye(e,t,n){return(t=zye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zye(e){var t=Uye(e,"string");return typeof t=="symbol"?t:t+""}function Uye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hr(e,t){var n=Fye({},e),r=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return i}function Vye(){}function EM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function TM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(n),!0).forEach(function(r){Wye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wye(e,t,n){return(t=qye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qye(e){var t=Hye(e,"string");return typeof t=="symbol"?t:t+""}function Hye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kye=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),cU=(e,t,n)=>e.map(r=>"".concat(Kye(r)," ").concat(t,"ms ").concat(n)).join(","),Gye=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),ym=(e,t)=>Object.keys(t).reduce((n,r)=>TM(TM({},n),{},{[r]:e(r,t[r])}),{});function OM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(n),!0).forEach(function(r){Yye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yye(e,t,n){return(t=Xye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xye(e){var t=Zye(e,"string");return typeof t=="symbol"?t:t+""}function Zye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vx=(e,t,n)=>e+(t-e)*n,DN=e=>{var{from:t,to:n}=e;return t!==n},dU=(e,t,n)=>{var r=ym((a,i)=>{if(DN(i)){var[o,l]=e(i.from,i.to,i.velocity);return rr(rr({},i),{},{from:o,velocity:l})}return i},t);return n<1?ym((a,i)=>DN(i)?rr(rr({},i),{},{velocity:vx(i.velocity,r[a].velocity,n),from:vx(i.from,r[a].from,n)}):i,t):dU(e,r,n-1)};function Qye(e,t,n,r,a,i){var o,l=r.reduce((f,p)=>rr(rr({},f),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>ym((f,p)=>p.from,l),d=()=>!Object.values(l).filter(DN).length,u=null,h=f=>{o||(o=f);var p=f-o,g=p/n.dt;l=dU(n,l,g),a(rr(rr(rr({},e),t),c())),o=f,d()||(u=i.setTimeout(h))};return()=>(u=i.setTimeout(h),()=>{u()})}function Jye(e,t,n,r,a,i,o){var l=null,c=a.reduce((h,f)=>rr(rr({},h),{},{[f]:[e[f],t[f]]}),{}),d,u=h=>{d||(d=h);var f=(h-d)/r,p=ym((v,j)=>vx(...j,n(f)),c);if(i(rr(rr(rr({},e),t),p)),f<1)l=o.setTimeout(u);else{var g=ym((v,j)=>vx(...j,n(1)),c);i(rr(rr(rr({},e),t),g))}};return()=>(l=o.setTimeout(u),()=>{l()})}const e0e=(e,t,n,r,a,i)=>{var o=Gye(e,t);return n.isStepper===!0?Qye(e,t,n,o,a,i):Jye(e,t,n,r,o,a,i)};var xx=1e-4,uU=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],hU=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),MM=(e,t)=>n=>{var r=uU(e,t);return hU(r,n)},t0e=(e,t)=>n=>{var r=uU(e,t),a=[...r.map((i,o)=>i*o).slice(1),0];return hU(a,n)},DM=function(){for(var t,n,r,a,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,r,n,a]=[0,0,1,1];break;case"ease":[t,r,n,a]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,a]=[.42,0,1,1];break;case"ease-out":[t,r,n,a]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,a]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,r,n,a]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else o.length===4&&([t,r,n,a]=o);var d=MM(t,n),u=MM(r,a),h=t0e(t,n),f=g=>g>1?1:g<0?0:g,p=g=>{for(var v=g>1?1:g,j=v,y=0;y<8;++y){var x=d(j)-v,w=h(j);if(Math.abs(x-v)<xx||w<xx)return u(j);j=f(j-x/w)}return u(j)};return p.isStepper=!1,p},n0e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=t,i=(o,l,c)=>{var d=-(o-l)*n,u=c*r,h=c+(d-u)*a/1e3,f=c*a/1e3+o;return Math.abs(f-l)<xx&&Math.abs(h)<xx?[l,0]:[f,h]};return i.isStepper=!0,i.dt=a,i},r0e=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return DM(e);case"spring":return n0e();default:if(e.split("(")[0]==="cubic-bezier")return DM(e)}return typeof e=="function"?e:null};function s0e(e){var t,n=()=>null,r=!1,a=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...d]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,d),c);return}i(c),a=e.setTimeout(i.bind(null,d));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class a0e{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,i=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function i0e(){return s0e(new a0e)}var o0e=m.createContext(i0e);function l0e(e,t){var n=m.useContext(o0e);return m.useMemo(()=>t??n(e),[e,t,n])}var c0e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},RM={t:0},Ww={t:1};function cp(e){var t=hr(e,c0e),{isActive:n,canBegin:r,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:d}=t,u=l0e(t.animationId,t.animationManager),[h,f]=m.useState(n?RM:Ww),p=m.useRef(null);return m.useEffect(()=>{n||f(Ww)},[n]),m.useEffect(()=>{if(!n||!r)return Vye;var g=e0e(RM,Ww,r0e(i),a,f,u.getTimeoutController()),v=()=>{p.current=g()};return u.start([c,o,v,a,l]),()=>{u.stop(),p.current&&p.current(),l()}},[n,r,a,i,o,c,l,u]),d(h.t)}function dp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=m.useRef(pm(t)),r=m.useRef(e);return r.current!==e&&(n.current=pm(t),r.current=e),n.current}function IM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $M(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(n),!0).forEach(function(r){d0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d0e(e,t,n){return(t=u0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u0e(e){var t=h0e(e,"string");return typeof t=="symbol"?t:t+""}function h0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yx.apply(null,arguments)}var LM=(e,t,n,r,a)=>{var i=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,d;if(i>0&&a instanceof Array){for(var u=[0,0,0,0],h=0,f=4;h<f;h++)u[h]=a[h]>i?i:a[h];d="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),d+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(t+o*u[1])),d+="L ".concat(e+n,",").concat(t+r-o*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+n-l*u[2],",").concat(t+r)),d+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+r-o*u[3])),d+="Z"}else if(i>0&&a===+a&&a>0){var p=Math.min(i,a);d="M ".concat(e,",").concat(t+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+l*p,",").concat(t,`
            L `).concat(e+n-l*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*p,`
            L `).concat(e+n,",").concat(t+r-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+n-l*p,",").concat(t+r,`
            L `).concat(e+l*p,",").concat(t+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*p," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},f0e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fU=e=>{var t=hr(e,f0e),n=m.useRef(null),[r,a]=m.useState(-1);m.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&a(P)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:d,className:u}=t,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:v}=t,j=m.useRef(l),y=m.useRef(c),x=m.useRef(i),w=m.useRef(o),b=m.useMemo(()=>({x:i,y:o,width:l,height:c,radius:d}),[i,o,l,c,d]),S=dp(b,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var _=mt("recharts-rectangle",u);if(!v)return m.createElement("path",yx({},vn(t,!0),{className:_,d:LM(i,o,l,c,d)}));var N=j.current,C=y.current,k=x.current,A=w.current,O="0px ".concat(r===-1?1:r,"px"),M="".concat(r,"px 0px"),z=cU(["strokeDasharray"],f,typeof h=="string"?h:void 0);return m.createElement(cp,{animationId:S,key:S,canBegin:r>0,duration:f,easing:h,isActive:v,begin:p},P=>{var E=Qt(N,l,P),U=Qt(C,c,P),R=Qt(k,i,P),B=Qt(A,o,P);n.current&&(j.current=E,y.current=U,x.current=R,w.current=B);var L;return g?P>0?L={transition:z,strokeDasharray:M}:L={strokeDasharray:O}:L={strokeDasharray:M},m.createElement("path",yx({},vn(t,!0),{className:_,d:LM(R,B,E,U,d),ref:n,style:$M($M({},L),t.style)}))})};function mU(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e,o=En(t,n,r,a),l=En(t,n,r,i);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RN.apply(null,arguments)}var m0e=(e,t)=>{var n=Hn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},jg=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,d=l*(o?1:-1)+r,u=Math.asin(l/d)/gx,h=c?a:a+i*u,f=En(t,n,d,h),p=En(t,n,r,h),g=c?a-i*u:a,v=En(t,n,d*Math.cos(u*gx),g);return{center:f,circleTangency:p,lineTangency:v,theta:u}},pU=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=e,l=m0e(i,o),c=i+l,d=En(t,n,a,i),u=En(t,n,a,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(r>0){var f=En(t,n,r,i),p=En(t,n,r,c);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(t,",").concat(n," Z");return h},p0e=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}=e,u=Hn(d-c),{circleTangency:h,lineTangency:f,theta:p}=jg({cx:t,cy:n,radius:a,angle:c,sign:u,cornerRadius:i,cornerIsExternal:l}),{circleTangency:g,lineTangency:v,theta:j}=jg({cx:t,cy:n,radius:a,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:l}),y=l?Math.abs(c-d):Math.abs(c-d)-p-j;if(y<0)return o?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):pU({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:c,endAngle:d});var x="M ".concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
  `);if(r>0){var{circleTangency:w,lineTangency:b,theta:S}=jg({cx:t,cy:n,radius:r,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:_,lineTangency:N,theta:C}=jg({cx:t,cy:n,radius:r,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),k=l?Math.abs(c-d):Math.abs(c-d)-S-C;if(k<0&&i===0)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x},g0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gU=e=>{var t=hr(e,g0e),{cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:h}=t;if(i<a||d===u)return null;var f=mt("recharts-sector",h),p=i-a,g=Nr(o,p,0,!0),v;return g>0&&Math.abs(d-u)<360?v=p0e({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):v=pU({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u}),m.createElement("path",RN({},vn(t,!0),{className:f,d:v}))};function v0e(e,t,n){var r,a,i,o;if(e==="horizontal")r=t.x,i=r,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:d,outerRadius:u,angle:h}=t,f=En(l,c,d,h),p=En(l,c,u,h);r=f.x,a=f.y,i=p.x,o=p.y}else return mU(t);return[{x:r,y:a},{x:i,y:o}]}var vU={},xU={},yU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nk;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(yU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yU;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(xU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_k,n=xU;function r(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=n.toFinite(a),i===void 0?(i=a,a=0):i=n.toFinite(i),o=o===void 0?a<i?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=a,a+=o;return c}e.range=r})(vU);var x0e=vU.range;const jU=pi(x0e);function sl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function y0e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Rk(e){let t,n,r;e.length!==2?(t=sl,n=(l,c)=>sl(e(l),c),r=(l,c)=>e(l)-c):(t=e===sl||e===y0e?e:j0e,n=e,r=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;n(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;n(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=a(l,c,d,u-1);return h>d&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function j0e(){return 0}function wU(e){return e===null?NaN:+e}function*w0e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const b0e=Rk(sl),up=b0e.right;Rk(wU).center;class FM extends Map{constructor(t,n=S0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(BM(this,t))}has(t){return super.has(BM(this,t))}set(t,n){return super.set(N0e(this,t),n)}delete(t){return super.delete(_0e(this,t))}}function BM({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function N0e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function _0e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function S0e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function C0e(e=sl){if(e===sl)return bU;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function bU(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const k0e=Math.sqrt(50),A0e=Math.sqrt(10),P0e=Math.sqrt(2);function jx(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=k0e?10:i>=A0e?5:i>=P0e?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=n&&n<2?jx(e,t,n*2):[l,c,d]}function IN(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?jx(t,e,n):jx(e,t,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function $N(e,t,n){return t=+t,e=+e,n=+n,jx(e,t,n)[2]}function LN(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?$N(t,e,n):$N(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function zM(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function UM(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function NU(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?bU:C0e(a);r>n;){if(r-n>600){const c=r-n+1,d=t-n+1,u=Math.log(c),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),p=Math.max(n,Math.floor(t-d*h/c+f)),g=Math.min(r,Math.floor(t+(c-d)*h/c+f));NU(e,t,p,g,a)}const i=e[t];let o=n,l=r;for($h(e,n,t),a(e[r],i)>0&&$h(e,n,r);o<l;){for($h(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?$h(e,n,l):(++l,$h(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function $h(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function E0e(e,t,n){if(e=Float64Array.from(w0e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return UM(e);if(t>=1)return zM(e);var r,a=(r-1)*t,i=Math.floor(a),o=zM(NU(e,i).subarray(0,i+1)),l=UM(e.subarray(i+1));return o+(l-o)*(a-i)}}function T0e(e,t,n=wU){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function O0e(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function oa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ho(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const FN=Symbol("implicit");function Ik(){var e=new FM,t=[],n=[],r=FN;function a(i){let o=e.get(i);if(o===void 0){if(r!==FN)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new FM;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Ik(t,n).unknown(r)},oa.apply(a,arguments),a}function $k(){var e=Ik().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function h(){var f=t().length,p=a<r,g=p?a:r,v=p?r:a;i=(v-g)/Math.max(1,f-c+d*2),l&&(i=Math.floor(i)),g+=(v-g-i*(f-c))*u,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var j=O0e(f).map(function(y){return g+i*y});return n(p?j.reverse():j)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([r,a]=f,r=+r,a=+a,h()):[r,a]},e.rangeRound=function(f){return[r,a]=f,r=+r,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,h()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,d=+f),h()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},e.paddingOuter=function(f){return arguments.length?(d=+f,h()):d},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),h()):u},e.copy=function(){return $k(t(),[r,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},oa.apply(h(),arguments)}function _U(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return _U(t())},e}function M0e(){return _U($k.apply(null,arguments).paddingInner(1))}function Lk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function SU(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function hp(){}var jm=.7,wx=1/jm,Yd="\\s*([+-]?\\d+)\\s*",wm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ci="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D0e=/^#([0-9a-f]{3,8})$/,R0e=new RegExp(`^rgb\\(${Yd},${Yd},${Yd}\\)$`),I0e=new RegExp(`^rgb\\(${ci},${ci},${ci}\\)$`),$0e=new RegExp(`^rgba\\(${Yd},${Yd},${Yd},${wm}\\)$`),L0e=new RegExp(`^rgba\\(${ci},${ci},${ci},${wm}\\)$`),F0e=new RegExp(`^hsl\\(${wm},${ci},${ci}\\)$`),B0e=new RegExp(`^hsla\\(${wm},${ci},${ci},${wm}\\)$`),VM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lk(hp,bm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:WM,formatHex:WM,formatHex8:z0e,formatHsl:U0e,formatRgb:qM,toString:qM});function WM(){return this.rgb().formatHex()}function z0e(){return this.rgb().formatHex8()}function U0e(){return CU(this).formatHsl()}function qM(){return this.rgb().formatRgb()}function bm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=D0e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?HM(t):n===3?new ts(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?wg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?wg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=R0e.exec(e))?new ts(t[1],t[2],t[3],1):(t=I0e.exec(e))?new ts(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$0e.exec(e))?wg(t[1],t[2],t[3],t[4]):(t=L0e.exec(e))?wg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=F0e.exec(e))?YM(t[1],t[2]/100,t[3]/100,1):(t=B0e.exec(e))?YM(t[1],t[2]/100,t[3]/100,t[4]):VM.hasOwnProperty(e)?HM(VM[e]):e==="transparent"?new ts(NaN,NaN,NaN,0):null}function HM(e){return new ts(e>>16&255,e>>8&255,e&255,1)}function wg(e,t,n,r){return r<=0&&(e=t=n=NaN),new ts(e,t,n,r)}function V0e(e){return e instanceof hp||(e=bm(e)),e?(e=e.rgb(),new ts(e.r,e.g,e.b,e.opacity)):new ts}function BN(e,t,n,r){return arguments.length===1?V0e(e):new ts(e,t,n,r??1)}function ts(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Lk(ts,BN,SU(hp,{brighter(e){return e=e==null?wx:Math.pow(wx,e),new ts(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jm:Math.pow(jm,e),new ts(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ts(xc(this.r),xc(this.g),xc(this.b),bx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KM,formatHex:KM,formatHex8:W0e,formatRgb:GM,toString:GM}));function KM(){return`#${rc(this.r)}${rc(this.g)}${rc(this.b)}`}function W0e(){return`#${rc(this.r)}${rc(this.g)}${rc(this.b)}${rc((isNaN(this.opacity)?1:this.opacity)*255)}`}function GM(){const e=bx(this.opacity);return`${e===1?"rgb(":"rgba("}${xc(this.r)}, ${xc(this.g)}, ${xc(this.b)}${e===1?")":`, ${e})`}`}function bx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function rc(e){return e=xc(e),(e<16?"0":"")+e.toString(16)}function YM(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ba(e,t,n,r)}function CU(e){if(e instanceof ba)return new ba(e.h,e.s,e.l,e.opacity);if(e instanceof hp||(e=bm(e)),!e)return new ba;if(e instanceof ba)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new ba(o,l,c,e.opacity)}function q0e(e,t,n,r){return arguments.length===1?CU(e):new ba(e,t,n,r??1)}function ba(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Lk(ba,q0e,SU(hp,{brighter(e){return e=e==null?wx:Math.pow(wx,e),new ba(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jm:Math.pow(jm,e),new ba(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new ts(qw(e>=240?e-240:e+120,a,r),qw(e,a,r),qw(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new ba(XM(this.h),bg(this.s),bg(this.l),bx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bx(this.opacity);return`${e===1?"hsl(":"hsla("}${XM(this.h)}, ${bg(this.s)*100}%, ${bg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function XM(e){return e=(e||0)%360,e<0?e+360:e}function bg(e){return Math.max(0,Math.min(1,e||0))}function qw(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Fk=e=>()=>e;function H0e(e,t){return function(n){return e+n*t}}function K0e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function G0e(e){return(e=+e)==1?kU:function(t,n){return n-t?K0e(t,n,e):Fk(isNaN(t)?n:t)}}function kU(e,t){var n=t-e;return n?H0e(e,n):Fk(isNaN(e)?t:e)}const ZM=function e(t){var n=G0e(t);function r(a,i){var o=n((a=BN(a)).r,(i=BN(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),d=kU(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return r.gamma=e,r}(1);function Y0e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function X0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Z0e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=oh(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}function Q0e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Nx(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function J0e(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=oh(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var zN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hw=new RegExp(zN.source,"g");function eje(e){return function(){return e}}function tje(e){return function(t){return e(t)+""}}function nje(e,t){var n=zN.lastIndex=Hw.lastIndex=0,r,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=zN.exec(e))&&(a=Hw.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Nx(r,a)})),n=Hw.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?tje(c[0].x):eje(t):(t=c.length,function(d){for(var u=0,h;u<t;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function oh(e,t){var n=typeof t,r;return t==null||n==="boolean"?Fk(t):(n==="number"?Nx:n==="string"?(r=bm(t))?(t=r,ZM):nje:t instanceof bm?ZM:t instanceof Date?Q0e:X0e(t)?Y0e:Array.isArray(t)?Z0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?J0e:Nx)(e,t)}function Bk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function rje(e,t){t===void 0&&(t=e,e=oh);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function sje(e){return function(){return e}}function _x(e){return+e}var QM=[0,1];function Rr(e){return e}function UN(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:sje(isNaN(t)?NaN:.5)}function aje(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function ije(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=UN(a,r),i=n(o,i)):(r=UN(r,a),i=n(i,o)),function(l){return i(r(l))}}function oje(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=UN(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=up(e,l,1,r)-1;return i[c](a[c](l))}}function fp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function L0(){var e=QM,t=QM,n=oh,r,a,i,o=Rr,l,c,d;function u(){var f=Math.min(e.length,t.length);return o!==Rr&&(o=aje(e[0],e[f-1])),l=f>2?oje:ije,c=d=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(r),t,n)))(r(o(f)))}return h.invert=function(f){return o(a((d||(d=l(t,e.map(r),Nx)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,_x),u()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=Bk,u()},h.clamp=function(f){return arguments.length?(o=f?!0:Rr,u()):o!==Rr},h.interpolate=function(f){return arguments.length?(n=f,u()):n},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,p){return r=f,a=p,u()}}function zk(){return L0()(Rr,Rr)}function lje(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Sx(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Mu(e){return e=Sx(Math.abs(e)),e?e[1]:NaN}function cje(e,t){return function(n,r){for(var a=n.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function dje(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var uje=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nm(e){if(!(t=uje.exec(e)))throw new Error("invalid format: "+e);var t;return new Uk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Nm.prototype=Uk.prototype;function Uk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Uk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hje(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var AU;function fje(e,t){var n=Sx(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(AU=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Sx(e,Math.max(0,t+i-1))[0]}function JM(e,t){var n=Sx(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const e4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:lje,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>JM(e*100,t),r:JM,s:fje,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function t4(e){return e}var n4=Array.prototype.map,r4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mje(e){var t=e.grouping===void 0||e.thousands===void 0?t4:cje(n4.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?t4:dje(n4.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(h){h=Nm(h);var f=h.fill,p=h.align,g=h.sign,v=h.symbol,j=h.zero,y=h.width,x=h.comma,w=h.precision,b=h.trim,S=h.type;S==="n"?(x=!0,S="g"):e4[S]||(w===void 0&&(w=12),b=!0,S="g"),(j||f==="0"&&p==="=")&&(j=!0,f="0",p="=");var _=v==="$"?n:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",N=v==="$"?r:/[%p]/.test(S)?o:"",C=e4[S],k=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function A(O){var M=_,z=N,P,E,U;if(S==="c")z=C(O)+z,O="";else{O=+O;var R=O<0||1/O<0;if(O=isNaN(O)?c:C(Math.abs(O),w),b&&(O=hje(O)),R&&+O==0&&g!=="+"&&(R=!1),M=(R?g==="("?g:l:g==="-"||g==="("?"":g)+M,z=(S==="s"?r4[8+AU/3]:"")+z+(R&&g==="("?")":""),k){for(P=-1,E=O.length;++P<E;)if(U=O.charCodeAt(P),48>U||U>57){z=(U===46?a+O.slice(P+1):O.slice(P))+z,O=O.slice(0,P);break}}}x&&!j&&(O=t(O,1/0));var B=M.length+O.length+z.length,L=B<y?new Array(y-B+1).join(f):"";switch(x&&j&&(O=t(L+O,L.length?y-z.length:1/0),L=""),p){case"<":O=M+O+z+L;break;case"=":O=M+L+O+z;break;case"^":O=L.slice(0,B=L.length>>1)+M+O+z+L.slice(B);break;default:O=L+M+O+z;break}return i(O)}return A.toString=function(){return h+""},A}function u(h,f){var p=d((h=Nm(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(Mu(f)/3)))*3,v=Math.pow(10,-g),j=r4[8+g/3];return function(y){return p(v*y)+j}}return{format:d,formatPrefix:u}}var Ng,Vk,PU;pje({thousands:",",grouping:[3],currency:["$",""]});function pje(e){return Ng=mje(e),Vk=Ng.format,PU=Ng.formatPrefix,Ng}function gje(e){return Math.max(0,-Mu(Math.abs(e)))}function vje(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mu(t)/3)))*3-Mu(Math.abs(e)))}function xje(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mu(t)-Mu(e))+1}function EU(e,t,n,r){var a=LN(e,t,n),i;switch(r=Nm(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=vje(a,o))&&(r.precision=i),PU(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=xje(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=gje(a))&&(r.precision=i-(r.type==="%")*2);break}}return Vk(r)}function Ml(e){var t=e.domain;return e.ticks=function(n){var r=t();return IN(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return EU(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],l=r[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=$N(o,l,n),d===c)return r[a]=o,r[i]=l,t(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function TU(){var e=zk();return e.copy=function(){return fp(e,TU())},oa.apply(e,arguments),Ml(e)}function OU(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,_x),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return OU(e).unknown(t)},e=arguments.length?Array.from(e,_x):[0,1],Ml(n)}function MU(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function s4(e){return Math.log(e)}function a4(e){return Math.exp(e)}function yje(e){return-Math.log(-e)}function jje(e){return-Math.exp(-e)}function wje(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bje(e){return e===10?wje:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Nje(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function i4(e){return(t,n)=>-e(-t,n)}function Wk(e){const t=e(s4,a4),n=t.domain;let r=10,a,i;function o(){return a=Nje(r),i=bje(r),n()[0]<0?(a=i4(a),i=i4(i),e(yje,jje)):e(s4,a4),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let f=a(d),p=a(u),g,v;const j=l==null?10:+l;let y=[];if(!(r%1)&&p-f<j){if(f=Math.floor(f),p=Math.ceil(p),d>0){for(;f<=p;++f)for(g=1;g<r;++g)if(v=f<0?g/i(-f):g*i(f),!(v<d)){if(v>u)break;y.push(v)}}else for(;f<=p;++f)for(g=r-1;g>=1;--g)if(v=f>0?g/i(-f):g*i(f),!(v<d)){if(v>u)break;y.push(v)}y.length*2<j&&(y=IN(d,u,j))}else y=IN(f,p,Math.min(p-f,j)).map(i);return h?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Nm(c)).precision==null&&(c.trim=!0),c=Vk(c)),l===1/0)return c;const d=Math.max(1,r*l/t.ticks().length);return u=>{let h=u/i(Math.round(a(u)));return h*r<r-.5&&(h*=r),h<=d?c(u):""}},t.nice=()=>n(MU(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function DU(){const e=Wk(L0()).domain([1,10]);return e.copy=()=>fp(e,DU()).base(e.base()),oa.apply(e,arguments),e}function o4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function l4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function qk(e){var t=1,n=e(o4(t),l4(t));return n.constant=function(r){return arguments.length?e(o4(t=+r),l4(t)):t},Ml(n)}function RU(){var e=qk(L0());return e.copy=function(){return fp(e,RU()).constant(e.constant())},oa.apply(e,arguments)}function c4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _je(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Sje(e){return e<0?-e*e:e*e}function Hk(e){var t=e(Rr,Rr),n=1;function r(){return n===1?e(Rr,Rr):n===.5?e(_je,Sje):e(c4(n),c4(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Ml(t)}function Kk(){var e=Hk(L0());return e.copy=function(){return fp(e,Kk()).exponent(e.exponent())},oa.apply(e,arguments),e}function Cje(){return Kk.apply(null,arguments).exponent(.5)}function d4(e){return Math.sign(e)*e*e}function kje(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function IU(){var e=zk(),t=[0,1],n=!1,r;function a(i){var o=kje(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(d4(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,_x)).map(d4)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return IU(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},oa.apply(a,arguments),Ml(a)}function $U(){var e=[],t=[],n=[],r;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=T0e(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:t[up(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(sl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return $U().domain(e).range(t).unknown(r)},oa.apply(i,arguments)}function LU(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[up(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return LU().domain([e,t]).range(a).unknown(i)},oa.apply(Ml(o),arguments)}function FU(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[up(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return FU().domain(e).range(t).unknown(n)},oa.apply(a,arguments)}const Kw=new Date,Gw=new Date;function zn(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>zn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(Kw.setTime(+i),Gw.setTime(+o),e(Kw),e(Gw),Math.floor(n(Kw,Gw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Cx=zn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Cx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?zn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Cx);Cx.range;const Ti=1e3,Ks=Ti*60,Oi=Ks*60,Qi=Oi*24,Gk=Qi*7,u4=Qi*30,Yw=Qi*365,sc=zn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ti)},(e,t)=>(t-e)/Ti,e=>e.getUTCSeconds());sc.range;const Yk=zn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ti)},(e,t)=>{e.setTime(+e+t*Ks)},(e,t)=>(t-e)/Ks,e=>e.getMinutes());Yk.range;const Xk=zn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ks)},(e,t)=>(t-e)/Ks,e=>e.getUTCMinutes());Xk.range;const Zk=zn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ti-e.getMinutes()*Ks)},(e,t)=>{e.setTime(+e+t*Oi)},(e,t)=>(t-e)/Oi,e=>e.getHours());Zk.range;const Qk=zn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Oi)},(e,t)=>(t-e)/Oi,e=>e.getUTCHours());Qk.range;const mp=zn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ks)/Qi,e=>e.getDate()-1);mp.range;const F0=zn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qi,e=>e.getUTCDate()-1);F0.range;const BU=zn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qi,e=>Math.floor(e/Qi));BU.range;function Gc(e){return zn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ks)/Gk)}const B0=Gc(0),kx=Gc(1),Aje=Gc(2),Pje=Gc(3),Du=Gc(4),Eje=Gc(5),Tje=Gc(6);B0.range;kx.range;Aje.range;Pje.range;Du.range;Eje.range;Tje.range;function Yc(e){return zn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Gk)}const z0=Yc(0),Ax=Yc(1),Oje=Yc(2),Mje=Yc(3),Ru=Yc(4),Dje=Yc(5),Rje=Yc(6);z0.range;Ax.range;Oje.range;Mje.range;Ru.range;Dje.range;Rje.range;const Jk=zn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Jk.range;const e2=zn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());e2.range;const Ji=zn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ji.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ji.range;const eo=zn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());eo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});eo.range;function zU(e,t,n,r,a,i){const o=[[sc,1,Ti],[sc,5,5*Ti],[sc,15,15*Ti],[sc,30,30*Ti],[i,1,Ks],[i,5,5*Ks],[i,15,15*Ks],[i,30,30*Ks],[a,1,Oi],[a,3,3*Oi],[a,6,6*Oi],[a,12,12*Oi],[r,1,Qi],[r,2,2*Qi],[n,1,Gk],[t,1,u4],[t,3,3*u4],[e,1,Yw]];function l(d,u,h){const f=u<d;f&&([d,u]=[u,d]);const p=h&&typeof h.range=="function"?h:c(d,u,h),g=p?p.range(d,+u+1):[];return f?g.reverse():g}function c(d,u,h){const f=Math.abs(u-d)/h,p=Rk(([,,j])=>j).right(o,f);if(p===o.length)return e.every(LN(d/Yw,u/Yw,h));if(p===0)return Cx.every(Math.max(LN(d,u,h),1));const[g,v]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return g.every(v)}return[l,c]}const[Ije,$je]=zU(eo,e2,z0,BU,Qk,Xk),[Lje,Fje]=zU(Ji,Jk,B0,mp,Zk,Yk);function Xw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Zw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Lh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Bje(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Fh(a),u=Bh(a),h=Fh(i),f=Bh(i),p=Fh(o),g=Bh(o),v=Fh(l),j=Bh(l),y=Fh(c),x=Bh(c),w={a:R,A:B,b:L,B:Q,c:null,d:v4,e:v4,f:cwe,g:ywe,G:wwe,H:iwe,I:owe,j:lwe,L:UU,m:dwe,M:uwe,p:se,q:W,Q:j4,s:w4,S:hwe,u:fwe,U:mwe,V:pwe,w:gwe,W:vwe,x:null,X:null,y:xwe,Y:jwe,Z:bwe,"%":y4},b={a:ie,A:ue,b:oe,B:Se,c:null,d:x4,e:x4,f:Cwe,g:Iwe,G:Lwe,H:Nwe,I:_we,j:Swe,L:WU,m:kwe,M:Awe,p:I,q:Z,Q:j4,s:w4,S:Pwe,u:Ewe,U:Twe,V:Owe,w:Mwe,W:Dwe,x:null,X:null,y:Rwe,Y:$we,Z:Fwe,"%":y4},S={a:A,A:O,b:M,B:z,c:P,d:p4,e:p4,f:nwe,g:m4,G:f4,H:g4,I:g4,j:Qje,L:twe,m:Zje,M:Jje,p:k,q:Xje,Q:swe,s:awe,S:ewe,u:qje,U:Hje,V:Kje,w:Wje,W:Gje,x:E,X:U,y:m4,Y:f4,Z:Yje,"%":rwe};w.x=_(n,w),w.X=_(r,w),w.c=_(t,w),b.x=_(n,b),b.X=_(r,b),b.c=_(t,b);function _(J,X){return function(he){var D=[],ee=-1,pe=0,Oe=J.length,Y,ye,We;for(he instanceof Date||(he=new Date(+he));++ee<Oe;)J.charCodeAt(ee)===37&&(D.push(J.slice(pe,ee)),(ye=h4[Y=J.charAt(++ee)])!=null?Y=J.charAt(++ee):ye=Y==="e"?" ":"0",(We=X[Y])&&(Y=We(he,ye)),D.push(Y),pe=ee+1);return D.push(J.slice(pe,ee)),D.join("")}}function N(J,X){return function(he){var D=Lh(1900,void 0,1),ee=C(D,J,he+="",0),pe,Oe;if(ee!=he.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(X&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(pe=Zw(Lh(D.y,0,1)),Oe=pe.getUTCDay(),pe=Oe>4||Oe===0?Ax.ceil(pe):Ax(pe),pe=F0.offset(pe,(D.V-1)*7),D.y=pe.getUTCFullYear(),D.m=pe.getUTCMonth(),D.d=pe.getUTCDate()+(D.w+6)%7):(pe=Xw(Lh(D.y,0,1)),Oe=pe.getDay(),pe=Oe>4||Oe===0?kx.ceil(pe):kx(pe),pe=mp.offset(pe,(D.V-1)*7),D.y=pe.getFullYear(),D.m=pe.getMonth(),D.d=pe.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),Oe="Z"in D?Zw(Lh(D.y,0,1)).getUTCDay():Xw(Lh(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(Oe+5)%7:D.w+D.U*7-(Oe+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,Zw(D)):Xw(D)}}function C(J,X,he,D){for(var ee=0,pe=X.length,Oe=he.length,Y,ye;ee<pe;){if(D>=Oe)return-1;if(Y=X.charCodeAt(ee++),Y===37){if(Y=X.charAt(ee++),ye=S[Y in h4?X.charAt(ee++):Y],!ye||(D=ye(J,he,D))<0)return-1}else if(Y!=he.charCodeAt(D++))return-1}return D}function k(J,X,he){var D=d.exec(X.slice(he));return D?(J.p=u.get(D[0].toLowerCase()),he+D[0].length):-1}function A(J,X,he){var D=p.exec(X.slice(he));return D?(J.w=g.get(D[0].toLowerCase()),he+D[0].length):-1}function O(J,X,he){var D=h.exec(X.slice(he));return D?(J.w=f.get(D[0].toLowerCase()),he+D[0].length):-1}function M(J,X,he){var D=y.exec(X.slice(he));return D?(J.m=x.get(D[0].toLowerCase()),he+D[0].length):-1}function z(J,X,he){var D=v.exec(X.slice(he));return D?(J.m=j.get(D[0].toLowerCase()),he+D[0].length):-1}function P(J,X,he){return C(J,t,X,he)}function E(J,X,he){return C(J,n,X,he)}function U(J,X,he){return C(J,r,X,he)}function R(J){return o[J.getDay()]}function B(J){return i[J.getDay()]}function L(J){return c[J.getMonth()]}function Q(J){return l[J.getMonth()]}function se(J){return a[+(J.getHours()>=12)]}function W(J){return 1+~~(J.getMonth()/3)}function ie(J){return o[J.getUTCDay()]}function ue(J){return i[J.getUTCDay()]}function oe(J){return c[J.getUTCMonth()]}function Se(J){return l[J.getUTCMonth()]}function I(J){return a[+(J.getUTCHours()>=12)]}function Z(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var X=_(J+="",w);return X.toString=function(){return J},X},parse:function(J){var X=N(J+="",!1);return X.toString=function(){return J},X},utcFormat:function(J){var X=_(J+="",b);return X.toString=function(){return J},X},utcParse:function(J){var X=N(J+="",!0);return X.toString=function(){return J},X}}}var h4={"-":"",_:" ",0:"0"},Zn=/^\s*\d+/,zje=/^%/,Uje=/[\\^$*+?|[\]().{}]/g;function wt(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function Vje(e){return e.replace(Uje,"\\$&")}function Fh(e){return new RegExp("^(?:"+e.map(Vje).join("|")+")","i")}function Bh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Wje(e,t,n){var r=Zn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function qje(e,t,n){var r=Zn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Hje(e,t,n){var r=Zn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Kje(e,t,n){var r=Zn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Gje(e,t,n){var r=Zn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function f4(e,t,n){var r=Zn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function m4(e,t,n){var r=Zn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Yje(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Xje(e,t,n){var r=Zn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Zje(e,t,n){var r=Zn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function p4(e,t,n){var r=Zn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Qje(e,t,n){var r=Zn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function g4(e,t,n){var r=Zn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Jje(e,t,n){var r=Zn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ewe(e,t,n){var r=Zn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function twe(e,t,n){var r=Zn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function nwe(e,t,n){var r=Zn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function rwe(e,t,n){var r=zje.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function swe(e,t,n){var r=Zn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function awe(e,t,n){var r=Zn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function v4(e,t){return wt(e.getDate(),t,2)}function iwe(e,t){return wt(e.getHours(),t,2)}function owe(e,t){return wt(e.getHours()%12||12,t,2)}function lwe(e,t){return wt(1+mp.count(Ji(e),e),t,3)}function UU(e,t){return wt(e.getMilliseconds(),t,3)}function cwe(e,t){return UU(e,t)+"000"}function dwe(e,t){return wt(e.getMonth()+1,t,2)}function uwe(e,t){return wt(e.getMinutes(),t,2)}function hwe(e,t){return wt(e.getSeconds(),t,2)}function fwe(e){var t=e.getDay();return t===0?7:t}function mwe(e,t){return wt(B0.count(Ji(e)-1,e),t,2)}function VU(e){var t=e.getDay();return t>=4||t===0?Du(e):Du.ceil(e)}function pwe(e,t){return e=VU(e),wt(Du.count(Ji(e),e)+(Ji(e).getDay()===4),t,2)}function gwe(e){return e.getDay()}function vwe(e,t){return wt(kx.count(Ji(e)-1,e),t,2)}function xwe(e,t){return wt(e.getFullYear()%100,t,2)}function ywe(e,t){return e=VU(e),wt(e.getFullYear()%100,t,2)}function jwe(e,t){return wt(e.getFullYear()%1e4,t,4)}function wwe(e,t){var n=e.getDay();return e=n>=4||n===0?Du(e):Du.ceil(e),wt(e.getFullYear()%1e4,t,4)}function bwe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wt(t/60|0,"0",2)+wt(t%60,"0",2)}function x4(e,t){return wt(e.getUTCDate(),t,2)}function Nwe(e,t){return wt(e.getUTCHours(),t,2)}function _we(e,t){return wt(e.getUTCHours()%12||12,t,2)}function Swe(e,t){return wt(1+F0.count(eo(e),e),t,3)}function WU(e,t){return wt(e.getUTCMilliseconds(),t,3)}function Cwe(e,t){return WU(e,t)+"000"}function kwe(e,t){return wt(e.getUTCMonth()+1,t,2)}function Awe(e,t){return wt(e.getUTCMinutes(),t,2)}function Pwe(e,t){return wt(e.getUTCSeconds(),t,2)}function Ewe(e){var t=e.getUTCDay();return t===0?7:t}function Twe(e,t){return wt(z0.count(eo(e)-1,e),t,2)}function qU(e){var t=e.getUTCDay();return t>=4||t===0?Ru(e):Ru.ceil(e)}function Owe(e,t){return e=qU(e),wt(Ru.count(eo(e),e)+(eo(e).getUTCDay()===4),t,2)}function Mwe(e){return e.getUTCDay()}function Dwe(e,t){return wt(Ax.count(eo(e)-1,e),t,2)}function Rwe(e,t){return wt(e.getUTCFullYear()%100,t,2)}function Iwe(e,t){return e=qU(e),wt(e.getUTCFullYear()%100,t,2)}function $we(e,t){return wt(e.getUTCFullYear()%1e4,t,4)}function Lwe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ru(e):Ru.ceil(e),wt(e.getUTCFullYear()%1e4,t,4)}function Fwe(){return"+0000"}function y4(){return"%"}function j4(e){return+e}function w4(e){return Math.floor(+e/1e3)}var cd,HU,KU;Bwe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bwe(e){return cd=Bje(e),HU=cd.format,cd.parse,KU=cd.utcFormat,cd.utcParse,cd}function zwe(e){return new Date(e)}function Uwe(e){return e instanceof Date?+e:+new Date(+e)}function t2(e,t,n,r,a,i,o,l,c,d){var u=zk(),h=u.invert,f=u.domain,p=d(".%L"),g=d(":%S"),v=d("%I:%M"),j=d("%I %p"),y=d("%a %d"),x=d("%b %d"),w=d("%B"),b=d("%Y");function S(_){return(c(_)<_?p:l(_)<_?g:o(_)<_?v:i(_)<_?j:r(_)<_?a(_)<_?y:x:n(_)<_?w:b)(_)}return u.invert=function(_){return new Date(h(_))},u.domain=function(_){return arguments.length?f(Array.from(_,Uwe)):f().map(zwe)},u.ticks=function(_){var N=f();return e(N[0],N[N.length-1],_??10)},u.tickFormat=function(_,N){return N==null?S:d(N)},u.nice=function(_){var N=f();return(!_||typeof _.range!="function")&&(_=t(N[0],N[N.length-1],_??10)),_?f(MU(N,_)):u},u.copy=function(){return fp(u,t2(e,t,n,r,a,i,o,l,c,d))},u}function Vwe(){return oa.apply(t2(Lje,Fje,Ji,Jk,B0,mp,Zk,Yk,sc,HU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wwe(){return oa.apply(t2(Ije,$je,eo,e2,z0,F0,Qk,Xk,sc,KU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function U0(){var e=0,t=1,n,r,a,i,o=Rr,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-n)*a,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,t]=h,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(f){var p,g;return arguments.length?([p,g]=f,o=h(p,g),d):[o(0),o(1)]}}return d.range=u(oh),d.rangeRound=u(Bk),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,n=h(e),r=h(t),a=n===r?0:1/(r-n),d}}function Dl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function GU(){var e=Ml(U0()(Rr));return e.copy=function(){return Dl(e,GU())},ho.apply(e,arguments)}function YU(){var e=Wk(U0()).domain([1,10]);return e.copy=function(){return Dl(e,YU()).base(e.base())},ho.apply(e,arguments)}function XU(){var e=qk(U0());return e.copy=function(){return Dl(e,XU()).constant(e.constant())},ho.apply(e,arguments)}function n2(){var e=Hk(U0());return e.copy=function(){return Dl(e,n2()).exponent(e.exponent())},ho.apply(e,arguments)}function qwe(){return n2.apply(null,arguments).exponent(.5)}function ZU(){var e=[],t=Rr;function n(r){if(r!=null&&!isNaN(r=+r))return t((up(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(sl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>E0e(e,i/r))},n.copy=function(){return ZU(t).domain(e)},ho.apply(n,arguments)}function V0(){var e=0,t=.5,n=1,r=1,a,i,o,l,c,d=Rr,u,h=!1,f;function p(v){return isNaN(v=+v)?f:(v=.5+((v=+u(v))-i)*(r*v<r*i?l:c),d(h?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,n]=v,a=u(e=+e),i=u(t=+t),o=u(n=+n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,p):[e,t,n]},p.clamp=function(v){return arguments.length?(h=!!v,p):h},p.interpolator=function(v){return arguments.length?(d=v,p):d};function g(v){return function(j){var y,x,w;return arguments.length?([y,x,w]=j,d=rje(v,[y,x,w]),p):[d(0),d(.5),d(1)]}}return p.range=g(oh),p.rangeRound=g(Bk),p.unknown=function(v){return arguments.length?(f=v,p):f},function(v){return u=v,a=v(e),i=v(t),o=v(n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,p}}function QU(){var e=Ml(V0()(Rr));return e.copy=function(){return Dl(e,QU())},ho.apply(e,arguments)}function JU(){var e=Wk(V0()).domain([.1,1,10]);return e.copy=function(){return Dl(e,JU()).base(e.base())},ho.apply(e,arguments)}function eV(){var e=qk(V0());return e.copy=function(){return Dl(e,eV()).constant(e.constant())},ho.apply(e,arguments)}function r2(){var e=Hk(V0());return e.copy=function(){return Dl(e,r2()).exponent(e.exponent())},ho.apply(e,arguments)}function Hwe(){return r2.apply(null,arguments).exponent(.5)}const tf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$k,scaleDiverging:QU,scaleDivergingLog:JU,scaleDivergingPow:r2,scaleDivergingSqrt:Hwe,scaleDivergingSymlog:eV,scaleIdentity:OU,scaleImplicit:FN,scaleLinear:TU,scaleLog:DU,scaleOrdinal:Ik,scalePoint:M0e,scalePow:Kk,scaleQuantile:$U,scaleQuantize:LU,scaleRadial:IU,scaleSequential:GU,scaleSequentialLog:YU,scaleSequentialPow:n2,scaleSequentialQuantile:ZU,scaleSequentialSqrt:qwe,scaleSequentialSymlog:XU,scaleSqrt:Cje,scaleSymlog:RU,scaleThreshold:FU,scaleTime:Vwe,scaleUtc:Wwe,tickFormat:EU},Symbol.toStringTag,{value:"Module"}));var Rl=e=>e.chartData,s2=re([Rl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),W0=(e,t,n,r)=>r?s2(e):Rl(e);function Iu(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(cr(t)&&cr(n))return!0}return!1}function b4(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Kwe(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,i;if(cr(n))a=n;else if(typeof n=="function")return;if(cr(r))i=r;else if(typeof r=="function")return;var o=[a,i];if(Iu(o))return o}}function Gwe(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Iu(r))return b4(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(Be(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&gM.test(a)){var c=gM.exec(a);if(c==null||t==null)o=void 0;else{var d=+c[1];o=t[0]-d}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(Be(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&vM.test(i)){var u=vM.exec(i);if(u==null||t==null)l=void 0;else{var h=+u[1];l=t[1]+h}}else l=t==null?void 0:t[1];var f=[o,l];if(Iu(f))return t==null?f:b4(f,t,n)}}}var lh=1e9,Ywe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},i2,Yt=!0,ra="[DecimalError] ",yc=ra+"Invalid argument: ",a2=ra+"Exponent out of range: ",ch=Math.floor,Gl=Math.pow,Xwe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xs,Wn=1e7,Ut=7,tV=9007199254740991,Px=ch(tV/Ut),Le={};Le.absoluteValue=Le.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Le.comparedTo=Le.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};Le.decimalPlaces=Le.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ut;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Le.dividedBy=Le.div=function(e){return $i(this,new this.constructor(e))};Le.dividedToIntegerBy=Le.idiv=function(e){var t=this,n=t.constructor;return Mt($i(t,new n(e),0,1),n.precision)};Le.equals=Le.eq=function(e){return!this.cmp(e)};Le.exponent=function(){return Tn(this)};Le.greaterThan=Le.gt=function(e){return this.cmp(e)>0};Le.greaterThanOrEqualTo=Le.gte=function(e){return this.cmp(e)>=0};Le.isInteger=Le.isint=function(){return this.e>this.d.length-2};Le.isNegative=Le.isneg=function(){return this.s<0};Le.isPositive=Le.ispos=function(){return this.s>0};Le.isZero=function(){return this.s===0};Le.lessThan=Le.lt=function(e){return this.cmp(e)<0};Le.lessThanOrEqualTo=Le.lte=function(e){return this.cmp(e)<1};Le.logarithm=Le.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(xs))throw Error(ra+"NaN");if(n.s<1)throw Error(ra+(n.s?"NaN":"-Infinity"));return n.eq(xs)?new r(0):(Yt=!1,t=$i(_m(n,i),_m(e,i),i),Yt=!0,Mt(t,a))};Le.minus=Le.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sV(t,e):nV(t,(e.s=-e.s,e))};Le.modulo=Le.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(ra+"NaN");return n.s?(Yt=!1,t=$i(n,e,0,1).times(e),Yt=!0,n.minus(t)):Mt(new r(n),a)};Le.naturalExponential=Le.exp=function(){return rV(this)};Le.naturalLogarithm=Le.ln=function(){return _m(this)};Le.negated=Le.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Le.plus=Le.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?nV(t,e):sV(t,(e.s=-e.s,e))};Le.precision=Le.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(yc+e);if(t=Tn(a)+1,r=a.d.length-1,n=r*Ut+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Le.squareRoot=Le.sqrt=function(){var e,t,n,r,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ra+"NaN")}for(e=Tn(l),Yt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=ti(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ch((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=r,r=i.plus($i(l,i,o+2)).times(.5),ti(i.d).slice(0,o)===(t=ti(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Mt(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(t!="9999")break;o+=4}return Yt=!0,Mt(r,n)};Le.times=Le.mul=function(e){var t,n,r,a,i,o,l,c,d,u=this,h=u.constructor,f=u.d,p=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,n=u.e+e.e,c=f.length,d=p.length,c<d&&(i=f,f=p,p=i,o=c,c=d,d=o),i=[],o=c+d,r=o;r--;)i.push(0);for(r=d;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+p[r]*f[a-r-1]+t,i[a--]=l%Wn|0,t=l/Wn|0;i[a]=(i[a]+t)%Wn|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,Yt?Mt(e,h.precision):e};Le.toDecimalPlaces=Le.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(mi(e,0,lh),t===void 0?t=r.rounding:mi(t,0,8),Mt(n,e+Tn(n)+1,t))};Le.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Lc(r,!0):(mi(e,0,lh),t===void 0?t=a.rounding:mi(t,0,8),r=Mt(new a(r),e+1,t),n=Lc(r,!0,e+1)),n};Le.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?Lc(a):(mi(e,0,lh),t===void 0?t=i.rounding:mi(t,0,8),r=Mt(new i(a),e+Tn(a)+1,t),n=Lc(r.abs(),!1,e+Tn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Le.toInteger=Le.toint=function(){var e=this,t=e.constructor;return Mt(new t(e),Tn(e)+1,t.rounding)};Le.toNumber=function(){return+this};Le.toPower=Le.pow=function(e){var t,n,r,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(xs);if(l=new c(l),!l.s){if(e.s<1)throw Error(ra+"Infinity");return l}if(l.eq(xs))return l;if(r=c.precision,e.eq(xs))return Mt(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=u<0?-u:u)<=tV){for(a=new c(xs),t=Math.ceil(r/Ut+4),Yt=!1;n%2&&(a=a.times(l),_4(a.d,t)),n=ch(n/2),n!==0;)l=l.times(l),_4(l.d,t);return Yt=!0,e.s<0?new c(xs).div(a):Mt(a,r)}}else if(i<0)throw Error(ra+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Yt=!1,a=e.times(_m(l,r+d)),Yt=!0,a=rV(a),a.s=i,a};Le.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Tn(a),r=Lc(a,n<=i.toExpNeg||n>=i.toExpPos)):(mi(e,1,lh),t===void 0?t=i.rounding:mi(t,0,8),a=Mt(new i(a),e,t),n=Tn(a),r=Lc(a,e<=n||n<=i.toExpNeg,e)),r};Le.toSignificantDigits=Le.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(mi(e,1,lh),t===void 0?t=r.rounding:mi(t,0,8)),Mt(new r(n),e,t)};Le.toString=Le.valueOf=Le.val=Le.toJSON=Le[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Tn(e),n=e.constructor;return Lc(e,t<=n.toExpNeg||t>=n.toExpPos)};function nV(e,t){var n,r,a,i,o,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Yt?Mt(t,h):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(r=c,i=-i,l=d.length):(r=d,a=o,l=c.length),o=Math.ceil(h/Ut),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,r=d,d=c,c=r),n=0;i;)n=(c[--i]=c[i]+d[i]+n)/Wn|0,c[i]%=Wn;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Yt?Mt(t,h):t}function mi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(yc+e)}function ti(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=Ut-r.length,n&&(i+=To(n)),i+=r;o=e[t],r=o+"",n=Ut-r.length,n&&(i+=To(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var $i=function(){function e(r,a){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*a+o,r[l]=i%Wn|0,o=i/Wn|0;return o&&r.unshift(o),r}function t(r,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=a[l]){c=r[l]>a[l]?1:-1;break}return c}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*Wn+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var l,c,d,u,h,f,p,g,v,j,y,x,w,b,S,_,N,C,k=r.constructor,A=r.s==a.s?1:-1,O=r.d,M=a.d;if(!r.s)return new k(r);if(!a.s)throw Error(ra+"Division by zero");for(c=r.e-a.e,N=M.length,S=O.length,p=new k(A),g=p.d=[],d=0;M[d]==(O[d]||0);)++d;if(M[d]>(O[d]||0)&&--c,i==null?x=i=k.precision:o?x=i+(Tn(r)-Tn(a))+1:x=i,x<0)return new k(0);if(x=x/Ut+2|0,d=0,N==1)for(u=0,M=M[0],x++;(d<S||u)&&x--;d++)w=u*Wn+(O[d]||0),g[d]=w/M|0,u=w%M|0;else{for(u=Wn/(M[0]+1)|0,u>1&&(M=e(M,u),O=e(O,u),N=M.length,S=O.length),b=N,v=O.slice(0,N),j=v.length;j<N;)v[j++]=0;C=M.slice(),C.unshift(0),_=M[0],M[1]>=Wn/2&&++_;do u=0,l=t(M,v,N,j),l<0?(y=v[0],N!=j&&(y=y*Wn+(v[1]||0)),u=y/_|0,u>1?(u>=Wn&&(u=Wn-1),h=e(M,u),f=h.length,j=v.length,l=t(h,v,f,j),l==1&&(u--,n(h,N<f?C:M,f))):(u==0&&(l=u=1),h=M.slice()),f=h.length,f<j&&h.unshift(0),n(v,h,j),l==-1&&(j=v.length,l=t(M,v,N,j),l<1&&(u++,n(v,N<j?C:M,j))),j=v.length):l===0&&(u++,v=[0]),g[d++]=u,l&&v[0]?v[j++]=O[b]||0:(v=[O[b]],j=1);while((b++<S||v[0]!==void 0)&&x--)}return g[0]||g.shift(),p.e=c,Mt(p,o?i+Tn(p)+1:i)}}();function rV(e,t){var n,r,a,i,o,l,c=0,d=0,u=e.constructor,h=u.precision;if(Tn(e)>16)throw Error(a2+Tn(e));if(!e.s)return new u(xs);for(t==null?(Yt=!1,l=h):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(r=Math.log(Gl(2,d))/Math.LN10*2+5|0,l+=r,n=a=i=new u(xs),u.precision=l;;){if(a=Mt(a.times(e),l),n=n.times(++c),o=i.plus($i(a,n,l)),ti(o.d).slice(0,l)===ti(i.d).slice(0,l)){for(;d--;)i=Mt(i.times(i),l);return u.precision=h,t==null?(Yt=!0,Mt(i,h)):i}i=o}}function Tn(e){for(var t=e.e*Ut,n=e.d[0];n>=10;n/=10)t++;return t}function Qw(e,t,n){if(t>e.LN10.sd())throw Yt=!0,n&&(e.precision=n),Error(ra+"LN10 precision limit exceeded");return Mt(new e(e.LN10),t)}function To(e){for(var t="";e--;)t+="0";return t}function _m(e,t){var n,r,a,i,o,l,c,d,u,h=1,f=10,p=e,g=p.d,v=p.constructor,j=v.precision;if(p.s<1)throw Error(ra+(p.s?"NaN":"-Infinity"));if(p.eq(xs))return new v(0);if(t==null?(Yt=!1,d=j):d=t,p.eq(10))return t==null&&(Yt=!0),Qw(v,d);if(d+=f,v.precision=d,n=ti(g),r=n.charAt(0),i=Tn(p),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=ti(p.d),r=n.charAt(0),h++;i=Tn(p),r>1?(p=new v("0."+n),i++):p=new v(r+"."+n.slice(1))}else return c=Qw(v,d+2,j).times(i+""),p=_m(new v(r+"."+n.slice(1)),d-f).plus(c),v.precision=j,t==null?(Yt=!0,Mt(p,j)):p;for(l=o=p=$i(p.minus(xs),p.plus(xs),d),u=Mt(p.times(p),d),a=3;;){if(o=Mt(o.times(u),d),c=l.plus($i(o,new v(a),d)),ti(c.d).slice(0,d)===ti(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(Qw(v,d+2,j).times(i+""))),l=$i(l,new v(h),d),v.precision=j,t==null?(Yt=!0,Mt(l,j)):l;l=c,a+=2}}function N4(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=ch(n/Ut),e.d=[],r=(n+1)%Ut,n<0&&(r+=Ut),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Ut;r<a;)e.d.push(+t.slice(r,r+=Ut));t=t.slice(r),r=Ut-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),Yt&&(e.e>Px||e.e<-Px))throw Error(a2+n)}else e.s=0,e.e=0,e.d=[0];return e}function Mt(e,t,n){var r,a,i,o,l,c,d,u,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=Ut,a=t,d=h[u=0];else{if(u=Math.ceil((r+1)/Ut),i=h.length,u>=i)return e;for(d=i=h[u],o=1;i>=10;i/=10)o++;r%=Ut,a=r-Ut+o}if(n!==void 0&&(i=Gl(10,o-a-1),l=d/i%10|0,c=t<0||h[u+1]!==void 0||d%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?a>0?d/Gl(10,o-a):0:h[u-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return c?(i=Tn(e),h.length=1,t=t-i-1,h[0]=Gl(10,(Ut-t%Ut)%Ut),e.e=ch(-t/Ut)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=u,i=1,u--):(h.length=u+1,i=Gl(10,Ut-r),h[u]=a>0?(d/Gl(10,o-a)%Gl(10,a)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==Wn&&(h[0]=1,++e.e);break}else{if(h[u]+=i,h[u]!=Wn)break;h[u--]=0,i=1}for(r=h.length;h[--r]===0;)h.pop();if(Yt&&(e.e>Px||e.e<-Px))throw Error(a2+Tn(e));return e}function sV(e,t){var n,r,a,i,o,l,c,d,u,h,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Yt?Mt(t,p):t;if(c=e.d,h=t.d,r=t.e,d=e.e,c=c.slice(),o=d-r,o){for(u=o<0,u?(n=c,o=-o,l=h.length):(n=h,r=d,l=c.length),a=Math.max(Math.ceil(p/Ut),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=h.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){u=c[a]<h[a];break}o=0}for(u&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=Wn-1;--c[i],c[a]+=Wn}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Yt?Mt(t,p):t):new f(0)}function Lc(e,t,n){var r,a=Tn(e),i=ti(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+To(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+To(-a-1)+i,n&&(r=n-o)>0&&(i+=To(r))):a>=o?(i+=To(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+To(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=To(r))),e.s<0?"-"+i:i}function _4(e,t){if(e.length>t)return e.length=t,!0}function aV(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(yc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return N4(o,i.toString())}else if(typeof i!="string")throw Error(yc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Xwe.test(i))N4(o,i);else throw Error(yc+i)}if(a.prototype=Le,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=aV,a.config=a.set=Zwe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function Zwe(e){if(!e||typeof e!="object")throw Error(ra+"Object expected");var t,n,r,a=["precision",1,lh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(ch(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(yc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(yc+n+": "+r);return this}var i2=aV(Ywe);xs=new i2(1);const Ct=i2;var Qwe=e=>e,iV={"@@functional/placeholder":!0},oV=e=>e===iV,S4=e=>function t(){return arguments.length===0||arguments.length===1&&oV(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},lV=(e,t)=>e===1?t:S4(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(o=>o!==iV).length;return i>=e?t(...r):lV(e-i,S4(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=r.map(u=>oV(u)?l.shift():u);return t(...d,...l)}))}),q0=e=>lV(e.length,e),VN=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Jwe=q0((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),ebe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Qwe;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},WN=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),cV=e=>{var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t&&a.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=a,n=e(...a)),n}};function dV(e){var t;return e===0?t=1:t=Math.floor(new Ct(e).abs().log(10).toNumber())+1,t}function uV(e,t,n){for(var r=new Ct(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}q0((e,t,n)=>{var r=+e,a=+t;return r+n*(a-r)});q0((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});q0((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var hV=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},fV=(e,t,n)=>{if(e.lte(0))return new Ct(0);var r=dV(e.toNumber()),a=new Ct(10).pow(r),i=e.div(a),o=r!==1?.05:.1,l=new Ct(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return t?new Ct(c.toNumber()):new Ct(Math.ceil(c.toNumber()))},tbe=(e,t,n)=>{var r=new Ct(1),a=new Ct(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new Ct(10).pow(dV(e)-1),a=new Ct(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Ct(Math.floor(e)))}else e===0?a=new Ct(Math.floor((t-1)/2)):n||(a=new Ct(Math.floor(e)));var o=Math.floor((t-1)/2),l=ebe(Jwe(c=>a.add(new Ct(c-o).mul(r)).toNumber()),VN);return l(0,t)},mV=function(t,n,r,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ct(0),tickMin:new Ct(0),tickMax:new Ct(0)};var o=fV(new Ct(n).sub(t).div(r-1),a,i),l;t<=0&&n>=0?l=new Ct(0):(l=new Ct(t).add(n).div(2),l=l.sub(new Ct(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new Ct(n).sub(l).div(o).toNumber()),u=c+d+1;return u>r?mV(t,n,r,a,i+1):(u<r&&(d=n>0?d+(r-u):d,c=n>0?c:c+(r-u)),{step:o,tickMin:l.sub(new Ct(c).mul(o)),tickMax:l.add(new Ct(d).mul(o))})};function nbe(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[o,l]=hV([t,n]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...VN(0,r-1).map(()=>1/0)]:[...VN(0,r-1).map(()=>-1/0),l];return t>n?WN(c):c}if(o===l)return tbe(o,r,a);var{step:d,tickMin:u,tickMax:h}=mV(o,l,i,a,0),f=uV(u,h.add(new Ct(.1).mul(d)),d);return t>n?WN(f):f}function rbe(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=hV([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var l=Math.max(t,2),c=fV(new Ct(o).sub(i).div(l-1),a,0),d=[...uV(new Ct(i),new Ct(o),c),o];return a===!1&&(d=d.map(u=>Math.round(u))),n>r?WN(d):d}var sbe=cV(nbe),abe=cV(rbe),pV=e=>e.rootProps.maxBarSize,ibe=e=>e.rootProps.barGap,gV=e=>e.rootProps.barCategoryGap,obe=e=>e.rootProps.barSize,pp=e=>e.rootProps.stackOffset,o2=e=>e.options.chartName,l2=e=>e.rootProps.syncId,vV=e=>e.rootProps.syncMethod,c2=e=>e.options.eventEmitter,ki={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},gs={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},H0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},lbe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ki.angleAxisId,includeHidden:!1,name:void 0,reversed:ki.reversed,scale:ki.scale,tick:ki.tick,tickCount:void 0,ticks:void 0,type:ki.type,unit:void 0},cbe={allowDataOverflow:gs.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gs.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gs.scale,tick:gs.tick,tickCount:gs.tickCount,ticks:void 0,type:gs.type,unit:void 0},dbe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ki.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ki.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ki.scale,tick:ki.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ube={allowDataOverflow:gs.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gs.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gs.scale,tick:gs.tick,tickCount:gs.tickCount,ticks:void 0,type:"category",unit:void 0},d2=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?dbe:lbe,u2=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?ube:cbe,K0=e=>e.polarOptions,h2=re([co,uo,Bn],Xz),xV=re([K0,h2],(e,t)=>{if(e!=null)return Nr(e.innerRadius,t,0)}),yV=re([K0,h2],(e,t)=>{if(e!=null)return Nr(e.outerRadius,t,t*.8)}),hbe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},jV=re([K0],hbe);re([d2,jV],H0);var wV=re([h2,xV,yV],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});re([u2,wV],H0);var bV=re([ht,K0,xV,yV,co,uo],(e,t,n,r,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:l,startAngle:c,endAngle:d}=t;return{cx:Nr(o,a,a/2),cy:Nr(l,i,i/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),Xt=(e,t)=>t,gp=(e,t,n)=>n;function G0(e){return e==null?void 0:e.id}var Un=e=>{var t=ht(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},dh=e=>e.tooltip.settings.axisId,Qn=e=>{var t=Un(e),n=dh(e);return vp(e,t,n)},NV=re([Qn],e=>e==null?void 0:e.dataKey);function _V(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=n,o=new Map;return e.forEach(l=>{var c,d=(c=l.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var u=G0(l);d.forEach((h,f)=>{var p=i==null||a?f:String(Lt(h,i,null)),g=Lt(h,l.dataKey,0),v;o.has(p)?v=o.get(p):v={},Object.assign(v,{[u]:g}),o.set(p,v)})}}),Array.from(o.values())}function Y0(e){return e.stackId!=null&&e.dataKey!=null}function C4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ex(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C4(Object(n),!0).forEach(function(r){fbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fbe(e,t,n){return(t=mbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mbe(e){var t=pbe(e,"string");return typeof t=="symbol"?t:t+""}function pbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qN=[0,"auto"],fs={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},SV=(e,t)=>e.cartesianAxis.xAxis[t],fo=(e,t)=>{var n=SV(e,t);return n??fs},ms={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:qN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:lp},CV=(e,t)=>e.cartesianAxis.yAxis[t],mo=(e,t)=>{var n=CV(e,t);return n??ms},gbe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},f2=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??gbe},_n=(e,t,n)=>{switch(t){case"xAxis":return fo(e,n);case"yAxis":return mo(e,n);case"zAxis":return f2(e,n);case"angleAxis":return d2(e,n);case"radiusAxis":return u2(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},vbe=(e,t,n)=>{switch(t){case"xAxis":return fo(e,n);case"yAxis":return mo(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},vp=(e,t,n)=>{switch(t){case"xAxis":return fo(e,n);case"yAxis":return mo(e,n);case"angleAxis":return d2(e,n);case"radiusAxis":return u2(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},kV=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function m2(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var X0=e=>e.graphicalItems.cartesianItems,xbe=re([Xt,gp],m2),p2=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),xp=re([X0,_n,xbe],p2),AV=re([xp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Y0)),PV=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),EV=re([xp],PV),g2=e=>e.map(t=>t.data).filter(Boolean).flat(1),ybe=re([xp],g2),v2=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},x2=re([ybe,W0],v2),y2=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Lt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:Lt(a,r)}))):e.map(r=>({value:r})),Z0=re([x2,_n,xp],y2);function TV(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Xc(e){return e.filter(t=>fi(t)||t instanceof Date).map(Number).filter(t=>cs(t)===!1)}function jbe(e,t,n){return!n||typeof t!="number"||cs(t)?[]:n.length?Xc(n.flatMap(r=>{var a=Lt(e,r.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!cr(i)||!cr(o)))return[t-i,t+o]})):[]}var wbe=re([AV,W0,Qn],_V),OV=(e,t,n)=>{var r={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),r);return Object.fromEntries(Object.entries(a).map(i=>{var[o,l]=i,c=l.map(G0);return[o,{stackedData:Exe(e,c,n),graphicalItems:l}]}))},Sm=re([wbe,AV,pp],OV),MV=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:a}=t;if(n!=="zAxis"){var i=Dxe(e,r,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},bbe=re([Sm,Rl,Xt],MV),DV=(e,t,n,r,a)=>n.length>0?e.flatMap(i=>n.flatMap(o=>{var l,c,d=(l=r[o.id])===null||l===void 0?void 0:l.filter(h=>TV(a,h)),u=Lt(i,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:u,errorDomain:jbe(i,u,d)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:Lt(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),Q0=e=>e.errorBars,RV=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>TV(n,r));re([EV,Q0,Xt],RV);var Nbe=re([x2,_n,EV,Q0,Xt],DV);function _be(e){var{value:t}=e;if(fi(t)||t instanceof Date)return t}var k4=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Xc(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Sbe=(e,t,n)=>{var r=e.map(_be).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&E9(r))?jU(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},j2=e=>{var t;if(e==null||!("domain"in e))return qN;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Xc(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:qN},Tx=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},IV=e=>e.referenceElements.dots,uh=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Cbe=re([IV,Xt,gp],uh),$V=e=>e.referenceElements.areas,kbe=re([$V,Xt,gp],uh),LV=e=>e.referenceElements.lines,Abe=re([LV,Xt,gp],uh),FV=(e,t)=>{var n=Xc(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Pbe=re(Cbe,Xt,FV),BV=(e,t)=>{var n=Xc(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Ebe=re([kbe,Xt],BV),zV=(e,t)=>{var n=Xc(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Tbe=re(Abe,Xt,zV),Obe=re(Pbe,Tbe,Ebe,(e,t,n)=>Tx(e,n,t)),UV=re([_n],j2),w2=(e,t,n,r,a,i,o)=>{var l=Kwe(t,e.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",d=c?Tx(n,a,k4(r)):Tx(a,k4(r));return Gwe(t,d,e.allowDataOverflow)},Mbe=re([_n,UV,bbe,Nbe,Obe,ht,Xt],w2),Dbe=[0,1],b2=(e,t,n,r,a,i,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,d=lo(t,i);return d&&l==null?jU(0,n.length):c==="category"?Sbe(r,e,d):a==="expand"?Dbe:o}},N2=re([_n,ht,x2,Z0,pp,Xt,Mbe],b2),VV=(e,t,n,r,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(sp(i));return l in tf?l:"point"}}},hh=re([_n,ht,kV,o2,Xt],VV);function Rbe(e){if(e!=null){if(e in tf)return tf[e]();var t="scale".concat(sp(e));if(t in tf)return tf[t]()}}function _2(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=Rbe(t);if(a!=null){var i=a.domain(n).range(r);return Sxe(i),i}}}var S2=(e,t,n)=>{var r=j2(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Iu(e))return sbe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Iu(e))return abe(e,t.tickCount,t.allowDecimals)}},C2=re([N2,vp,hh],S2),k2=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Iu(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],l=n[n.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},Ibe=re([_n,N2,C2,Xt],k2),$be=re(Z0,_n,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Xc(e.map(l=>l.value))).sort((l,c)=>l-c);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var i=0;i<r.length-1;i++){var o=r[i+1]-r[i];n=Math.min(n,o)}return n/a}}),WV=re($be,ht,gV,Bn,(e,t,n,r)=>r,(e,t,n,r,a)=>{if(!cr(e))return 0;var i=t==="vertical"?r.height:r.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Nr(n,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),Lbe=(e,t)=>{var n=fo(e,t);return n==null||typeof n.padding!="string"?0:WV(e,"xAxis",t,n.padding)},Fbe=(e,t)=>{var n=mo(e,t);return n==null||typeof n.padding!="string"?0:WV(e,"yAxis",t,n.padding)},Bbe=re(fo,Lbe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),zbe=re(mo,Fbe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),Ube=re([Bn,Bbe,I0,R0,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Vbe=re([Bn,ht,zbe,I0,R0,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),yp=(e,t,n,r)=>{var a;switch(t){case"xAxis":return Ube(e,n,r);case"yAxis":return Vbe(e,n,r);case"zAxis":return(a=f2(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return jV(e);case"radiusAxis":return wV(e,n);default:return}},qV=re([_n,yp],H0),fh=re([_n,hh,Ibe,qV],_2);re([xp,Q0,Xt],RV);function HV(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var J0=(e,t)=>t,ej=(e,t,n)=>n,Wbe=re(M0,J0,ej,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(HV)),qbe=re(D0,J0,ej,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(HV)),KV=(e,t)=>({width:e.width,height:t.height}),Hbe=(e,t)=>{var n=typeof t.width=="number"?t.width:lp;return{width:n,height:e.height}},GV=re(Bn,fo,KV),Kbe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Gbe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Ybe=re(uo,Bn,Wbe,J0,ej,(e,t,n,r,a)=>{var i={},o;return n.forEach(l=>{var c=KV(t,l);o==null&&(o=Kbe(t,r,e));var d=r==="top"&&!a||r==="bottom"&&a;i[l.id]=o-Number(d)*c.height,o+=(d?-1:1)*c.height}),i}),Xbe=re(co,Bn,qbe,J0,ej,(e,t,n,r,a)=>{var i={},o;return n.forEach(l=>{var c=Hbe(t,l);o==null&&(o=Gbe(t,r,e));var d=r==="left"&&!a||r==="right"&&a;i[l.id]=o-Number(d)*c.width,o+=(d?-1:1)*c.width}),i}),Zbe=(e,t)=>{var n=fo(e,t);if(n!=null)return Ybe(e,n.orientation,n.mirror)},Qbe=re([Bn,fo,Zbe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Jbe=(e,t)=>{var n=mo(e,t);if(n!=null)return Xbe(e,n.orientation,n.mirror)},e1e=re([Bn,mo,Jbe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),YV=re(Bn,mo,(e,t)=>{var n=typeof t.width=="number"?t.width:lp;return{width:n,height:e.height}}),A4=(e,t,n)=>{switch(t){case"xAxis":return GV(e,n).width;case"yAxis":return YV(e,n).height;default:return}},XV=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,l=lo(e,r),c=t.map(d=>d.value);if(o&&l&&i==="category"&&a&&E9(c))return c}},A2=re([ht,Z0,_n,Xt],XV),ZV=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,o=lo(e,r);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},P2=re([ht,Z0,vp,Xt],ZV),P4=re([ht,vbe,hh,fh,A2,P2,yp,C2,Xt],(e,t,n,r,a,i,o,l,c)=>{if(t==null)return null;var d=lo(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:d,niceTicks:l,range:o,realScaleType:n,scale:r}}),t1e=(e,t,n,r,a,i,o,l,c)=>{if(!(t==null||r==null)){var d=lo(e,c),{type:u,ticks:h,tickCount:f}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=u==="category"&&r.bandwidth?r.bandwidth()/p:0;g=c==="angleAxis"&&i!=null&&i.length>=2?Hn(i[0]-i[1])*2*g:g;var v=h||a;if(v){var j=v.map((y,x)=>{var w=o?o.indexOf(y):y;return{index:x,coordinate:r(w)+g,value:y,offset:g}});return j.filter(y=>!cs(y.coordinate))}return d&&l?l.map((y,x)=>({coordinate:r(y)+g,value:y,index:x,offset:g})):r.ticks?r.ticks(f).map(y=>({coordinate:r(y)+g,value:y,offset:g})):r.domain().map((y,x)=>({coordinate:r(y)+g,value:o?o[y]:y,index:x,offset:g}))}},QV=re([ht,vp,hh,fh,C2,yp,A2,P2,Xt],t1e),n1e=(e,t,n,r,a,i,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=lo(e,o),{tickCount:c}=t,d=0;return d=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Hn(r[0]-r[1])*2*d:d,l&&i?i.map((u,h)=>({coordinate:n(u)+d,value:u,index:h,offset:d})):n.ticks?n.ticks(c).map(u=>({coordinate:n(u)+d,value:u,offset:d})):n.domain().map((u,h)=>({coordinate:n(u)+d,value:a?a[u]:u,index:h,offset:d}))}},gl=re([ht,vp,fh,yp,A2,P2,Xt],n1e),vl=re(_n,fh,(e,t)=>{if(!(e==null||t==null))return Ex(Ex({},e),{},{scale:t})}),r1e=re([_n,hh,N2,qV],_2);re((e,t,n)=>f2(e,n),r1e,(e,t)=>{if(!(e==null||t==null))return Ex(Ex({},e),{},{scale:t})});var s1e=re([ht,M0,D0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),JV=e=>e.options.defaultTooltipEventType,e7=e=>e.options.validateTooltipEventTypes;function t7(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function E2(e,t){var n=JV(e),r=e7(e);return t7(t,n,r)}function a1e(e){return ze(t=>E2(t,e))}var n7=(e,t)=>{var n,r=Number(t);if(!(cs(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},i1e=e=>e.tooltip.settings,Io={active:!1,index:null,dataKey:void 0,coordinate:void 0},o1e={itemInteraction:{click:Io,hover:Io},axisInteraction:{click:Io,hover:Io},keyboardInteraction:Io,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},r7=Ms({name:"tooltip",initialState:o1e,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Ii(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:l1e,removeTooltipEntrySettings:c1e,setTooltipSettingsState:d1e,setActiveMouseOverItemIndex:s7,mouseLeaveItem:u1e,mouseLeaveChart:a7,setActiveClickItemIndex:h1e,setMouseOverAxisIndex:i7,setMouseClickAxisIndex:f1e,setSyncInteraction:HN,setKeyboardInteraction:KN}=r7.actions,m1e=r7.reducer;function E4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _g(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E4(Object(n),!0).forEach(function(r){p1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p1e(e,t,n){return(t=g1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g1e(e){var t=v1e(e,"string");return typeof t=="symbol"?t:t+""}function v1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x1e(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function y1e(e){return e.index!=null}var o7=(e,t,n,r)=>{if(t==null)return Io;var a=x1e(e,t,n);if(a==null)return Io;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(y1e(a)){if(i)return _g(_g({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return _g(_g({},Io),{},{coordinate:a.coordinate})},T2=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!cr(r))return n;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(r,i)))},l7=(e,t,n,r,a,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],d=c==null?void 0:l(c.positions,i);if(d!=null)return d;var u=a==null?void 0:a[Number(i)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:u.coordinate}}}},c7=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},jp=e=>e.options.tooltipPayloadSearcher,mh=e=>e.tooltip;function T4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function O4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T4(Object(n),!0).forEach(function(r){j1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j1e(e,t,n){return(t=w1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w1e(e){var t=b1e(e,"string");return typeof t=="symbol"?t:t+""}function b1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N1e(e,t){return e??t}var d7=(e,t,n,r,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:u}=n,h=[];return e.reduce((f,p)=>{var g,{dataDefinedOnItem:v,settings:j}=p,y=N1e(v,l),x=Array.isArray(y)?Zz(y,d,u):y,w=(g=j==null?void 0:j.dataKey)!==null&&g!==void 0?g:r,b=j==null?void 0:j.nameKey,S;if(r&&Array.isArray(x)&&!Array.isArray(x[0])&&o==="axis"?S=T9(x,r,a):S=i(x,t,c,b),Array.isArray(S))S.forEach(N=>{var C=O4(O4({},j),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});f.push(xM({tooltipEntrySettings:C,dataKey:N.dataKey,payload:N.payload,value:Lt(N.payload,N.dataKey),name:N.name}))});else{var _;f.push(xM({tooltipEntrySettings:j,dataKey:w,payload:S,value:Lt(S,w),name:(_=Lt(S,b))!==null&&_!==void 0?_:j==null?void 0:j.name}))}return f},h)}},O2=re([Qn,ht,kV,o2,Un],VV),_1e=re([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),S1e=re([Un,dh],m2),wp=re([_1e,Qn,S1e],p2),C1e=re([wp],e=>e.filter(Y0)),k1e=re([wp],g2),ph=re([k1e,Rl],v2),A1e=re([C1e,Rl,Qn],_V),M2=re([ph,Qn,wp],y2),P1e=re([Qn],j2),E1e=re([wp],e=>e.filter(Y0)),T1e=re([A1e,E1e,pp],OV),O1e=re([T1e,Rl,Un],MV),M1e=re([wp],PV),D1e=re([ph,Qn,M1e,Q0,Un],DV),R1e=re([IV,Un,dh],uh),I1e=re([R1e,Un],FV),$1e=re([$V,Un,dh],uh),L1e=re([$1e,Un],BV),F1e=re([LV,Un,dh],uh),B1e=re([F1e,Un],zV),z1e=re([I1e,B1e,L1e],Tx),U1e=re([Qn,P1e,O1e,D1e,z1e,ht,Un],w2),u7=re([Qn,ht,ph,M2,pp,Un,U1e],b2),V1e=re([u7,Qn,O2],S2),W1e=re([Qn,u7,V1e,Un],k2),h7=e=>{var t=Un(e),n=dh(e),r=!1;return yp(e,t,n,r)},f7=re([Qn,h7],H0),m7=re([Qn,O2,W1e,f7],_2),q1e=re([ht,M2,Qn,Un],XV),H1e=re([ht,M2,Qn,Un],ZV),K1e=(e,t,n,r,a,i,o,l)=>{if(t){var{type:c}=t,d=lo(e,l);if(r){var u=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=c==="category"&&r.bandwidth?r.bandwidth()/u:0;return h=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Hn(a[0]-a[1])*2*h:h,d&&o?o.map((f,p)=>({coordinate:r(f)+h,value:f,index:p,offset:h})):r.domain().map((f,p)=>({coordinate:r(f)+h,value:i?i[f]:f,index:p,offset:h}))}}},po=re([ht,Qn,O2,m7,h7,q1e,H1e,Un],K1e),D2=re([JV,e7,i1e],(e,t,n)=>t7(n.shared,e,t)),p7=e=>e.tooltip.settings.trigger,R2=e=>e.tooltip.settings.defaultIndex,tj=re([mh,D2,p7,R2],o7),xl=re([tj,ph],T2),g7=re([po,xl],n7),v7=re([tj],e=>{if(e)return e.dataKey}),x7=re([mh,D2,p7,R2],c7),G1e=re([co,uo,ht,Bn,po,R2,x7,jp],l7),Y1e=re([tj,G1e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),X1e=re([tj],e=>e.active),Z1e=re([x7,xl,Rl,NV,g7,jp,D2],d7),Q1e=re([Z1e],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function M4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function D4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(n),!0).forEach(function(r){J1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J1e(e,t,n){return(t=eNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eNe(e){var t=tNe(e,"string");return typeof t=="symbol"?t:t+""}function tNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nNe=()=>ze(Qn),rNe=()=>{var e=nNe(),t=ze(po),n=ze(m7);return xm(D4(D4({},e),{},{scale:n}),t)},y7=()=>ze(o2),I2=(e,t)=>t,j7=(e,t,n)=>n,$2=(e,t,n,r)=>r,sNe=re(po,e=>k0(e,t=>t.coordinate)),L2=re([mh,I2,j7,$2],o7),w7=re([L2,ph],T2),aNe=(e,t,n)=>{if(t!=null){var r=mh(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},b7=re([mh,I2,j7,$2],c7),Ox=re([co,uo,ht,Bn,po,$2,b7,jp],l7),iNe=re([L2,Ox],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),N7=re(po,w7,n7),oNe=re([b7,w7,Rl,NV,N7,jp,I2],d7),lNe=re([L2],e=>({isActive:e.active,activeIndex:e.index})),cNe=(e,t,n,r,a,i,o,l)=>{if(!(!e||!t||!r||!a||!i)){var c=Rxe(e.chartX,e.chartY,t,n,l);if(c){var d=$xe(c,t),u=Nxe(d,o,i,r,a),h=Ixe(t,i,u,c);return{activeIndex:String(u),activeCoordinate:h}}}};function GN(){return GN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GN.apply(null,arguments)}function R4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R4(Object(n),!0).forEach(function(r){dNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dNe(e,t,n){return(t=uNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uNe(e){var t=hNe(e,"string");return typeof t=="symbol"?t:t+""}function hNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fNe(e){var{coordinate:t,payload:n,index:r,offset:a,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,u=t,h=n,f=r;if(!l||!u||d!=="ScatterChart"&&c!=="axis")return null;var p,g;if(d==="ScatterChart")p=u,g=$ye;else if(d==="BarChart")p=Lye(o,u,a,i),g=fU;else if(o==="radial"){var{cx:v,cy:j,radius:y,startAngle:x,endAngle:w}=mU(u);p={cx:v,cy:j,startAngle:x,endAngle:w,innerRadius:y,outerRadius:y},g=gU}else p={points:v0e(o,u,a)},g=bf;var b=typeof l=="object"&&"className"in l?l.className:void 0,S=Sg(Sg(Sg(Sg({stroke:"#ccc",pointerEvents:"none"},a),p),vn(l,!1)),{},{payload:h,payloadIndex:f,className:mt("recharts-tooltip-cursor",b)});return m.isValidElement(l)?m.cloneElement(l,S):m.createElement(g,S)}function mNe(e){var t=rNe(),n=sU(),r=$0(),a=y7();return m.createElement(fNe,GN({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var _7=m.createContext(null),pNe=()=>m.useContext(_7),S7={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,h||c,f),g=n?n+d:d;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)t.call(u,h)&&d.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=n?n+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,g=new Array(p);f<p;f++)g[f]=h[f].fn;return g},l.prototype.listenerCount=function(d){var u=n?n+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,f,p,g){var v=n?n+d:d;if(!this._events[v])return!1;var j=this._events[v],y=arguments.length,x,w;if(j.fn){switch(j.once&&this.removeListener(d,j.fn,void 0,!0),y){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,u),!0;case 3:return j.fn.call(j.context,u,h),!0;case 4:return j.fn.call(j.context,u,h,f),!0;case 5:return j.fn.call(j.context,u,h,f,p),!0;case 6:return j.fn.call(j.context,u,h,f,p,g),!0}for(w=1,x=new Array(y-1);w<y;w++)x[w-1]=arguments[w];j.fn.apply(j.context,x)}else{var b=j.length,S;for(w=0;w<b;w++)switch(j[w].once&&this.removeListener(d,j[w].fn,void 0,!0),y){case 1:j[w].fn.call(j[w].context);break;case 2:j[w].fn.call(j[w].context,u);break;case 3:j[w].fn.call(j[w].context,u,h);break;case 4:j[w].fn.call(j[w].context,u,h,f);break;default:if(!x)for(S=1,x=new Array(y-1);S<y;S++)x[S-1]=arguments[S];j[w].fn.apply(j[w].context,x)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,f){var p=n?n+d:d;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!f||g.once)&&(!h||g.context===h)&&o(this,p);else{for(var v=0,j=[],y=g.length;v<y;v++)(g[v].fn!==u||f&&!g[v].once||h&&g[v].context!==h)&&j.push(g[v]);j.length?this._events[p]=j.length===1?j[0]:j:o(this,p)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=n?n+d:d,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(S7);var gNe=S7.exports;const vNe=pi(gNe);var Cm=new vNe,YN="recharts.syncEvent.tooltip",I4="recharts.syncEvent.brush";function F2(e,t){if(t){var n=Number.parseInt(t,10);if(!cs(n))return e==null?void 0:e[n]}}var xNe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},C7=Ms({name:"options",initialState:xNe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),yNe=C7.reducer,{createEventEmitter:jNe}=C7.actions;function wNe(e){return e.tooltip.syncInteraction}var bNe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},k7=Ms({name:"chartData",initialState:bNe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:$4,setDataStartEndIndexes:NNe,setComputedData:LTe}=k7.actions,_Ne=k7.reducer,SNe=["x","y"];function L4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L4(Object(n),!0).forEach(function(r){CNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CNe(e,t,n){return(t=kNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kNe(e){var t=ANe(e,"string");return typeof t=="symbol"?t:t+""}function ANe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PNe(e,t){if(e==null)return{};var n,r,a=ENe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ENe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var A7=()=>{};function TNe(){var e=ze(l2),t=ze(c2),n=an(),r=ze(vV),a=ze(po),i=$0(),o=Tk(),l=ze(c=>c.rootProps.className);m.useEffect(()=>{if(e==null)return A7;var c=(d,u,h)=>{if(t!==h&&e===d){if(r==="index"){var f;if(o&&u!==null&&u!==void 0&&(f=u.payload)!==null&&f!==void 0&&f.coordinate){var p=u.payload.coordinate,{x:g,y:v}=p,j=PNe(p,SNe),y=Bl(Bl(Bl({},j),typeof g=="number"&&{x:Math.max(o.x,Math.min(g,o.x+o.width))}),typeof v=="number"&&{y:Math.max(o.y,Math.min(v,o.y+o.height))}),x=Bl(Bl({},u),{},{payload:Bl(Bl({},u.payload),{},{coordinate:y})});n(x)}else n(u);return}if(a!=null){var w;if(typeof r=="function"){var b={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},S=r(a,b);w=a[S]}else r==="value"&&(w=a.find(z=>String(z.value)===u.payload.label));var{coordinate:_}=u.payload;if(w==null||u.payload.active===!1||_==null||o==null){n(HN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:N,y:C}=_,k=Math.min(N,o.x+o.width),A=Math.min(C,o.y+o.height),O={x:i==="horizontal"?w.coordinate:k,y:i==="horizontal"?A:w.coordinate},M=HN({active:u.payload.active,coordinate:O,dataKey:u.payload.dataKey,index:String(w.index),label:u.payload.label});n(M)}}};return Cm.on(YN,c),()=>{Cm.off(YN,c)}},[l,n,t,e,r,a,i,o])}function ONe(){var e=ze(l2),t=ze(c2),n=an();m.useEffect(()=>{if(e==null)return A7;var r=(a,i,o)=>{t!==o&&e===a&&n(NNe(i))};return Cm.on(I4,r),()=>{Cm.off(I4,r)}},[n,t,e])}function MNe(){var e=an();m.useEffect(()=>{e(jNe())},[e]),TNe(),ONe()}function DNe(e,t,n,r,a,i){var o=ze(f=>aNe(f,e,t)),l=ze(c2),c=ze(l2),d=ze(vV),u=ze(wNe),h=u==null?void 0:u.active;m.useEffect(()=>{if(!h&&c!=null&&l!=null){var f=HN({active:i,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r});Cm.emit(YN,c,f,l)}},[h,n,o,a,r,l,c,d,i])}function F4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function B4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(n),!0).forEach(function(r){RNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RNe(e,t,n){return(t=INe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function INe(e){var t=$Ne(e,"string");return typeof t=="symbol"?t:t+""}function $Ne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LNe(e){return e.dataKey}function FNe(e,t){return m.isValidElement(e)?m.cloneElement(e,t):typeof e=="function"?m.createElement(e,t):m.createElement(pye,t)}var z4=[],BNe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ol.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Jg(e){var t=hr(e,BNe),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:d,payloadUniqBy:u,position:h,reverseDirection:f,useTranslate3d:p,wrapperStyle:g,cursor:v,shared:j,trigger:y,defaultIndex:x,portal:w,axisId:b}=t,S=an(),_=typeof x=="number"?String(x):x;m.useEffect(()=>{S(d1e({shared:j,trigger:y,axisId:b,active:n,defaultIndex:_}))},[S,j,y,b,n,_]);var N=Tk(),C=lU(),k=a1e(j),{activeIndex:A,isActive:O}=ze(oe=>lNe(oe,k,y,_)),M=ze(oe=>oNe(oe,k,y,_)),z=ze(oe=>N7(oe,k,y,_)),P=ze(oe=>iNe(oe,k,y,_)),E=M,U=pNe(),R=n??O,[B,L]=Sz([E,R]),Q=k==="axis"?z:void 0;DNe(k,y,P,Q,A,R);var se=w??U;if(se==null)return null;var W=E??z4;R||(W=z4),l&&W.length&&(W=pz(E.filter(oe=>oe.value!=null&&(oe.hide!==!0||t.includeHidden)),u,LNe));var ie=W.length>0,ue=m.createElement(bye,{allowEscapeViewBox:r,animationDuration:a,animationEasing:i,isAnimationActive:c,active:R,coordinate:P,hasPayload:ie,offset:d,position:h,reverseDirection:f,useTranslate3d:p,viewBox:N,wrapperStyle:g,lastBoundingBox:B,innerRef:L,hasPortalFromProps:!!w},FNe(o,B4(B4({},t),{},{payload:W,label:Q,active:R,coordinate:P,accessibilityLayer:C})));return m.createElement(m.Fragment,null,no.createPortal(ue,se),R&&m.createElement(mNe,{cursor:v,tooltipEventType:k,coordinate:P,payload:E,index:A}))}var P7={},E7={},T7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},h=()=>{d&&u(),v()};let f=null;const p=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,h()},r)},g=()=>{f!==null&&(clearTimeout(f),f=null)},v=()=>{g(),o=void 0,l=null},j=()=>{u()},y=function(...x){if(a!=null&&a.aborted)return;o=this,l=x;const w=f==null;p(),c&&w&&u()};return y.schedule=p,y.cancel=v,y.flush=j,a==null||a.addEventListener("abort",v,{once:!0}),y}e.debounce=t})(T7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T7;function n(r,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let u,h=null;const f=t.debounce(function(...v){u=r.apply(this,v),h=null},a,{edges:d}),p=function(...v){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(u=r.apply(this,v),h=Date.now(),f.cancel(),f.schedule(),u):(f.apply(this,v),u)},g=()=>(f.flush(),u);return p.cancel=f.cancel,p.flush=g,p}e.debounce=n})(E7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E7;function n(r,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(r,a,{leading:o,maxWait:a,trailing:l})}e.throttle=n})(P7);var zNe=P7.throttle;const UNe=pi(zNe);var Nf=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]};function U4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(n),!0).forEach(function(r){VNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VNe(e,t,n){return(t=WNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WNe(e){var t=qNe(e,"string");return typeof t=="symbol"?t:t+""}function qNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ev=m.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:d,debounce:u=0,id:h,className:f,onResize:p,style:g={}}=e,v=m.useRef(null),j=m.useRef();j.current=p,m.useImperativeHandle(t,()=>v.current);var[y,x]=m.useState({containerWidth:r.width,containerHeight:r.height}),w=m.useCallback((S,_)=>{x(N=>{var C=Math.round(S),k=Math.round(_);return N.containerWidth===C&&N.containerHeight===k?N:{containerWidth:C,containerHeight:k}})},[]);m.useEffect(()=>{var S=k=>{var A,{width:O,height:M}=k[0].contentRect;w(O,M),(A=j.current)===null||A===void 0||A.call(j,O,M)};u>0&&(S=UNe(S,u,{trailing:!0,leading:!1}));var _=new ResizeObserver(S),{width:N,height:C}=v.current.getBoundingClientRect();return w(N,C),_.observe(v.current),()=>{_.disconnect()}},[w,u]);var b=m.useMemo(()=>{var{containerWidth:S,containerHeight:_}=y;if(S<0||_<0)return null;Nf(nc(a)||nc(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),Nf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var N=nc(a)?S:a,C=nc(i)?_:i;return n&&n>0&&(N?C=N/n:C&&(N=C*n),c&&C>c&&(C=c)),Nf(N>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,C,a,i,o,l,n),m.Children.map(d,k=>m.cloneElement(k,{width:N,height:C,style:Jw({width:N,height:C},k.props.style)}))},[n,d,i,c,l,o,y,a]);return m.createElement("div",{id:h?"".concat(h):void 0,className:mt("recharts-responsive-container",f),style:Jw(Jw({},g),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:v},m.createElement("div",{style:{width:0,height:0,overflow:"visible"}},b))}),bp=e=>null;bp.displayName="Cell";function HNe(e,t,n){return(t=KNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KNe(e){var t=GNe(e,"string");return typeof t=="symbol"?t:t+""}function GNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class YNe{constructor(t){HNe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function V4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function XNe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(n),!0).forEach(function(r){ZNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZNe(e,t,n){return(t=QNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QNe(e){var t=JNe(e,"string");return typeof t=="symbol"?t:t+""}function JNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e_e={cacheSize:2e3,enableCache:!0},O7=XNe({},e_e),W4=new YNe(O7.cacheSize),t_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},q4="recharts_measurement_span";function n_e(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var H4=(e,t)=>{try{var n=document.getElementById(q4);n||(n=document.createElement("span"),n.setAttribute("id",q4),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,t_e,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},_f=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ol.isSsr)return{width:0,height:0};if(!O7.enableCache)return H4(t,n);var r=n_e(t,n),a=W4.get(r);if(a)return a;var i=H4(t,n);return W4.set(r,i),i},K4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,G4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,r_e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,s_e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,M7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},a_e=Object.keys(M7),Od="NaN";function i_e(e,t){return e*M7[t]}class Kr{static parse(t){var n,[,r,a]=(n=s_e.exec(t))!==null&&n!==void 0?n:[];return new Kr(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,cs(t)&&(this.unit=""),n!==""&&!r_e.test(n)&&(this.num=NaN,this.unit=""),a_e.includes(n)&&(this.num=i_e(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Kr(NaN,""):new Kr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Kr(NaN,""):new Kr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Kr(NaN,""):new Kr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Kr(NaN,""):new Kr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return cs(this.num)}}function D7(e){if(e.includes(Od))return Od;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=(n=K4.exec(t))!==null&&n!==void 0?n:[],o=Kr.parse(r??""),l=Kr.parse(i??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Od;t=t.replace(K4,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,h,f]=(d=G4.exec(t))!==null&&d!==void 0?d:[],p=Kr.parse(u??""),g=Kr.parse(f??""),v=h==="+"?p.add(g):p.subtract(g);if(v.isNaN())return Od;t=t.replace(G4,v.toString())}return t}var Y4=/\(([^()]*)\)/;function o_e(e){for(var t=e,n;(n=Y4.exec(t))!=null;){var[,r]=n;t=t.replace(Y4,D7(r))}return t}function l_e(e){var t=e.replace(/\s+/g,"");return t=o_e(t),t=D7(t),t}function c_e(e){try{return l_e(e)}catch{return Od}}function eb(e){var t=c_e(e.slice(5,-1));return t===Od?"":t}var d_e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],u_e=["dx","dy","angle","className","breakAll"];function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XN.apply(null,arguments)}function X4(e,t){if(e==null)return{};var n,r,a=h_e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function h_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var R7=/[ \f\n\r\t\v\u2028\u2029]+/,I7=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];nn(t)||(n?a=t.toString().split(""):a=t.toString().split(R7));var i=a.map(l=>({word:l,width:_f(l,r).width})),o=n?0:_f("",r).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},f_e=(e,t,n,r,a)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,d=Be(i),u=o,h=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((M,z)=>{var{word:P,width:E}=z,U=M[M.length-1];if(U&&(r==null||a||U.width+E+n<Number(r)))U.words.push(P),U.width+=E+n;else{var R={words:[P],width:E};M.push(R)}return M},[])},f=h(t),p=A=>A.reduce((O,M)=>O.width>M.width?O:M);if(!d||a)return f;var g=f.length>i||p(f).width>Number(r);if(!g)return f;for(var v="",j=A=>{var O=u.slice(0,A),M=I7({breakAll:c,style:l,children:O+v}).wordsWithComputedWidth,z=h(M),P=z.length>i||p(z).width>Number(r);return[P,z]},y=0,x=u.length-1,w=0,b;y<=x&&w<=u.length-1;){var S=Math.floor((y+x)/2),_=S-1,[N,C]=j(_),[k]=j(S);if(!N&&!k&&(y=S+1),N&&k&&(x=S-1),!N&&k){b=C;break}w++}return b||f},Z4=e=>{var t=nn(e)?[]:e.toString().split(R7);return[{words:t}]},m_e=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!Ol.isSsr){var l,c,d=I7({breakAll:i,children:r,style:a});if(d){var{wordsWithComputedWidth:u,spaceWidth:h}=d;l=u,c=h}else return Z4(r);return f_e({breakAll:i,children:r,maxLines:o,style:a},l,c,t,n)}return Z4(r)},Q4="#808080",nj=m.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:d=Q4}=e,u=X4(e,d_e),h=m.useMemo(()=>m_e({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:f,dy:p,angle:g,className:v,breakAll:j}=u,y=X4(u,u_e);if(!fi(n)||!fi(r)||h.length===0)return null;var x=n+(Be(f)?f:0),w=r+(Be(p)?p:0),b;switch(c){case"start":b=eb("calc(".concat(i,")"));break;case"middle":b=eb("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:b=eb("calc(".concat(h.length-1," * -").concat(a,")"));break}var S=[];if(o){var _=h[0].width,{width:N}=u;S.push("scale(".concat(Be(N)?N/_:1,")"))}return g&&S.push("rotate(".concat(g,", ").concat(x,", ").concat(w,")")),S.length&&(y.transform=S.join(" ")),m.createElement("text",XN({},vn(y,!0),{ref:t,x,y:w,className:mt("recharts-text",v),textAnchor:l,fill:d.includes("url")?Q4:d}),h.map((C,k)=>{var A=C.words.join(j?"":" ");return m.createElement("tspan",{x,dy:k===0?b:a,key:"".concat(A,"-").concat(k)},A)}))});nj.displayName="Text";var p_e=["labelRef"];function g_e(e,t){if(e==null)return{};var n,r,a=v_e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function v_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function J4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(n),!0).forEach(function(r){x_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x_e(e,t,n){return(t=y_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y_e(e){var t=j_e(e,"string");return typeof t=="symbol"?t:t+""}function j_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ai.apply(null,arguments)}var $7=m.createContext(null),w_e=e=>{var{x:t,y:n,width:r,height:a,children:i}=e,o=m.useMemo(()=>({x:t,y:n,width:r,height:a}),[t,n,r,a]);return m.createElement($7.Provider,{value:o},i)},L7=()=>{var e=m.useContext($7),t=Tk();return e||t},b_e=m.createContext(null),N_e=()=>{var e=m.useContext(b_e),t=ze(bV);return e||t},__e=e=>{var{value:t,formatter:n}=e,r=nn(e.children)?t:e.children;return typeof n=="function"?n(r):r},B2=e=>e!=null&&typeof e=="function",S_e=(e,t)=>{var n=Hn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},C_e=(e,t,n,r,a)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:d,outerRadius:u,startAngle:h,endAngle:f,clockWise:p}=a,g=(d+u)/2,v=S_e(h,f),j=v>=0?1:-1,y,x;switch(t){case"insideStart":y=h+j*i,x=p;break;case"insideEnd":y=f-j*i,x=!p;break;case"end":y=f+j*i,x=p;break;default:throw new Error("Unsupported position ".concat(t))}x=v<=0?x:!x;var w=En(l,c,g,y),b=En(l,c,g,y+(x?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(x?0:1,`,
    `).concat(b.x,",").concat(b.y),_=nn(e.id)?pm("recharts-radial-line-"):e.id;return m.createElement("text",Ai({},r,{dominantBaseline:"central",className:mt("recharts-radial-bar-label",o)}),m.createElement("defs",null,m.createElement("path",{id:_,d:S})),m.createElement("textPath",{xlinkHref:"#".concat(_)},n))},k_e=(e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,d=(l+c)/2;if(n==="outside"){var{x:u,y:h}=En(r,a,o+t,d);return{x:u,y:h,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var f=(i+o)/2,{x:p,y:g}=En(r,a,f,d);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},F7=e=>"cx"in e&&Be(e.cx),A_e=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,i;n!=null&&!F7(n)&&(i=n);var{x:o,y:l,width:c,height:d}=t,u=d>=0?1:-1,h=u*r,f=u>0?"end":"start",p=u>0?"start":"end",g=c>=0?1:-1,v=g*r,j=g>0?"end":"start",y=g>0?"start":"end";if(a==="top"){var x={x:o+c/2,y:l-u*r,textAnchor:"middle",verticalAnchor:f};return xn(xn({},x),i?{height:Math.max(l-i.y,0),width:c}:{})}if(a==="bottom"){var w={x:o+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:p};return xn(xn({},w),i?{height:Math.max(i.y+i.height-(l+d),0),width:c}:{})}if(a==="left"){var b={x:o-v,y:l+d/2,textAnchor:j,verticalAnchor:"middle"};return xn(xn({},b),i?{width:Math.max(b.x-i.x,0),height:d}:{})}if(a==="right"){var S={x:o+c+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return xn(xn({},S),i?{width:Math.max(i.x+i.width-S.x,0),height:d}:{})}var _=i?{width:c,height:d}:{};return a==="insideLeft"?xn({x:o+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},_):a==="insideRight"?xn({x:o+c-v,y:l+d/2,textAnchor:j,verticalAnchor:"middle"},_):a==="insideTop"?xn({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:p},_):a==="insideBottom"?xn({x:o+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:f},_):a==="insideTopLeft"?xn({x:o+v,y:l+h,textAnchor:y,verticalAnchor:p},_):a==="insideTopRight"?xn({x:o+c-v,y:l+h,textAnchor:j,verticalAnchor:p},_):a==="insideBottomLeft"?xn({x:o+v,y:l+d-h,textAnchor:y,verticalAnchor:f},_):a==="insideBottomRight"?xn({x:o+c-v,y:l+d-h,textAnchor:j,verticalAnchor:f},_):a&&typeof a=="object"&&(Be(a.x)||nc(a.x))&&(Be(a.y)||nc(a.y))?xn({x:o+Nr(a.x,c),y:l+Nr(a.y,d),textAnchor:"end",verticalAnchor:"end"},_):xn({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},P_e={offset:5};function Oo(e){var t=hr(e,P_e),{viewBox:n,position:r,value:a,children:i,content:o,className:l="",textBreakAll:c,labelRef:d}=t,u=N_e(),h=L7(),f=r==="center"?h:u??h,p=n||f;if(!p||nn(a)&&nn(i)&&!m.isValidElement(o)&&typeof o!="function")return null;var g=xn(xn({},t),{},{viewBox:p});if(m.isValidElement(o)){var v=g_e(g,p_e);return m.cloneElement(o,v)}var j;if(typeof o=="function"){if(j=m.createElement(o,g),m.isValidElement(j))return j}else j=__e(t);var y=F7(p),x=vn(t,!0);if(y&&(r==="insideStart"||r==="insideEnd"||r==="end"))return C_e(t,r,j,x,p);var w=y?k_e(p,t.offset,t.position):A_e(t,p);return m.createElement(nj,Ai({ref:d,className:mt("recharts-label",l)},x,w,{breakAll:c}),j)}Oo.displayName="Label";var E_e=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?m.createElement(Oo,Ai({key:"label-implicit"},r)):fi(e)?m.createElement(Oo,Ai({key:"label-implicit",value:e},r)):m.isValidElement(e)?e.type===Oo?m.cloneElement(e,xn({key:"label-implicit"},r)):m.createElement(Oo,Ai({key:"label-implicit",content:e},r)):B2(e)?m.createElement(Oo,Ai({key:"label-implicit",content:e},r)):e&&typeof e=="object"?m.createElement(Oo,Ai({},e,{key:"label-implicit"},r)):null};function T_e(e){var{label:t}=e,n=L7();return E_e(t,n)||null}var B7={},z7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(z7);var U7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(U7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z7,n=U7,r=S0;function a(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=a})(B7);var O_e=B7.last;const M_e=pi(O_e);var D_e=["valueAccessor"],R_e=["dataKey","clockWise","id","textBreakAll"];function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mx.apply(null,arguments)}function eD(e,t){if(e==null)return{};var n,r,a=I_e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function I_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $_e=e=>Array.isArray(e.value)?M_e(e.value):e.value,V7=m.createContext(void 0),W7=V7.Provider,q7=m.createContext(void 0),L_e=q7.Provider;function F_e(){return m.useContext(V7)}function B_e(){return m.useContext(q7)}function tv(e){var{valueAccessor:t=$_e}=e,n=eD(e,D_e),{dataKey:r,clockWise:a,id:i,textBreakAll:o}=n,l=eD(n,R_e),c=F_e(),d=B_e(),u=c||d;return!u||!u.length?null:m.createElement(On,{className:"recharts-label-list"},u.map((h,f)=>{var p,g=nn(r)?t(h,f):Lt(h&&h.payload,r),v=nn(i)?{}:{id:"".concat(i,"-").concat(f)};return m.createElement(Oo,Mx({},vn(h,!0),l,v,{fill:(p=n.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:o,viewBox:h.viewBox,key:"label-".concat(f),index:f}))}))}tv.displayName="LabelList";function z2(e){var{label:t}=e;return t?t===!0?m.createElement(tv,{key:"labelList-implicit"}):m.isValidElement(t)||B2(t)?m.createElement(tv,{key:"labelList-implicit",content:t}):typeof t=="object"?m.createElement(tv,Mx({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ZN(){return ZN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZN.apply(null,arguments)}var H7=e=>{var{cx:t,cy:n,r,className:a}=e,i=mt("recharts-dot",a);return t===+t&&n===+n&&r===+r?m.createElement("circle",ZN({},Ba(e),sk(e),{className:i,cx:t,cy:n,r})):null},K7=e=>e.graphicalItems.polarItems,z_e=re([Xt,gp],m2),U2=re([K7,_n,z_e],p2),U_e=re([U2],g2),V2=re([U_e,s2],v2),V_e=re([V2,_n,U2],y2),W_e=re([V2,_n,U2],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var i,o=Lt(r,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Lt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),tD=()=>{},q_e=re([_n,UV,tD,W_e,tD,ht,Xt],w2),G7=re([_n,ht,V2,V_e,pp,Xt,q_e],b2),H_e=re([G7,_n,hh],S2);re([_n,G7,H_e,Xt],k2);var K_e={radiusAxis:{},angleAxis:{}},G_e=Ms({name:"polarAxis",initialState:K_e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),Y_e=G_e.reducer;function nD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(n),!0).forEach(function(r){X_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X_e(e,t,n){return(t=Z_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z_e(e){var t=Q_e(e,"string");return typeof t=="symbol"?t:t+""}function Q_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J_e=(e,t)=>t,W2=re([K7,J_e],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),eSe=[],q2=(e,t,n)=>(n==null?void 0:n.length)===0?eSe:n,Y7=re([s2,W2,q2],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(i=>rD(rD({},t.presentationProps),i.props))),a!=null)return a}}),tSe=re([Y7,W2,q2],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var i,o=Lt(r,t.nameKey,t.name),l;return n!=null&&(i=n[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?l=r.fill:l=t.fill,{value:ih(o,t.dataKey),color:l,payload:r,type:t.legendType}})}),nSe=re([Y7,W2,q2,Bn],(e,t,n,r)=>{if(!(t==null||e==null))return ZSe({offset:r,pieSettings:t,displayedData:e,cells:n})}),X7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(X7);var rSe=X7.isPlainObject;const sSe=pi(rSe);function sD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function aD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(n),!0).forEach(function(r){aSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aSe(e,t,n){return(t=iSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iSe(e){var t=oSe(e,"string");return typeof t=="symbol"?t:t+""}function oSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dx.apply(null,arguments)}var iD=(e,t,n,r,a)=>{var i=n-r,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-i/2,",").concat(t+a),o+="L ".concat(e+n-i/2-r,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},lSe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cSe=e=>{var t=hr(e,lSe),{x:n,y:r,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:d,animationBegin:u,isUpdateAnimationActive:h}=t,f=m.useRef(),[p,g]=m.useState(-1),v=m.useRef(a),j=m.useRef(i),y=m.useRef(o),x=m.useRef(n),w=m.useRef(r),b=dp(e,"trapezoid-");if(m.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var P=f.current.getTotalLength();P&&g(P)}catch{}},[]),n!==+n||r!==+r||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var S=mt("recharts-trapezoid",l);if(!h)return m.createElement("g",null,m.createElement("path",Dx({},vn(t,!0),{className:S,d:iD(n,r,a,i,o)})));var _=v.current,N=j.current,C=y.current,k=x.current,A=w.current,O="0px ".concat(p===-1?1:p,"px"),M="".concat(p,"px 0px"),z=cU(["strokeDasharray"],d,c);return m.createElement(cp,{animationId:b,key:b,canBegin:p>0,duration:d,easing:c,isActive:h,begin:u},P=>{var E=Qt(_,a,P),U=Qt(N,i,P),R=Qt(C,o,P),B=Qt(k,n,P),L=Qt(A,r,P);f.current&&(v.current=E,j.current=U,y.current=R,x.current=B,w.current=L);var Q=P>0?{transition:z,strokeDasharray:M}:{strokeDasharray:O};return m.createElement("path",Dx({},vn(t,!0),{className:S,d:iD(B,L,E,U,R),ref:f,style:aD(aD({},Q),t.style)}))})},dSe=["option","shapeType","propTransformer","activeClassName","isActive"];function uSe(e,t){if(e==null)return{};var n,r,a=hSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function hSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oD(Object(n),!0).forEach(function(r){fSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fSe(e,t,n){return(t=mSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mSe(e){var t=pSe(e,"string");return typeof t=="symbol"?t:t+""}function pSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gSe(e,t){return Rx(Rx({},t),e)}function vSe(e,t){return e==="symbols"}function lD(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return m.createElement(fU,n);case"trapezoid":return m.createElement(cSe,n);case"sector":return m.createElement(gU,n);case"symbols":if(vSe(t))return m.createElement(dk,n);break;default:return null}}function xSe(e){return m.isValidElement(e)?e.props:e}function Z7(e){var{option:t,shapeType:n,propTransformer:r=gSe,activeClassName:a="recharts-active-shape",isActive:i}=e,o=uSe(e,dSe),l;if(m.isValidElement(t))l=m.cloneElement(t,Rx(Rx({},o),xSe(t)));else if(typeof t=="function")l=t(o);else if(sSe(t)&&typeof t!="boolean"){var c=r(t,o);l=m.createElement(lD,{shapeType:n,elementProps:c})}else{var d=o;l=m.createElement(lD,{shapeType:n,elementProps:d})}return i?m.createElement(On,{className:a},l):l}var H2=(e,t)=>{var n=an();return(r,a)=>i=>{e==null||e(r,a,i),n(s7({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},K2=e=>{var t=an();return(n,r)=>a=>{e==null||e(n,r,a),t(u1e())}},G2=(e,t)=>{var n=an();return(r,a)=>i=>{e==null||e(r,a,i),n(h1e({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function Y2(e){var{fn:t,args:n}=e,r=an(),a=ds();return m.useEffect(()=>{if(!a){var i=t(n);return r(l1e(i)),()=>{r(c1e(i))}}},[t,n,r,a]),null}var Q7=()=>{};function J7(e){var{legendPayload:t}=e,n=an(),r=ds();return m.useEffect(()=>r?Q7:(n(iU(t)),()=>{n(oU(t))}),[n,r,t]),null}function ySe(e){var{legendPayload:t}=e,n=an(),r=ze(ht);return m.useEffect(()=>r!=="centric"&&r!=="radial"?Q7:(n(iU(t)),()=>{n(oU(t))}),[n,r,t]),null}var tb,jSe=()=>{var[e]=m.useState(()=>pm("uid-"));return e},wSe=(tb=Gx.useId)!==null&&tb!==void 0?tb:jSe;function bSe(e,t){var n=wSe();return t||(e?"".concat(e,"-").concat(n):n)}var NSe=m.createContext(void 0),X2=e=>{var{id:t,type:n,children:r}=e,a=bSe("recharts-".concat(n),t);return m.createElement(NSe.Provider,{value:a},r(a))},_Se={cartesianItems:[],polarItems:[]},eW=Ms({name:"graphicalItems",initialState:_Se,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,a=Ii(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},removeCartesianGraphicalItem(e,t){var n=Ii(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Ii(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:SSe,replaceCartesianGraphicalItem:CSe,removeCartesianGraphicalItem:kSe,addPolarGraphicalItem:ASe,removePolarGraphicalItem:PSe}=eW.actions,ESe=eW.reducer;function tW(e){var t=an(),n=m.useRef(null);return m.useEffect(()=>{n.current===null?t(SSe(e)):n.current!==e&&t(CSe({prev:n.current,next:e})),n.current=e},[t,e]),m.useEffect(()=>()=>{n.current&&(t(kSe(n.current)),n.current=null)},[t]),null}function TSe(e){var t=an();return m.useEffect(()=>(t(ASe(e)),()=>{t(PSe(e))}),[t,e]),null}var OSe=["onMouseEnter","onClick","onMouseLeave"],MSe=["id"],DSe=["id"];function Z2(e,t){if(e==null)return{};var n,r,a=RSe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function RSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function cD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(n),!0).forEach(function(r){ISe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ISe(e,t,n){return(t=$Se(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Se(e){var t=LSe(e,"string");return typeof t=="symbol"?t:t+""}function LSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yl.apply(null,arguments)}function FSe(e){var t=m.useMemo(()=>ak(e.children,bp),[e.children]),n=ze(r=>tSe(r,e.id,t));return n==null?null:m.createElement(ySe,{legendPayload:n})}function BSe(e){var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:d}=e;return{dataDefinedOnItem:r.map(u=>u.tooltipPayload),positions:r.map(u=>u.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:ih(l,t),hide:c,type:d,color:o,unit:""}}}var zSe=(e,t)=>e>t?"start":e<t?"end":"middle",USe=(e,t,n)=>Nr(typeof t=="function"?t(e):t,n,n*.8),VSe=(e,t,n)=>{var{top:r,left:a,width:i,height:o}=t,l=Xz(i,o),c=a+Nr(e.cx,i,i/2),d=r+Nr(e.cy,o,o/2),u=Nr(e.innerRadius,l,0),h=USe(n,e.outerRadius,l),f=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:d,innerRadius:u,outerRadius:h,maxRadius:f}},WSe=(e,t)=>{var n=Hn(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function qSe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var HSe=(e,t)=>{if(m.isValidElement(e))return m.cloneElement(e,t);if(typeof e=="function")return e(t);var n=mt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return m.createElement(bf,yl({},t,{type:"linear",className:n}))},KSe=(e,t,n)=>{if(m.isValidElement(e))return m.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),m.isValidElement(r)))return r;var a=mt("recharts-pie-label-text",qSe(e));return m.createElement(nj,yl({},t,{alignmentBaseline:"middle",className:a}),r)};function GSe(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:i,dataKey:o}=n;if(!r||!a||!t)return null;var l=Ba(n),c=vn(a,!1),d=vn(i,!1),u=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,h=t.map((f,p)=>{var g=(f.startAngle+f.endAngle)/2,v=En(f.cx,f.cy,f.outerRadius+u,g),j=Ht(Ht(Ht(Ht({},l),f),{},{stroke:"none"},c),{},{index:p,textAnchor:zSe(v.x,f.cx)},v),y=Ht(Ht(Ht(Ht({},l),f),{},{fill:"none",stroke:f.fill},d),{},{index:p,points:[En(f.cx,f.cy,f.outerRadius,g),v],key:"line"});return m.createElement(On,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(p)},i&&HSe(i,y),KSe(a,j,Lt(f,o)))});return m.createElement(On,{className:"recharts-pie-labels"},h)}function YSe(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?m.createElement(z2,{label:a}):m.createElement(GSe,{sectors:t,props:n,showLabels:r})}function XSe(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a}=e,i=ze(xl),{onMouseEnter:o,onClick:l,onMouseLeave:c}=a,d=Z2(a,OSe),u=H2(o,a.dataKey),h=K2(c),f=G2(l,a.dataKey);return t==null||t.length===0?null:m.createElement(m.Fragment,null,t.map((p,g)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var v=n&&String(g)===i,j=i?r:null,y=v?n:j,x=Ht(Ht({},p),{},{stroke:p.stroke,tabIndex:-1,[nU]:g,[rU]:a.dataKey});return m.createElement(On,yl({tabIndex:-1,className:"recharts-pie-sector"},ap(d,p,g),{onMouseEnter:u(p,g),onMouseLeave:h(p,g),onClick:f(p,g),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(g)}),m.createElement(Z7,yl({option:y,isActive:v,shapeType:"sector"},x)))}))}function ZSe(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:d,nameKey:u,tooltipType:h}=n,f=Math.abs(n.minAngle),p=WSe(l,c),g=Math.abs(p),v=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,j=r.filter(_=>Lt(_,d,0)!==0).length,y=(g>=360?j:j-1)*v,x=g-j*f-y,w=r.reduce((_,N)=>{var C=Lt(N,d,0);return _+(Be(C)?C:0)},0),b;if(w>0){var S;b=r.map((_,N)=>{var C=Lt(_,d,0),k=Lt(_,u,N),A=VSe(n,i,_),O=(Be(C)?C:0)/w,M,z=Ht(Ht({},_),a&&a[N]&&a[N].props);N?M=S.endAngle+Hn(p)*v*(C!==0?1:0):M=l;var P=M+Hn(p)*((C!==0?f:0)+O*x),E=(M+P)/2,U=(A.innerRadius+A.outerRadius)/2,R=[{name:k,value:C,payload:z,dataKey:d,type:h}],B=En(A.cx,A.cy,U,E);return S=Ht(Ht(Ht(Ht({},n.presentationProps),{},{percent:O,cornerRadius:o,name:k,tooltipPayload:R,midAngle:E,middleRadius:U,tooltipPosition:B},z),A),{},{value:C,startAngle:M,endAngle:P,payload:z,paddingAngle:Hn(p)*v}),S})}return b}function QSe(e){var{showLabels:t,sectors:n,children:r}=e,a=m.useMemo(()=>!t||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,t]);return m.createElement(L_e,{value:t?a:void 0},r)}function JSe(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:h}=t,f=dp(t,"recharts-pie-"),p=n.current,[g,v]=m.useState(!1),j=m.useCallback(()=>{typeof h=="function"&&h(),v(!1)},[h]),y=m.useCallback(()=>{typeof u=="function"&&u(),v(!0)},[u]);return m.createElement(QSe,{showLabels:!g,sectors:r},m.createElement(cp,{animationId:f,begin:i,duration:o,isActive:a,easing:l,onAnimationStart:y,onAnimationEnd:j,key:f},x=>{var w=[],b=r&&r[0],S=b==null?void 0:b.startAngle;return r==null||r.forEach((_,N)=>{var C=p&&p[N],k=N>0?Rc(_,"paddingAngle",0):0;if(C){var A=Qt(C.endAngle-C.startAngle,_.endAngle-_.startAngle,x),O=Ht(Ht({},_),{},{startAngle:S+k,endAngle:S+A+k});w.push(O),S=O.endAngle}else{var{endAngle:M,startAngle:z}=_,P=Qt(0,M-z,x),E=Ht(Ht({},_),{},{startAngle:S+k,endAngle:S+P+k});w.push(E),S=E.endAngle}}),n.current=w,m.createElement(On,null,m.createElement(XSe,{sectors:w,activeShape:c,inactiveShape:d,allOtherPieProps:t}))}),m.createElement(YSe,{showLabels:!g,sectors:r,props:t}),t.children)}var eCe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ol.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function tCe(e){var{id:t}=e,n=Z2(e,MSe),{hide:r,className:a,rootTabIndex:i}=e,o=m.useMemo(()=>ak(e.children,bp),[e.children]),l=ze(u=>nSe(u,t,o)),c=m.useRef(null),d=mt("recharts-pie",a);return r||l==null?(c.current=null,m.createElement(On,{tabIndex:i,className:d})):m.createElement(m.Fragment,null,m.createElement(Y2,{fn:BSe,args:Ht(Ht({},e),{},{sectors:l})}),m.createElement(On,{tabIndex:i,className:d},m.createElement(JSe,{props:Ht(Ht({},n),{},{sectors:l}),previousSectorsRef:c})))}function nW(e){var t=hr(e,eCe),{id:n}=t,r=Z2(t,DSe),a=Ba(r);return m.createElement(X2,{id:n,type:"pie"},i=>m.createElement(m.Fragment,null,m.createElement(TSe,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),m.createElement(FSe,yl({},r,{id:i})),m.createElement(tCe,yl({},r,{id:i}))))}nW.displayName="Pie";function dD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dD(Object(n),!0).forEach(function(r){nCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nCe(e,t,n){return(t=rCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rCe(e){var t=sCe(e,"string");return typeof t=="symbol"?t:t+""}function sCe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aCe={xAxis:{},yAxis:{},zAxis:{}},rW=Ms({name:"cartesianAxis",initialState:aCe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=uD(uD({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:iCe,removeXAxis:oCe,addYAxis:lCe,removeYAxis:cCe,addZAxis:FTe,removeZAxis:BTe,updateYAxisWidth:dCe}=rW.actions,uCe=rW.reducer,hCe=re([Bn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),fCe=re([hCe,co,uo],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Q2=()=>ze(fCe),mCe=()=>ze(Q1e);function hD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(n),!0).forEach(function(r){pCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pCe(e,t,n){return(t=gCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gCe(e){var t=vCe(e,"string");return typeof t=="symbol"?t:t+""}function vCe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xCe=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o=fD(fD({index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},vn(a,!1)),sk(a)),l;return m.isValidElement(a)?l=m.cloneElement(a,o):typeof a=="function"?l=a(o):l=m.createElement(H7,o),m.createElement(On,{className:"recharts-active-dot"},l)};function mD(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a}=e,i=ze(xl),o=mCe();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return nn(l)?null:xCe({point:l,childIndex:Number(i),mainColor:n,dataKey:a,activeDot:r})}var yCe="Invariant failed";function jCe(e,t){throw new Error(yCe)}var wCe=["x","y"];function QN(){return QN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QN.apply(null,arguments)}function pD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(n),!0).forEach(function(r){bCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bCe(e,t,n){return(t=NCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NCe(e){var t=_Ce(e,"string");return typeof t=="symbol"?t:t+""}function _Ce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SCe(e,t){if(e==null)return{};var n,r,a=CCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function CCe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kCe(e,t){var{x:n,y:r}=e,a=SCe(e,wCe),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),d="".concat(t.height||a.height),u=parseInt(d,10),h="".concat(t.width||a.width),f=parseInt(h,10);return zh(zh(zh(zh(zh({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function J2(e){return m.createElement(Z7,QN({shapeType:"rectangle",propTransformer:kCe,activeClassName:"recharts-active-bar"},e))}var ACe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Be(t))return t;var i=Be(r)||nn(r);return i?t(r,a):(i||jCe(),n)}},PCe={},ECe=Ms({name:"errorBars",initialState:PCe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),TCe=ECe.reducer,OCe=["children"];function MCe(e,t){if(e==null)return{};var n,r,a=DCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function DCe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var RCe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ICe=m.createContext(RCe);function $Ce(e){var{children:t}=e,n=MCe(e,OCe);return m.createElement(ICe.Provider,{value:n},t)}function eA(e,t){var n,r,a=ze(d=>fo(d,e)),i=ze(d=>mo(d,t)),o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:fs.allowDataOverflow,l=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:ms.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function sW(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=Q2(),{needClipX:i,needClipY:o,needClip:l}=eA(t,n);if(!l)return null;var{x:c,y:d,width:u,height:h}=a;return m.createElement("clipPath",{id:"clipPath-".concat(r)},m.createElement("rect",{x:i?c:c-u/2,y:o?d:d-h/2,width:i?u:u*2,height:o?h:h*2}))}var LCe=["onMouseEnter","onMouseLeave","onClick"],FCe=["value","background","tooltipPosition"],BCe=["id"],zCe=["onMouseEnter","onClick","onMouseLeave"];function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jl.apply(null,arguments)}function gD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(n),!0).forEach(function(r){UCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UCe(e,t,n){return(t=VCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VCe(e){var t=WCe(e,"string");return typeof t=="symbol"?t:t+""}function WCe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ix(e,t){if(e==null)return{};var n,r,a=qCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qCe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var HCe=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:ih(n,t),payload:e}]};function KCe(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:ih(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function GCe(e){var t=ze(xl),{data:n,dataKey:r,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,d=Ix(i,LCe),u=H2(o,r),h=K2(l),f=G2(c,r);if(!a||n==null)return null;var p=vn(a,!1);return m.createElement(m.Fragment,null,n.map((g,v)=>{var{value:j,background:y,tooltipPosition:x}=g,w=Ix(g,FCe);if(!y)return null;var b=u(g,v),S=h(g,v),_=f(g,v),N=Or(Or(Or(Or(Or({option:a,isActive:String(v)===t},w),{},{fill:"#eee"},y),p),ap(d,g,v)),{},{onMouseEnter:b,onMouseLeave:S,onClick:_,dataKey:r,index:v,className:"recharts-bar-background-rectangle"});return m.createElement(J2,jl({key:"background-bar-".concat(N.index)},N))}))}function YCe(e){var{showLabels:t,children:n,rects:r}=e,a=r==null?void 0:r.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return Or(Or({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return m.createElement(W7,{value:t?a:void 0},n)}function XCe(e){var{shape:t,activeBar:n,baseProps:r,entry:a,index:i,dataKey:o}=e,l=ze(xl),c=ze(v7),d=n&&String(i)===l&&(c==null||o===c),u=d?n:t;return m.createElement(J2,jl({},r,a,{isActive:d,option:u,index:i,dataKey:o}))}function ZCe(e){var{shape:t,baseProps:n,entry:r,index:a,dataKey:i}=e;return m.createElement(J2,jl({},n,r,{isActive:!1,option:t,index:a,dataKey:i}))}function QCe(e){var{data:t,props:n}=e,r=Ba(n),a=Ix(r,BCe),{shape:i,dataKey:o,activeBar:l}=n,{onMouseEnter:c,onClick:d,onMouseLeave:u}=n,h=Ix(n,zCe),f=H2(c,o),p=K2(u),g=G2(d,o);return t?m.createElement(m.Fragment,null,t.map((v,j)=>m.createElement(On,jl({className:"recharts-bar-rectangle"},ap(h,v,j),{onMouseEnter:f(v,j),onMouseLeave:p(v,j),onClick:g(v,j),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(j)}),l?m.createElement(XCe,{shape:i,activeBar:l,baseProps:a,entry:v,index:j,dataKey:o}):m.createElement(ZCe,{shape:i,baseProps:a,entry:v,index:j,dataKey:o})))):null}function JCe(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,h=n.current,f=dp(t,"recharts-bar-"),[p,g]=m.useState(!1),v=!p,j=m.useCallback(()=>{typeof d=="function"&&d(),g(!1)},[d]),y=m.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return m.createElement(YCe,{showLabels:v,rects:r},m.createElement(cp,{animationId:f,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:j,onAnimationStart:y,key:f},x=>{var w=x===1?r:r==null?void 0:r.map((b,S)=>{var _=h&&h[S];if(_)return Or(Or({},b),{},{x:Qt(_.x,b.x,x),y:Qt(_.y,b.y,x),width:Qt(_.width,b.width,x),height:Qt(_.height,b.height,x)});if(a==="horizontal"){var N=Qt(0,b.height,x);return Or(Or({},b),{},{y:b.y+b.height-N,height:N})}var C=Qt(0,b.width,x);return Or(Or({},b),{},{width:C})});return x>0&&(n.current=w??null),w==null?null:m.createElement(On,null,m.createElement(QCe,{props:t,data:w}))}),m.createElement(z2,{label:t.label}),t.children)}function eke(e){var t=m.useRef(null);return m.createElement(JCe,{previousRectanglesRef:t,props:e})}var aW=0,tke=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Lt(e,t)}};class nke extends m.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:a,xAxisId:i,yAxisId:o,needClip:l,background:c,id:d}=this.props;if(t||n==null)return null;var u=mt("recharts-bar",a),h=d;return m.createElement(On,{className:u,id:d},l&&m.createElement("defs",null,m.createElement(sW,{clipPathId:h,xAxisId:i,yAxisId:o})),m.createElement(On,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},m.createElement(GCe,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),m.createElement(eke,this.props)))}}var rke={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ol.isSsr,legendType:"rect",minPointSize:aW,xAxisId:0,yAxisId:0};function ske(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:h}=eA(t,n),f=$0(),p=ds(),g=ak(e.children,bp),v=ze(x=>Oke(x,t,n,p,e.id,g));if(f!=="vertical"&&f!=="horizontal")return null;var j,y=v==null?void 0:v[0];return y==null||y.height==null||y.width==null?j=0:j=f==="vertical"?y.height/2:y.width/2,m.createElement($Ce,{xAxisId:t,yAxisId:n,data:v,dataPointFormatter:tke,errorBarOffset:j},m.createElement(nke,jl({},e,{layout:f,needClip:h,data:v,xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function ake(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:h,offset:f,cells:p,parentViewBox:g}=e,v=t==="horizontal"?l:o,j=u?v.scale.domain():null,y=Txe({numericAxis:v});return h.map((x,w)=>{var b,S,_,N,C,k;u?b=Cxe(u[w],j):(b=Lt(x,n),Array.isArray(b)||(b=[y,b]));var A=ACe(r,aW)(b[1],w);if(t==="horizontal"){var O,[M,z]=[l.scale(b[0]),l.scale(b[1])];S=pM({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:x,index:w}),_=(O=z??M)!==null&&O!==void 0?O:void 0,N=a.size;var P=M-z;if(C=cs(P)?0:P,k={x:S,y:f.top,width:N,height:f.height},Math.abs(A)>0&&Math.abs(C)<Math.abs(A)){var E=Hn(C||A)*(Math.abs(A)-Math.abs(C));_-=E,C+=E}}else{var[U,R]=[o.scale(b[0]),o.scale(b[1])];if(S=U,_=pM({axis:l,ticks:d,bandSize:i,offset:a.offset,entry:x,index:w}),N=R-U,C=a.size,k={x:f.left,y:_,width:f.width,height:C},Math.abs(A)>0&&Math.abs(N)<Math.abs(A)){var B=Hn(N||A)*(Math.abs(A)-Math.abs(N));N+=B}}if(S==null||_==null||N==null||C==null)return null;var L=Or(Or({},x),{},{x:S,y:_,width:N,height:C,value:u?b:b[1],payload:x,background:k,tooltipPosition:{x:S+N/2,y:_+C/2},parentViewBox:g},p&&p[w]&&p[w].props);return L}).filter(Boolean)}function ike(e){var t=hr(e,rke),n=ds();return m.createElement(X2,{id:t.id,type:"bar"},r=>m.createElement(m.Fragment,null,m.createElement(J7,{legendPayload:HCe(t)}),m.createElement(Y2,{fn:KCe,args:t}),m.createElement(tW,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:eU(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),m.createElement(ske,jl({},t,{id:r}))))}var $x=m.memo(ike);$x.displayName="Bar";function vD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vD(Object(n),!0).forEach(function(r){oke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oke(e,t,n){return(t=lke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lke(e){var t=cke(e,"string");return typeof t=="symbol"?t:t+""}function cke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dke=(e,t)=>t,uke=(e,t,n)=>n,hke=(e,t,n,r)=>r,fke=(e,t,n,r,a)=>a,Np=re([X0,fke],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),mke=re([Np],e=>e==null?void 0:e.maxBarSize),pke=(e,t,n,r,a,i)=>i,xD=(e,t,n)=>{var r=n??e;if(!nn(r))return Nr(r,t,0)},gke=re([ht,X0,dke,uke,hke],(e,t,n,r,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===n:i.yAxisId===r).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),vke=(e,t,n,r)=>{var a=ht(e);return a==="horizontal"?Sm(e,"yAxis",n,r):Sm(e,"xAxis",t,r)},xke=(e,t,n)=>{var r=ht(e);return r==="horizontal"?A4(e,"xAxis",t):A4(e,"yAxis",n)},yke=(e,t,n)=>{var r={},a=e.filter(Y0),i=e.filter(d=>d.stackId==null),o=a.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),r),l=Object.entries(o).map(d=>{var[u,h]=d,f=h.map(g=>g.dataKey),p=xD(t,n,h[0].barSize);return{stackId:u,dataKeys:f,barSize:p}}),c=i.map(d=>{var u=[d.dataKey].filter(f=>f!=null),h=xD(t,n,d.barSize);return{stackId:void 0,dataKeys:u,barSize:h}});return[...l,...c]},jke=re([gke,obe,xke],yke),wke=(e,t,n,r,a)=>{var i,o,l=Np(e,t,n,r,a);if(l!=null){var c=ht(e),d=pV(e),{maxBarSize:u}=l,h=nn(u)?d:u,f,p;return c==="horizontal"?(f=vl(e,"xAxis",t,r),p=gl(e,"xAxis",t,r)):(f=vl(e,"yAxis",n,r),p=gl(e,"yAxis",n,r)),(i=(o=xm(f,p,!0))!==null&&o!==void 0?o:h)!==null&&i!==void 0?i:0}},iW=(e,t,n,r)=>{var a=ht(e),i,o;return a==="horizontal"?(i=vl(e,"xAxis",t,r),o=gl(e,"xAxis",t,r)):(i=vl(e,"yAxis",n,r),o=gl(e,"yAxis",n,r)),xm(i,o)};function bke(e,t,n,r,a){var i=r.length;if(!(i<1)){var o=Nr(e,n,0,!0),l,c=[];if(cr(r[0].barSize)){var d=!1,u=n/i,h=r.reduce((y,x)=>y+(x.barSize||0),0);h+=(i-1)*o,h>=n&&(h-=(i-1)*o,o=0),h>=n&&u>0&&(d=!0,u*=.9,h=i*u);var f=(n-h)/2>>0,p={offset:f-o,size:0};l=r.reduce((y,x)=>{var w,b={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:p.offset+p.size+o,size:d?u:(w=x.barSize)!==null&&w!==void 0?w:0}},S=[...y,b];return p=S[S.length-1].position,S},c)}else{var g=Nr(t,n,0,!0);n-2*g-(i-1)*o<=0&&(o=0);var v=(n-2*g-(i-1)*o)/i;v>1&&(v>>=0);var j=cr(a)?Math.min(v,a):v;l=r.reduce((y,x,w)=>[...y,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:g+(v+o)*w+(v-j)/2,size:j}}],c)}return l}}var Nke=(e,t,n,r,a,i,o)=>{var l=nn(o)?t:o,c=bke(n,r,a!==i?a:i,e,l);return a!==i&&c!=null&&(c=c.map(d=>Cg(Cg({},d),{},{position:Cg(Cg({},d.position),{},{offset:d.position.offset-a/2})}))),c},_ke=re([jke,pV,ibe,gV,wke,iW,mke],Nke),Ske=(e,t,n,r)=>vl(e,"xAxis",t,r),Cke=(e,t,n,r)=>vl(e,"yAxis",n,r),kke=(e,t,n,r)=>gl(e,"xAxis",t,r),Ake=(e,t,n,r)=>gl(e,"yAxis",n,r),Pke=re([_ke,Np],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Eke=(e,t)=>{var n=G0(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var a=e[r];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===n)}}}},Tke=re([vke,Np],Eke),Oke=re([Bn,Ek,Ske,Cke,kke,Ake,Pke,ht,W0,iW,Tke,Np,pke],(e,t,n,r,a,i,o,l,c,d,u,h,f)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:v}=c;if(!(h==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||a==null||i==null||d==null)){var{data:j}=h,y;if(j!=null&&j.length>0?y=j:y=p==null?void 0:p.slice(g,v+1),y!=null)return ake({layout:l,barSettings:h,pos:o,parentViewBox:t,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,stackedData:u,displayedData:y,offset:e,cells:f})}}),oW=e=>{var{chartData:t}=e,n=an(),r=ds();return m.useEffect(()=>r?()=>{}:(n($4(t)),()=>{n($4(void 0))}),[t,n,r]),null},yD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Mke=Ms({name:"brush",initialState:yD,reducers:{setBrushSettings(e,t){return t.payload==null?yD:t.payload}}}),Dke=Mke.reducer;function Rke(e,t,n){return(t=Ike(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ike(e){var t=$ke(e,"string");return typeof t=="symbol"?t:t+""}function $ke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class tA{static create(t){return new tA(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}Rke(tA,"EPS",1e-4);function Lke(e){return(e%180+180)%180}var Fke=function(t){var{width:n,height:r}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Lke(a),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},Bke={dots:[],areas:[],lines:[]},zke=Ms({name:"referenceElements",initialState:Bke,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ii(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ii(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ii(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),Uke=zke.reducer,Vke=m.createContext(void 0),Wke=e=>{var{children:t}=e,[n]=m.useState("".concat(pm("recharts"),"-clip")),r=Q2();if(r==null)return null;var{x:a,y:i,width:o,height:l}=r;return m.createElement(Vke.Provider,{value:n},m.createElement("defs",null,m.createElement("clipPath",{id:n},m.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function $u(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function lW(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function qke(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Fke(r,n)}function Hke(e,t,n){var r=n==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:r?a:i,end:r?a+o:i+l}:{start:r?a+o:i+l,end:r?a:i}}function Lx(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function Kke(e,t){return lW(e,t+1)}function Gke(e,t,n,r,a){for(var i=(r||[]).slice(),{start:o,end:l}=t,c=0,d=1,u=o,h=function(){var g=r==null?void 0:r[c];if(g===void 0)return{v:lW(r,d)};var v=c,j,y=()=>(j===void 0&&(j=n(g,v)),j),x=g.coordinate,w=c===0||Lx(e,x,y,u,l);w||(c=0,u=o,d+=1),w&&(u=x+e*(y()/2+a),c+=d)},f;d<=i.length;)if(f=h(),f)return f.v;return[]}function jD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(n),!0).forEach(function(r){Yke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yke(e,t,n){return(t=Xke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xke(e){var t=Zke(e,"string");return typeof t=="symbol"?t:t+""}function Zke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qke(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,d=function(f){var p=i[f],g,v=()=>(g===void 0&&(g=n(p,f)),g);if(f===o-1){var j=e*(p.coordinate+e*v()/2-c);i[f]=p=xr(xr({},p),{},{tickCoord:j>0?p.coordinate-j*e:p.coordinate})}else i[f]=p=xr(xr({},p),{},{tickCoord:p.coordinate});var y=Lx(e,p.tickCoord,v,l,c);y&&(c=p.tickCoord-e*(v()/2+a),i[f]=xr(xr({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function Jke(e,t,n,r,a,i){var o=(r||[]).slice(),l=o.length,{start:c,end:d}=t;if(i){var u=r[l-1],h=n(u,l-1),f=e*(u.coordinate+e*h/2-d);o[l-1]=u=xr(xr({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate});var p=Lx(e,u.tickCoord,()=>h,c,d);p&&(d=u.tickCoord-e*(h/2+a),o[l-1]=xr(xr({},u),{},{isShow:!0}))}for(var g=i?l-1:l,v=function(x){var w=o[x],b,S=()=>(b===void 0&&(b=n(w,x)),b);if(x===0){var _=e*(w.coordinate-e*S()/2-c);o[x]=w=xr(xr({},w),{},{tickCoord:_<0?w.coordinate-_*e:w.coordinate})}else o[x]=w=xr(xr({},w),{},{tickCoord:w.coordinate});var N=Lx(e,w.tickCoord,S,c,d);N&&(c=w.tickCoord+e*(S()/2+a),o[x]=xr(xr({},w),{},{isShow:!0}))},j=0;j<g;j++)v(j);return o}function nA(e,t,n){var{tick:r,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:h}=e;if(!a||!a.length||!r)return[];if(Be(c)||Ol.isSsr){var f;return(f=Kke(a,Be(c)?c:0))!==null&&f!==void 0?f:[]}var p=[],g=l==="top"||l==="bottom"?"width":"height",v=u&&g==="width"?_f(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},j=(w,b)=>{var S=typeof d=="function"?d(w.value,b):w.value;return g==="width"?qke(_f(S,{fontSize:t,letterSpacing:n}),v,h):_f(S,{fontSize:t,letterSpacing:n})[g]},y=a.length>=2?Hn(a[1].coordinate-a[0].coordinate):1,x=Hke(i,y,g);return c==="equidistantPreserveStart"?Gke(y,x,j,a,o):(c==="preserveStart"||c==="preserveStartEnd"?p=Jke(y,x,j,a,o,c==="preserveStartEnd"):p=Qke(y,x,j,a,o),p.filter(w=>w.isShow))}var e2e=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(u=>{if(u){var h=u.getBoundingClientRect();h.width>o&&(o=h.width)}});var l=n?n.getBoundingClientRect().width:0,c=a+i,d=o+c+l+(n?r:0);return Math.round(d)}return 0},t2e=["axisLine","width","height","className","hide","ticks"],n2e=["viewBox"],r2e=["viewBox"];function JN(e,t){if(e==null)return{};var n,r,a=s2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fc.apply(null,arguments)}function wD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wD(Object(n),!0).forEach(function(r){a2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a2e(e,t,n){return(t=i2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i2e(e){var t=o2e(e,"string");return typeof t=="symbol"?t:t+""}function o2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rA={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function l2e(e){var{x:t,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var d=Rn(Rn(Rn({},c),vn(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!o||i==="bottom"&&o);d=Rn(Rn({},d),{},{x1:t,y1:n+u*a,x2:t+r,y2:n+u*a})}else{var h=+(i==="left"&&!o||i==="right"&&o);d=Rn(Rn({},d),{},{x1:t+h*r,y1:n,x2:t+h*r,y2:n+a})}return m.createElement("line",Fc({},d,{className:mt("recharts-cartesian-axis-line",Rc(l,"className"))}))}function c2e(e,t,n,r,a,i,o,l,c){var d,u,h,f,p,g,v=l?-1:1,j=e.tickSize||o,y=Be(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=u=e.coordinate,f=n+ +!l*a,h=f-v*j,g=h-v*c,p=y;break;case"left":h=f=e.coordinate,u=t+ +!l*r,d=u-v*j,p=d-v*c,g=y;break;case"right":h=f=e.coordinate,u=t+ +l*r,d=u+v*j,p=d+v*c,g=y;break;default:d=u=e.coordinate,f=n+ +l*a,h=f+v*j,g=h+v*c,p=y;break}return{line:{x1:d,y1:h,x2:u,y2:f},tick:{x:p,y:g}}}function d2e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function u2e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function h2e(e){var{option:t,tickProps:n,value:r}=e,a,i=mt(n.className,"recharts-cartesian-axis-tick-value");if(m.isValidElement(t))a=m.cloneElement(t,Rn(Rn({},n),{},{className:i}));else if(typeof t=="function")a=t(Rn(Rn({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=mt(o,t==null?void 0:t.className)),a=m.createElement(nj,Fc({},n,{className:o}),r)}return a}function f2e(e){var{ticks:t=[],tick:n,tickLine:r,stroke:a,tickFormatter:i,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:u,x:h,y:f,width:p,height:g,tickSize:v,tickMargin:j,fontSize:y,letterSpacing:x,getTicksConfig:w,events:b}=e,S=nA(Rn(Rn({},w),{},{ticks:t}),y,x),_=d2e(d,u),N=u2e(d,u),C=Ba(w),k=vn(n,!1),A=Rn(Rn({},C),{},{fill:"none"},vn(r,!1)),O=S.map((M,z)=>{var{line:P,tick:E}=c2e(M,h,f,p,g,d,v,u,j),U=Rn(Rn(Rn(Rn({textAnchor:_,verticalAnchor:N},C),{},{stroke:"none",fill:a},k),E),{},{index:z,payload:M,visibleTicksCount:S.length,tickFormatter:i,padding:l},c);return m.createElement(On,Fc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},ap(b,M,z)),r&&m.createElement("line",Fc({},A,P,{className:mt("recharts-cartesian-axis-tick-line",Rc(r,"className"))})),n&&m.createElement(h2e,{option:n,tickProps:U,value:"".concat(typeof i=="function"?i(M.value,z):M.value).concat(o||"")}))});return O.length>0?m.createElement("g",{className:"recharts-cartesian-axis-ticks"},O):null}var m2e=m.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:i,hide:o,ticks:l}=e,c=JN(e,t2e),[d,u]=m.useState(""),[h,f]=m.useState(""),p=m.useRef([]);m.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return e2e({ticks:p.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=m.useCallback(v=>{if(v){var j=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=Array.from(j);var y=j[0];if(y){var x=window.getComputedStyle(y),w=x.fontSize,b=x.letterSpacing;(w!==d||b!==h)&&(u(w),f(b))}}},[d,h]);return o||r!=null&&r<=0||a!=null&&a<=0?null:m.createElement(On,{className:mt("recharts-cartesian-axis",i),ref:g},m.createElement(l2e,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ba(e)}),m.createElement(f2e,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:d,letterSpacing:h,getTicksConfig:e,events:c}),m.createElement(w_e,{x:e.x,y:e.y,width:e.width,height:e.height},m.createElement(T_e,{label:e.label}),e.children))}),p2e=m.memo(m2e,(e,t)=>{var{viewBox:n}=e,r=JN(e,n2e),{viewBox:a}=t,i=JN(t,r2e);return $u(n,a)&&$u(r,i)}),sA=m.forwardRef((e,t)=>{var n=hr(e,rA);return m.createElement(p2e,Fc({},n,{ref:t}))});sA.displayName="CartesianAxis";var g2e=["x1","y1","x2","y2","key"],v2e=["offset"],x2e=["xAxisId","yAxisId"],y2e=["xAxisId","yAxisId"];function bD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bD(Object(n),!0).forEach(function(r){j2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j2e(e,t,n){return(t=w2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w2e(e){var t=b2e(e,"string");return typeof t=="symbol"?t:t+""}function b2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ac.apply(null,arguments)}function Fx(e,t){if(e==null)return{};var n,r,a=N2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function N2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _2e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:i,height:o,ry:l}=e;return m.createElement("rect",{x:r,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function cW(e,t){var n;if(m.isValidElement(e))n=m.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:a,x2:i,y2:o,key:l}=t,c=Fx(t,g2e),d=Ba(c),u=Fx(d,v2e);n=m.createElement("line",ac({},u,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function S2e(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var i=Fx(e,x2e),o=a.map((l,c)=>{var d=jr(jr({},i),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return cW(r,d)});return m.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function C2e(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var i=Fx(e,y2e),o=a.map((l,c)=>{var d=jr(jr({},i),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return cW(r,d)});return m.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function k2e(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=l.map(h=>Math.round(h+a-a)).sort((h,f)=>h-f);a!==d[0]&&d.unshift(0);var u=d.map((h,f)=>{var p=!d[f+1],g=p?a+o-h:d[f+1]-h;if(g<=0)return null;var v=f%t.length;return m.createElement("rect",{key:"react-".concat(f),y:h,x:r,height:g,width:i,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function A2e(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var d=c.map(h=>Math.round(h+a-a)).sort((h,f)=>h-f);a!==d[0]&&d.unshift(0);var u=d.map((h,f)=>{var p=!d[f+1],g=p?a+o-h:d[f+1]-h;if(g<=0)return null;var v=f%n.length;return m.createElement("rect",{key:"react-".concat(f),x:h,y:i,width:g,height:l,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var P2e=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return Qz(nA(jr(jr(jr({},rA),n),{},{ticks:Jz(n),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},E2e=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return Qz(nA(jr(jr(jr({},rA),n),{},{ticks:Jz(n),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},T2e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Bx(e){var t=Ok(),n=Mk(),r=sU(),a=jr(jr({},hr(e,T2e)),{},{x:Be(e.x)?e.x:r.left,y:Be(e.y)?e.y:r.top,width:Be(e.width)?e.width:r.width,height:Be(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:d,height:u,syncWithTicks:h,horizontalValues:f,verticalValues:p}=a,g=ds(),v=ze(k=>P4(k,"xAxis",i,g)),j=ze(k=>P4(k,"yAxis",o,g));if(!Be(d)||d<=0||!Be(u)||u<=0||!Be(l)||l!==+l||!Be(c)||c!==+c)return null;var y=a.verticalCoordinatesGenerator||P2e,x=a.horizontalCoordinatesGenerator||E2e,{horizontalPoints:w,verticalPoints:b}=a;if((!w||!w.length)&&typeof x=="function"){var S=f&&f.length,_=x({yAxis:j?jr(jr({},j),{},{ticks:S?f:j.ticks}):void 0,width:t,height:n,offset:r},S?!0:h);Nf(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(w=_)}if((!b||!b.length)&&typeof y=="function"){var N=p&&p.length,C=y({xAxis:v?jr(jr({},v),{},{ticks:N?p:v.ticks}):void 0,width:t,height:n,offset:r},N?!0:h);Nf(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(b=C)}return m.createElement("g",{className:"recharts-cartesian-grid"},m.createElement(_2e,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),m.createElement(k2e,ac({},a,{horizontalPoints:w})),m.createElement(A2e,ac({},a,{verticalPoints:b})),m.createElement(S2e,ac({},a,{offset:r,horizontalPoints:w,xAxis:v,yAxis:j})),m.createElement(C2e,ac({},a,{offset:r,verticalPoints:b,xAxis:v,yAxis:j})))}Bx.displayName="CartesianGrid";var dW=(e,t,n,r)=>vl(e,"xAxis",t,r),uW=(e,t,n,r)=>gl(e,"xAxis",t,r),hW=(e,t,n,r)=>vl(e,"yAxis",n,r),fW=(e,t,n,r)=>gl(e,"yAxis",n,r),O2e=re([ht,dW,hW,uW,fW],(e,t,n,r,a)=>lo(e,"xAxis")?xm(t,r,!1):xm(n,a,!1)),M2e=(e,t,n,r,a)=>a,mW=re([X0,M2e],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),D2e=(e,t,n,r,a)=>{var i,o=mW(e,t,n,r,a);if(o!=null){var l=ht(e),c=lo(l,"xAxis"),d;if(c?d=Sm(e,"yAxis",n,r):d=Sm(e,"xAxis",t,r),d!=null){var{stackId:u}=o,h=G0(o);if(!(u==null||h==null)){var f=(i=d[u])===null||i===void 0?void 0:i.stackedData;return f==null?void 0:f.find(p=>p.key===h)}}}},R2e=re([ht,dW,hW,uW,fW,D2e,W0,O2e,mW],(e,t,n,r,a,i,o,l,c)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:h}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||a==null||r.length===0||a.length===0||l==null)){var{data:f}=c,p;if(f&&f.length>0?p=f:p=d==null?void 0:d.slice(u,h+1),p!=null){var g=void 0;return nAe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataStartIndex:u,areaSettings:c,stackedData:i,displayedData:p,chartBaseValue:g,bandSize:l})}}}),I2e=["id"],$2e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function pW(e,t){if(e==null)return{};var n,r,a=L2e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function L2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ND(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(n),!0).forEach(function(r){F2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F2e(e,t,n){return(t=B2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B2e(e){var t=z2e(e,"string");return typeof t=="symbol"?t:t+""}function z2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Li.apply(null,arguments)}function zx(e,t){return e&&e!=="none"?e:t}var U2e=e=>{var{dataKey:t,name:n,stroke:r,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:zx(r,a),value:ih(n,t),payload:e}]};function V2e(e){var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:ih(o,t),hide:l,type:e.tooltipType,color:zx(r,i),unit:c}}}var W2e=(e,t)=>{var n;if(m.isValidElement(e))n=m.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=mt("recharts-area-dot",typeof e!="boolean"?e.className:"");n=m.createElement(H7,Li({},t,{className:r}))}return n};function q2e(e,t){return e==null?!1:t?!0:e.length===1}function H2e(e){var{clipPathId:t,points:n,props:r}=e,{needClip:a,dot:i,dataKey:o}=r;if(!q2e(n,i))return null;var l=D9(i),c=Ba(r),d=vn(i,!0),u=n.map((f,p)=>{var g=Mi(Mi(Mi({key:"dot-".concat(p),r:3},c),d),{},{index:p,cx:f.x,cy:f.y,dataKey:o,value:f.value,payload:f.payload,points:n});return W2e(i,g)}),h={clipPath:a?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return m.createElement(On,Li({className:"recharts-area-dots"},h),u)}function K2e(e){var{showLabels:t,children:n,points:r}=e,a=r.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return Mi(Mi({},o),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return m.createElement(W7,{value:t?a:null},n)}function _D(e){var{points:t,baseLine:n,needClip:r,clipPathId:a,props:i}=e,{layout:o,type:l,stroke:c,connectNulls:d,isRange:u}=i,{id:h}=i,f=pW(i,I2e),p=Ba(f);return m.createElement(m.Fragment,null,(t==null?void 0:t.length)>1&&m.createElement(On,{clipPath:r?"url(#clipPath-".concat(a,")"):void 0},m.createElement(bf,Li({},p,{id:h,points:t,connectNulls:d,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&m.createElement(bf,Li({},p,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:t})),c!=="none"&&u&&m.createElement(bf,Li({},p,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:n}))),m.createElement(H2e,{points:t,props:f,clipPathId:a}))}function G2e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:a}=e,i=r[0].y,o=r[r.length-1].y;if(!cr(i)||!cr(o))return null;var l=t*Math.abs(i-o),c=Math.max(...r.map(d=>d.x||0));return Be(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(d=>d.x||0),c)),Be(c)?m.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(l)}):null}function Y2e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:a}=e,i=r[0].x,o=r[r.length-1].x;if(!cr(i)||!cr(o))return null;var l=t*Math.abs(i-o),c=Math.max(...r.map(d=>d.y||0));return Be(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(d=>d.y||0),c)),Be(c)?m.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function X2e(e){var{alpha:t,layout:n,points:r,baseLine:a,strokeWidth:i}=e;return n==="vertical"?m.createElement(G2e,{alpha:t,points:r,baseLine:a,strokeWidth:i}):m.createElement(Y2e,{alpha:t,points:r,baseLine:a,strokeWidth:i})}function Z2e(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:h,onAnimationStart:f,onAnimationEnd:p}=r,g=dp(r,"recharts-area-"),[v,j]=m.useState(!1),y=!v,x=m.useCallback(()=>{typeof p=="function"&&p(),j(!1)},[p]),w=m.useCallback(()=>{typeof f=="function"&&f(),j(!0)},[f]),b=a.current,S=i.current;return m.createElement(K2e,{showLabels:y,points:o},r.children,m.createElement(cp,{animationId:g,begin:d,duration:u,isActive:c,easing:h,onAnimationEnd:x,onAnimationStart:w,key:g},_=>{if(b){var N=b.length/o.length,C=_===1?o:o.map((A,O)=>{var M=Math.floor(O*N);if(b[M]){var z=b[M];return Mi(Mi({},A),{},{x:Qt(z.x,A.x,_),y:Qt(z.y,A.y,_)})}return A}),k;return Be(l)?k=Qt(S,l,_):nn(l)||cs(l)?k=Qt(S,0,_):k=l.map((A,O)=>{var M=Math.floor(O*N);if(Array.isArray(S)&&S[M]){var z=S[M];return Mi(Mi({},A),{},{x:Qt(z.x,A.x,_),y:Qt(z.y,A.y,_)})}return A}),_>0&&(a.current=C,i.current=k),m.createElement(_D,{points:C,baseLine:k,needClip:t,clipPathId:n,props:r})}return _>0&&(a.current=o,i.current=l),m.createElement(On,null,c&&m.createElement("defs",null,m.createElement("clipPath",{id:"animationClipPath-".concat(n)},m.createElement(X2e,{alpha:_,points:o,baseLine:l,layout:r.layout,strokeWidth:r.strokeWidth}))),m.createElement(On,{clipPath:"url(#animationClipPath-".concat(n,")")},m.createElement(_D,{points:o,baseLine:l,needClip:t,clipPathId:n,props:r})))}),m.createElement(z2,{label:r.label}))}function Q2e(e){var{needClip:t,clipPathId:n,props:r}=e,a=m.useRef(null),i=m.useRef();return m.createElement(Z2e,{needClip:t,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:i})}class J2e extends m.PureComponent{render(){var t,{hide:n,dot:r,points:a,className:i,top:o,left:l,needClip:c,xAxisId:d,yAxisId:u,width:h,height:f,id:p,baseLine:g}=this.props;if(n)return null;var v=mt("recharts-area",i),j=p,{r:y=3,strokeWidth:x=2}=(t=vn(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},w=D9(r),b=y*2+x;return m.createElement(m.Fragment,null,m.createElement(On,{className:v},c&&m.createElement("defs",null,m.createElement(sW,{clipPathId:j,xAxisId:d,yAxisId:u}),!w&&m.createElement("clipPath",{id:"clipPath-dots-".concat(j)},m.createElement("rect",{x:l-b/2,y:o-b/2,width:h+b,height:f+b}))),m.createElement(Q2e,{needClip:c,clipPathId:j,props:this.props})),m.createElement(mD,{points:a,mainColor:zx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(g)&&m.createElement(mD,{points:g,mainColor:zx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var gW={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Ol.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function eAe(e){var t,n=hr(e,gW),{activeDot:r,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:d,fillOpacity:u,hide:h,isAnimationActive:f,legendType:p,stroke:g,xAxisId:v,yAxisId:j}=n,y=pW(n,$2e),x=$0(),w=y7(),{needClip:b}=eA(v,j),S=ds(),{points:_,isRange:N,baseLine:C}=(t=ze(P=>R2e(P,v,j,S,e.id)))!==null&&t!==void 0?t:{},k=Q2();if(x!=="horizontal"&&x!=="vertical"||k==null||w!=="AreaChart"&&w!=="ComposedChart")return null;var{height:A,width:O,x:M,y:z}=k;return!_||!_.length?null:m.createElement(J2e,Li({},y,{activeDot:r,animationBegin:a,animationDuration:i,animationEasing:o,baseLine:C,connectNulls:l,dot:c,fill:d,fillOpacity:u,height:A,hide:h,layout:x,isAnimationActive:f,isRange:N,legendType:p,needClip:b,points:_,stroke:g,width:O,left:M,top:z,xAxisId:v,yAxisId:j}))}var tAe=(e,t,n,r,a)=>{var i=n??t;if(Be(i))return i;var o=e==="horizontal"?a:r,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return i==="dataMin"?d:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function nAe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:a,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:d,dataStartIndex:u,xAxisTicks:h,yAxisTicks:f,bandSize:p}=e,g=a&&a.length,v=tAe(i,o,n,l,c),j=i==="horizontal",y=!1,x=d.map((b,S)=>{var _;g?_=a[u+S]:(_=Lt(b,r),Array.isArray(_)?y=!0:_=[v,_]);var N=_[1]==null||g&&!t&&Lt(b,r)==null;return j?{x:mM({axis:l,ticks:h,bandSize:p,entry:b,index:S}),y:N?null:c.scale(_[1]),value:_,payload:b}:{x:N?null:l.scale(_[1]),y:mM({axis:c,ticks:f,bandSize:p,entry:b,index:S}),value:_,payload:b}}),w;return g||y?w=x.map(b=>{var S=Array.isArray(b.value)?b.value[0]:null;return j?{x:b.x,y:S!=null&&b.y!=null?c.scale(S):null,payload:b.payload}:{x:S!=null?l.scale(S):null,y:b.y,payload:b.payload}}):w=j?c.scale(v):l.scale(v),{points:x,baseLine:w,isRange:y}}function rAe(e){var t=hr(e,gW),n=ds();return m.createElement(X2,{id:t.id,type:"area"},r=>m.createElement(m.Fragment,null,m.createElement(J7,{legendPayload:U2e(t)}),m.createElement(Y2,{fn:V2e,args:t}),m.createElement(tW,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:eU(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),m.createElement(eAe,Li({},t,{id:r}))))}var e_=m.memo(rAe);e_.displayName="Area";var sAe=["dangerouslySetInnerHTML","ticks"],aAe=["id"],iAe=["domain"],oAe=["domain"];function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t_.apply(null,arguments)}function Ux(e,t){if(e==null)return{};var n,r,a=lAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function lAe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function cAe(e){var t=an();return m.useEffect(()=>(t(iCe(e)),()=>{t(oCe(e))}),[e,t]),null}var dAe=e=>{var{xAxisId:t,className:n}=e,r=ze(Ek),a=ds(),i="xAxis",o=ze(p=>fh(p,i,t,a)),l=ze(p=>QV(p,i,t,a)),c=ze(p=>GV(p,t)),d=ze(p=>Qbe(p,t)),u=ze(p=>SV(p,t));if(c==null||d==null||u==null)return null;var h=Ux(e,sAe),f=Ux(u,aAe);return m.createElement(sA,t_({},h,f,{scale:o,x:d.x,y:d.y,width:c.width,height:c.height,className:mt("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:l}))},uAe={allowDataOverflow:fs.allowDataOverflow,allowDecimals:fs.allowDecimals,allowDuplicatedCategory:fs.allowDuplicatedCategory,height:fs.height,hide:!1,mirror:fs.mirror,orientation:fs.orientation,padding:fs.padding,reversed:fs.reversed,scale:fs.scale,tickCount:fs.tickCount,type:fs.type,xAxisId:0},hAe=e=>{var t,n,r,a,i,o=hr(e,uAe);return m.createElement(m.Fragment,null,m.createElement(cAe,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),m.createElement(dAe,o))},fAe=(e,t)=>{var{domain:n}=e,r=Ux(e,iAe),{domain:a}=t,i=Ux(t,oAe);return $u(r,i)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:$u({domain:n},{domain:a}):!1},Vx=m.memo(hAe,fAe);Vx.displayName="XAxis";var mAe=["dangerouslySetInnerHTML","ticks"],pAe=["id"],gAe=["domain"],vAe=["domain"];function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n_.apply(null,arguments)}function Wx(e,t){if(e==null)return{};var n,r,a=xAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xAe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yAe(e){var t=an();return m.useEffect(()=>(t(lCe(e)),()=>{t(cCe(e))}),[e,t]),null}var jAe=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,i=m.useRef(null),o=m.useRef(null),l=ze(Ek),c=ds(),d=an(),u="yAxis",h=ze(x=>fh(x,u,t,c)),f=ze(x=>YV(x,t)),p=ze(x=>e1e(x,t)),g=ze(x=>QV(x,u,t,c)),v=ze(x=>CV(x,t));if(m.useLayoutEffect(()=>{if(!(r!=="auto"||!f||B2(a)||m.isValidElement(a)||v==null)){var x=i.current;if(x){var w=x.getCalculatedWidth();Math.round(f.width)!==Math.round(w)&&d(dCe({id:t,width:w}))}}},[g,f,d,a,t,r,v]),f==null||p==null||v==null)return null;var j=Wx(e,mAe),y=Wx(v,pAe);return m.createElement(sA,n_({},j,y,{ref:i,labelRef:o,scale:h,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:mt("recharts-".concat(u," ").concat(u),n),viewBox:l,ticks:g}))},wAe={allowDataOverflow:ms.allowDataOverflow,allowDecimals:ms.allowDecimals,allowDuplicatedCategory:ms.allowDuplicatedCategory,hide:!1,mirror:ms.mirror,orientation:ms.orientation,padding:ms.padding,reversed:ms.reversed,scale:ms.scale,tickCount:ms.tickCount,type:ms.type,width:ms.width,yAxisId:0},bAe=e=>{var t,n,r,a,i,o=hr(e,wAe);return m.createElement(m.Fragment,null,m.createElement(yAe,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),m.createElement(jAe,o))},NAe=(e,t)=>{var{domain:n}=e,r=Wx(e,gAe),{domain:a}=t,i=Wx(t,vAe);return $u(r,i)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:$u({domain:n},{domain:a}):!1},qx=m.memo(bAe,NAe);qx.displayName="YAxis";var _Ae={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p=m;function SAe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var CAe=typeof Object.is=="function"?Object.is:SAe,kAe=_p.useSyncExternalStore,AAe=_p.useRef,PAe=_p.useEffect,EAe=_p.useMemo,TAe=_p.useDebugValue;_Ae.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=AAe(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=EAe(function(){function c(p){if(!d){if(d=!0,u=p,p=r(p),a!==void 0&&o.hasValue){var g=o.value;if(a(g,p))return h=g}return h=p}if(g=h,CAe(u,p))return g;var v=r(p);return a!==void 0&&a(g,v)?(u=p,g):(u=p,h=v)}var d=!1,u,h,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,r,a]);var l=kAe(e,i[0],i[1]);return PAe(function(){o.hasValue=!0,o.value=l},[l]),TAe(l),l};function OAe(e){e()}function MAe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){OAe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var SD={notify(){},get:()=>[]};function DAe(e,t){let n,r=SD,a=0,i=!1;function o(v){u();const j=r.subscribe(v);let y=!1;return()=>{y||(y=!0,j(),h())}}function l(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function d(){return i}function u(){a++,n||(n=e.subscribe(c),r=MAe())}function h(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=SD)}function f(){i||(i=!0,u())}function p(){i&&(i=!1,h())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return g}var RAe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IAe=RAe(),$Ae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",LAe=$Ae(),FAe=()=>IAe||LAe?m.useLayoutEffect:m.useEffect,BAe=FAe(),nb=Symbol.for("react-redux-context"),rb=typeof globalThis<"u"?globalThis:{};function zAe(){if(!m.createContext)return{};const e=rb[nb]??(rb[nb]=new Map);let t=e.get(m.createContext);return t||(t=m.createContext(null),e.set(m.createContext,t)),t}var UAe=zAe();function VAe(e){const{children:t,context:n,serverState:r,store:a}=e,i=m.useMemo(()=>{const c=DAe(a);return{store:a,subscription:c,getServerState:r?()=>r:void 0}},[a,r]),o=m.useMemo(()=>a.getState(),[a]);BAe(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=n||UAe;return m.createElement(l.Provider,{value:i},t)}var WAe=VAe,qAe=(e,t)=>t,aA=re([qAe,ht,bV,Un,f7,po,sNe,Bn],cNe),iA=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},vW=na("mouseClick"),xW=op();xW.startListening({actionCreator:vW,effect:(e,t)=>{var n=e.payload,r=aA(t.getState(),iA(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(f1e({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var r_=na("mouseMove"),yW=op();yW.startListening({actionCreator:r_,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=E2(r,r.tooltip.settings.shared),i=aA(r,iA(n));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(i7({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(a7()))}});var CD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},jW=Ms({name:"rootProps",initialState:CD,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:CD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),HAe=jW.reducer,{updateOptions:KAe}=jW.actions,wW=Ms({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:GAe}=wW.actions,YAe=wW.reducer,bW=na("keyDown"),NW=na("focus"),oA=op();oA.startListening({actionCreator:bW,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(T2(a,ph(n))),l=po(n);if(i==="Enter"){var c=Ox(n,"axis","hover",String(a.index));t.dispatch(KN({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var d=s1e(n),u=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,f=o+h*u;if(!(l==null||f>=l.length||f<0)){var p=Ox(n,"axis","hover",String(f));t.dispatch(KN({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});oA.startListening({actionCreator:NW,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",o=Ox(n,"axis","hover",String(i));t.dispatch(KN({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Fs=na("externalEvent"),_W=op();_W.startListening({actionCreator:Fs,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:Y1e(n),activeDataKey:v7(n),activeIndex:xl(n),activeLabel:g7(n),activeTooltipIndex:xl(n),isTooltipActive:X1e(n)};e.payload.handler(r,e.payload.reactEvent)}}});var XAe=re([mh],e=>e.tooltipItemPayloads),ZAe=re([XAe,jp,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(l=>l.settings.dataKey===r);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,n);return o}}}),SW=na("touchMove"),CW=op();CW.startListening({actionCreator:SW,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=E2(r,r.tooltip.settings.shared);if(a==="axis"){var i=aA(r,iA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(i7({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,l=n.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(nU),u=(o=c.getAttribute(rU))!==null&&o!==void 0?o:void 0,h=ZAe(t.getState(),d,u);t.dispatch(s7({activeDataKey:u,activeIndex:d,activeCoordinate:h}))}}});var QAe=kz({brush:Dke,cartesianAxis:uCe,chartData:_Ne,errorBars:TCe,graphicalItems:ESe,layout:dxe,legend:Jxe,options:yNe,polarAxis:Y_e,polarOptions:YAe,referenceElements:Uke,rootProps:HAe,tooltip:m1e}),JAe=function(t){return Rve({reducer:QAe,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([xW.middleware,yW.middleware,oA.middleware,_W.middleware,CW.middleware]),devTools:Ol.devToolsEnabled})};function kW(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=ds(),i=m.useRef(null);if(a)return n;i.current==null&&(i.current=JAe(t));var o=bk;return m.createElement(WAe,{context:o,store:i.current},n)}function AW(e){var{layout:t,width:n,height:r,margin:a}=e,i=an(),o=ds();return m.useEffect(()=>{o||(i(oxe(t)),i(lxe({width:n,height:r})),i(ixe(a)))},[i,o,t,n,r,a]),null}function PW(e){var t=an();return m.useEffect(()=>{t(KAe(e))},[t,e]),null}var ePe=["children"];function tPe(e,t){if(e==null)return{};var n,r,a=nPe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function nPe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hx.apply(null,arguments)}var rPe={width:"100%",height:"100%"},sPe=m.forwardRef((e,t)=>{var n=Ok(),r=Mk(),a=lU();if(!Ou(n)||!Ou(r))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,d,u;return typeof o.tabIndex=="number"?d=o.tabIndex:d=a?0:void 0,typeof o.role=="string"?u=o.role:u=a?"application":void 0,m.createElement(ik,Hx({},o,{title:l,desc:c,role:u,tabIndex:d,width:n,height:r,style:rPe,ref:t}),i)}),aPe=e=>{var{children:t}=e,n=ze(I0);if(!n)return null;var{width:r,height:a,y:i,x:o}=n;return m.createElement(ik,{width:r,height:a,x:o,y:i},t)},kD=m.forwardRef((e,t)=>{var{children:n}=e,r=tPe(e,ePe),a=ds();return a?m.createElement(aPe,null,n):m.createElement(sPe,Hx({ref:t},r),n)});function iPe(){var e=an(),[t,n]=m.useState(null),r=ze(Lxe);return m.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;cr(i)&&i!==r&&e(cxe(i))}},[t,e,r]),n}function AD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oPe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(n),!0).forEach(function(r){lPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lPe(e,t,n){return(t=cPe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cPe(e){var t=dPe(e,"string");return typeof t=="symbol"?t:t+""}function dPe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uPe=m.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:g,onTouchStart:v,style:j,width:y}=e,x=an(),[w,b]=m.useState(null),[S,_]=m.useState(null);MNe();var N=iPe(),C=m.useCallback(W=>{N(W),typeof t=="function"&&t(W),b(W),_(W)},[N,t,b,_]),k=m.useCallback(W=>{x(vW(W)),x(Fs({handler:i,reactEvent:W}))},[x,i]),A=m.useCallback(W=>{x(r_(W)),x(Fs({handler:d,reactEvent:W}))},[x,d]),O=m.useCallback(W=>{x(a7()),x(Fs({handler:u,reactEvent:W}))},[x,u]),M=m.useCallback(W=>{x(r_(W)),x(Fs({handler:h,reactEvent:W}))},[x,h]),z=m.useCallback(()=>{x(NW())},[x]),P=m.useCallback(W=>{x(bW(W.key))},[x]),E=m.useCallback(W=>{x(Fs({handler:o,reactEvent:W}))},[x,o]),U=m.useCallback(W=>{x(Fs({handler:l,reactEvent:W}))},[x,l]),R=m.useCallback(W=>{x(Fs({handler:c,reactEvent:W}))},[x,c]),B=m.useCallback(W=>{x(Fs({handler:f,reactEvent:W}))},[x,f]),L=m.useCallback(W=>{x(Fs({handler:v,reactEvent:W}))},[x,v]),Q=m.useCallback(W=>{x(SW(W)),x(Fs({handler:g,reactEvent:W}))},[x,g]),se=m.useCallback(W=>{x(Fs({handler:p,reactEvent:W}))},[x,p]);return m.createElement(_7.Provider,{value:w},m.createElement(R9.Provider,{value:S},m.createElement("div",{className:mt("recharts-wrapper",r),style:oPe({position:"relative",cursor:"default",width:y,height:a},j),onClick:k,onContextMenu:E,onDoubleClick:U,onFocus:z,onKeyDown:P,onMouseDown:R,onMouseEnter:A,onMouseLeave:O,onMouseMove:M,onMouseUp:B,onTouchEnd:se,onTouchMove:Q,onTouchStart:L,ref:C},n)))}),hPe=["children","className","width","height","style","compact","title","desc"];function fPe(e,t){if(e==null)return{};var n,r,a=mPe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mPe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var EW=m.forwardRef((e,t)=>{var{children:n,className:r,width:a,height:i,style:o,compact:l,title:c,desc:d}=e,u=fPe(e,hPe),h=Ba(u);return l?m.createElement(kD,{otherAttributes:h,title:c,desc:d},n):m.createElement(uPe,{className:r,style:o,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},m.createElement(kD,{otherAttributes:h,title:c,desc:d,ref:t},m.createElement(Wke,null,n)))}),pPe=["width","height"];function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s_.apply(null,arguments)}function gPe(e,t){if(e==null)return{};var n,r,a=vPe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function vPe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xPe={top:5,right:5,bottom:5,left:5},yPe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:xPe,reverseStackOrder:!1,syncMethod:"index"},TW=m.forwardRef(function(t,n){var r,a=hr(t.categoricalChartProps,yPe),{width:i,height:o}=a,l=gPe(a,pPe);if(!Ou(i)||!Ou(o))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,categoricalChartProps:f}=t,p={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,eventEmitter:void 0};return m.createElement(kW,{preloadedState:{options:p},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:c},m.createElement(oW,{chartData:f.data}),m.createElement(AW,{width:i,height:o,layout:a.layout,margin:a.margin}),m.createElement(PW,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),m.createElement(EW,s_({},l,{width:i,height:o,ref:n})))}),jPe=["axis","item"],OW=m.forwardRef((e,t)=>m.createElement(TW,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:jPe,tooltipPayloadSearcher:F2,categoricalChartProps:e,ref:t}));function wPe(e){var t=an();return m.useEffect(()=>{t(GAe(e))},[t,e]),null}var bPe=["width","height","layout"];function a_(){return a_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a_.apply(null,arguments)}function NPe(e,t){if(e==null)return{};var n,r,a=_Pe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _Pe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var SPe={top:5,right:5,bottom:5,left:5},CPe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:SPe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},kPe=m.forwardRef(function(t,n){var r,a=hr(t.categoricalChartProps,CPe),{width:i,height:o,layout:l}=a,c=NPe(a,bPe);if(!Ou(i)||!Ou(o))return null;var{chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:f}=t,p={chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,eventEmitter:void 0};return m.createElement(kW,{preloadedState:{options:p},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:d},m.createElement(oW,{chartData:a.data}),m.createElement(AW,{width:i,height:o,layout:l,margin:a.margin}),m.createElement(PW,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),m.createElement(wPe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),m.createElement(EW,a_({width:i,height:o},c,{ref:n})))}),APe=["item"],PPe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},EPe=m.forwardRef((e,t)=>{var n=hr(e,PPe);return m.createElement(kPe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:APe,tooltipPayloadSearcher:F2,categoricalChartProps:n,ref:t})}),TPe=["axis"],OPe=m.forwardRef((e,t)=>m.createElement(TW,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:TPe,tooltipPayloadSearcher:F2,categoricalChartProps:e,ref:t})),PD=1,MPe=.9,DPe=.8,RPe=.17,sb=.1,ab=.999,IPe=.9999,$Pe=.99,LPe=/[\\\/_+.#"@\[\(\{&]/,FPe=/[\\\/_+.#"@\[\(\{&]/g,BPe=/[\s-]/,MW=/[\s-]/g;function i_(e,t,n,r,a,i,o){if(i===t.length)return a===e.length?PD:$Pe;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=r.charAt(i),d=n.indexOf(c,a),u=0,h,f,p,g;d>=0;)h=i_(e,t,n,r,d+1,i+1,o),h>u&&(d===a?h*=PD:LPe.test(e.charAt(d-1))?(h*=DPe,p=e.slice(a,d-1).match(FPe),p&&a>0&&(h*=Math.pow(ab,p.length))):BPe.test(e.charAt(d-1))?(h*=MPe,g=e.slice(a,d-1).match(MW),g&&a>0&&(h*=Math.pow(ab,g.length))):(h*=RPe,a>0&&(h*=Math.pow(ab,d-a))),e.charAt(d)!==t.charAt(i)&&(h*=IPe)),(h<sb&&n.charAt(d-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(d-1)!==r.charAt(i))&&(f=i_(e,t,n,r,d+1,i+2,o),f*sb>h&&(h=f*sb)),h>u&&(u=h),d=n.indexOf(c,d+1);return o[l]=u,u}function ED(e){return e.toLowerCase().replace(MW," ")}function zPe(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,i_(e,t,ED(e),ED(t),0,0,{})}var Uh='[cmdk-group=""]',ib='[cmdk-group-items=""]',UPe='[cmdk-group-heading=""]',DW='[cmdk-item=""]',TD=`${DW}:not([aria-disabled="true"])`,o_="cmdk-item-select",fd="data-value",VPe=(e,t,n)=>zPe(e,t,n),RW=m.createContext(void 0),Sp=()=>m.useContext(RW),IW=m.createContext(void 0),lA=()=>m.useContext(IW),$W=m.createContext(void 0),LW=m.forwardRef((e,t)=>{let n=md(()=>{var W,ie;return{search:"",value:(ie=(W=e.value)!=null?W:e.defaultValue)!=null?ie:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=md(()=>new Set),a=md(()=>new Map),i=md(()=>new Map),o=md(()=>new Set),l=FW(e),{label:c,children:d,value:u,onValueChange:h,filter:f,shouldFilter:p,loop:g,disablePointerSelection:v=!1,vimBindings:j=!0,...y}=e,x=ir(),w=ir(),b=ir(),S=m.useRef(null),_=eEe();Bc(()=>{if(u!==void 0){let W=u.trim();n.current.value=W,N.emit()}},[u]),Bc(()=>{_(6,z)},[]);let N=m.useMemo(()=>({subscribe:W=>(o.current.add(W),()=>o.current.delete(W)),snapshot:()=>n.current,setState:(W,ie,ue)=>{var oe,Se,I,Z;if(!Object.is(n.current[W],ie)){if(n.current[W]=ie,W==="search")M(),A(),_(1,O);else if(W==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let J=document.getElementById(b);J?J.focus():(oe=document.getElementById(x))==null||oe.focus()}if(_(7,()=>{var J;n.current.selectedItemId=(J=P())==null?void 0:J.id,N.emit()}),ue||_(5,z),((Se=l.current)==null?void 0:Se.value)!==void 0){let J=ie??"";(Z=(I=l.current).onValueChange)==null||Z.call(I,J);return}}N.emit()}},emit:()=>{o.current.forEach(W=>W())}}),[]),C=m.useMemo(()=>({value:(W,ie,ue)=>{var oe;ie!==((oe=i.current.get(W))==null?void 0:oe.value)&&(i.current.set(W,{value:ie,keywords:ue}),n.current.filtered.items.set(W,k(ie,ue)),_(2,()=>{A(),N.emit()}))},item:(W,ie)=>(r.current.add(W),ie&&(a.current.has(ie)?a.current.get(ie).add(W):a.current.set(ie,new Set([W]))),_(3,()=>{M(),A(),n.current.value||O(),N.emit()}),()=>{i.current.delete(W),r.current.delete(W),n.current.filtered.items.delete(W);let ue=P();_(4,()=>{M(),(ue==null?void 0:ue.getAttribute("id"))===W&&O(),N.emit()})}),group:W=>(a.current.has(W)||a.current.set(W,new Set),()=>{i.current.delete(W),a.current.delete(W)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:x,inputId:b,labelId:w,listInnerRef:S}),[]);function k(W,ie){var ue,oe;let Se=(oe=(ue=l.current)==null?void 0:ue.filter)!=null?oe:VPe;return W?Se(W,n.current.search,ie):0}function A(){if(!n.current.search||l.current.shouldFilter===!1)return;let W=n.current.filtered.items,ie=[];n.current.filtered.groups.forEach(oe=>{let Se=a.current.get(oe),I=0;Se.forEach(Z=>{let J=W.get(Z);I=Math.max(J,I)}),ie.push([oe,I])});let ue=S.current;E().sort((oe,Se)=>{var I,Z;let J=oe.getAttribute("id"),X=Se.getAttribute("id");return((I=W.get(X))!=null?I:0)-((Z=W.get(J))!=null?Z:0)}).forEach(oe=>{let Se=oe.closest(ib);Se?Se.appendChild(oe.parentElement===Se?oe:oe.closest(`${ib} > *`)):ue.appendChild(oe.parentElement===ue?oe:oe.closest(`${ib} > *`))}),ie.sort((oe,Se)=>Se[1]-oe[1]).forEach(oe=>{var Se;let I=(Se=S.current)==null?void 0:Se.querySelector(`${Uh}[${fd}="${encodeURIComponent(oe[0])}"]`);I==null||I.parentElement.appendChild(I)})}function O(){let W=E().find(ue=>ue.getAttribute("aria-disabled")!=="true"),ie=W==null?void 0:W.getAttribute(fd);N.setState("value",ie||void 0)}function M(){var W,ie,ue,oe;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let Se=0;for(let I of r.current){let Z=(ie=(W=i.current.get(I))==null?void 0:W.value)!=null?ie:"",J=(oe=(ue=i.current.get(I))==null?void 0:ue.keywords)!=null?oe:[],X=k(Z,J);n.current.filtered.items.set(I,X),X>0&&Se++}for(let[I,Z]of a.current)for(let J of Z)if(n.current.filtered.items.get(J)>0){n.current.filtered.groups.add(I);break}n.current.filtered.count=Se}function z(){var W,ie,ue;let oe=P();oe&&(((W=oe.parentElement)==null?void 0:W.firstChild)===oe&&((ue=(ie=oe.closest(Uh))==null?void 0:ie.querySelector(UPe))==null||ue.scrollIntoView({block:"nearest"})),oe.scrollIntoView({block:"nearest"}))}function P(){var W;return(W=S.current)==null?void 0:W.querySelector(`${DW}[aria-selected="true"]`)}function E(){var W;return Array.from(((W=S.current)==null?void 0:W.querySelectorAll(TD))||[])}function U(W){let ie=E()[W];ie&&N.setState("value",ie.getAttribute(fd))}function R(W){var ie;let ue=P(),oe=E(),Se=oe.findIndex(Z=>Z===ue),I=oe[Se+W];(ie=l.current)!=null&&ie.loop&&(I=Se+W<0?oe[oe.length-1]:Se+W===oe.length?oe[0]:oe[Se+W]),I&&N.setState("value",I.getAttribute(fd))}function B(W){let ie=P(),ue=ie==null?void 0:ie.closest(Uh),oe;for(;ue&&!oe;)ue=W>0?QPe(ue,Uh):JPe(ue,Uh),oe=ue==null?void 0:ue.querySelector(TD);oe?N.setState("value",oe.getAttribute(fd)):R(W)}let L=()=>U(E().length-1),Q=W=>{W.preventDefault(),W.metaKey?L():W.altKey?B(1):R(1)},se=W=>{W.preventDefault(),W.metaKey?U(0):W.altKey?B(-1):R(-1)};return m.createElement(Ce.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:W=>{var ie;(ie=y.onKeyDown)==null||ie.call(y,W);let ue=W.nativeEvent.isComposing||W.keyCode===229;if(!(W.defaultPrevented||ue))switch(W.key){case"n":case"j":{j&&W.ctrlKey&&Q(W);break}case"ArrowDown":{Q(W);break}case"p":case"k":{j&&W.ctrlKey&&se(W);break}case"ArrowUp":{se(W);break}case"Home":{W.preventDefault(),U(0);break}case"End":{W.preventDefault(),L();break}case"Enter":{W.preventDefault();let oe=P();if(oe){let Se=new Event(o_);oe.dispatchEvent(Se)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:nEe},c),rj(e,W=>m.createElement(IW.Provider,{value:N},m.createElement(RW.Provider,{value:C},W))))}),WPe=m.forwardRef((e,t)=>{var n,r;let a=ir(),i=m.useRef(null),o=m.useContext($W),l=Sp(),c=FW(e),d=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;Bc(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=BW(a,i,[e.value,e.children,i],e.keywords),h=lA(),f=wl(_=>_.value&&_.value===u.current),p=wl(_=>d||l.filter()===!1?!0:_.search?_.filtered.items.get(a)>0:!0);m.useEffect(()=>{let _=i.current;if(!(!_||e.disabled))return _.addEventListener(o_,g),()=>_.removeEventListener(o_,g)},[p,e.onSelect,e.disabled]);function g(){var _,N;v(),(N=(_=c.current).onSelect)==null||N.call(_,u.current)}function v(){h.setState("value",u.current,!0)}if(!p)return null;let{disabled:j,value:y,onSelect:x,forceMount:w,keywords:b,...S}=e;return m.createElement(Ce.div,{ref:qi(i,t),...S,id:a,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!f,"data-disabled":!!j,"data-selected":!!f,onPointerMove:j||l.getDisablePointerSelection()?void 0:v,onClick:j?void 0:g},e.children)}),qPe=m.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:a,...i}=e,o=ir(),l=m.useRef(null),c=m.useRef(null),d=ir(),u=Sp(),h=wl(p=>a||u.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);Bc(()=>u.group(o),[]),BW(o,l,[e.value,e.heading,c]);let f=m.useMemo(()=>({id:o,forceMount:a}),[a]);return m.createElement(Ce.div,{ref:qi(l,t),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},n&&m.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),rj(e,p=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},m.createElement($W.Provider,{value:f},p))))}),HPe=m.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,a=m.useRef(null),i=wl(o=>!o.search);return!n&&!i?null:m.createElement(Ce.div,{ref:qi(a,t),...r,"cmdk-separator":"",role:"separator"})}),KPe=m.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,a=e.value!=null,i=lA(),o=wl(d=>d.search),l=wl(d=>d.selectedItemId),c=Sp();return m.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),m.createElement(Ce.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:d=>{a||i.setState("search",d.target.value),n==null||n(d.target.value)}})}),GPe=m.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...a}=e,i=m.useRef(null),o=m.useRef(null),l=wl(d=>d.selectedItemId),c=Sp();return m.useEffect(()=>{if(o.current&&i.current){let d=o.current,u=i.current,h,f=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let p=d.offsetHeight;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return f.observe(d),()=>{cancelAnimationFrame(h),f.unobserve(d)}}},[]),m.createElement(Ce.div,{ref:qi(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":r,id:c.listId},rj(e,d=>m.createElement("div",{ref:qi(o,c.listInnerRef),"cmdk-list-sizer":""},d)))}),YPe=m.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:a,contentClassName:i,container:o,...l}=e;return m.createElement(e0,{open:n,onOpenChange:r},m.createElement(t0,{container:o},m.createElement(sh,{"cmdk-overlay":"",className:a}),m.createElement(ah,{"aria-label":e.label,"cmdk-dialog":"",className:i},m.createElement(LW,{ref:t,...l}))))}),XPe=m.forwardRef((e,t)=>wl(n=>n.filtered.count===0)?m.createElement(Ce.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),ZPe=m.forwardRef((e,t)=>{let{progress:n,children:r,label:a="Loading...",...i}=e;return m.createElement(Ce.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},rj(e,o=>m.createElement("div",{"aria-hidden":!0},o)))}),us=Object.assign(LW,{List:GPe,Item:WPe,Input:KPe,Group:qPe,Separator:HPe,Dialog:YPe,Empty:XPe,Loading:ZPe});function QPe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function JPe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function FW(e){let t=m.useRef(e);return Bc(()=>{t.current=e}),t}var Bc=typeof window>"u"?m.useEffect:m.useLayoutEffect;function md(e){let t=m.useRef();return t.current===void 0&&(t.current=e()),t}function wl(e){let t=lA(),n=()=>e(t.snapshot());return m.useSyncExternalStore(t.subscribe,n,n)}function BW(e,t,n,r=[]){let a=m.useRef(),i=Sp();return Bc(()=>{var o;let l=(()=>{var d;for(let u of n){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=r.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(fd,l),a.current=l}),a}var eEe=()=>{let[e,t]=m.useState(),n=md(()=>new Map);return Bc(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,a)=>{n.current.set(r,a),t({})}};function tEe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function rj({asChild:e,children:t},n){return e&&m.isValidElement(t)?m.cloneElement(tEe(t),{ref:t.ref},n(t.props.children)):n(t)}var nEe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const cA=m.forwardRef(({className:e,...t},n)=>s.jsx(us,{ref:n,className:me("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));cA.displayName=us.displayName;const dA=m.forwardRef(({className:e,...t},n)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(At,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(us.Input,{ref:n,className:me("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));dA.displayName=us.Input.displayName;const rEe=m.forwardRef(({className:e,...t},n)=>s.jsx(us.List,{ref:n,className:me("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));rEe.displayName=us.List.displayName;const uA=m.forwardRef((e,t)=>s.jsx(us.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));uA.displayName=us.Empty.displayName;const hA=m.forwardRef(({className:e,...t},n)=>s.jsx(us.Group,{ref:n,className:me("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));hA.displayName=us.Group.displayName;const sEe=m.forwardRef(({className:e,...t},n)=>s.jsx(us.Separator,{ref:n,className:me("-mx-1 h-px bg-border",e),...t}));sEe.displayName=us.Separator.displayName;const fA=m.forwardRef(({className:e,...t},n)=>s.jsx(us.Item,{ref:n,className:me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));fA.displayName=us.Item.displayName;function aEe({onTransactionAdded:e}){const[t,n]=m.useState(!1),[r,a]=m.useState(!1),[i,o]=m.useState(!1),[l,c]=m.useState([]),[d,u]=m.useState([]),[h,f]=m.useState(null),[p,g]=m.useState(!1),[v,j]=m.useState(""),{profile:y}=ot(),{language:x}=Te(),{toast:w}=ro(),[b,S]=m.useState({type:"income",category:"",amount:"",description:"",description_ar:"",payment_method:"cash",reference_number:"",transaction_date:new Date});m.useEffect(()=>{t&&_()},[t]);const _=async()=>{try{const{data:M,error:z}=await V.from("profiles").select("id, full_name, phone, email").order("full_name");if(z)throw z;const{data:P,error:E}=await V.from("students").select("profile_id, nfc_id");if(!E&&P){const U=(M==null?void 0:M.map(R=>{const B=P.find(L=>L.profile_id===R.id);return{...R,nfc_id:(B==null?void 0:B.nfc_id)||void 0}}))||[];u(U)}else u(M||[])}catch(M){console.error("Error fetching profiles:",M)}},N=async M=>{if(!M.target.files||M.target.files.length===0)return;const z=Array.from(M.target.files);o(!0);try{const P=z.map(async U=>{const R=U.name.split(".").pop(),B=`${Math.random()}.${R}`,L=`transactions/${new Date().getFullYear()}/${B}`,{error:Q,data:se}=await V.storage.from("transaction-documents").upload(L,U);if(Q)throw Q;const{data:{publicUrl:W}}=V.storage.from("transaction-documents").getPublicUrl(L);return{name:U.name,url:W,type:U.type,size:U.size}}),E=await Promise.all(P);c([...l,...E]),w({title:x==="ar"?"":"Success",description:x==="ar"?"   ":"Files uploaded successfully"})}catch(P){console.error("Error uploading files:",P),w({title:x==="ar"?"":"Error",description:x==="ar"?"  ":"Failed to upload files",variant:"destructive"})}finally{o(!1)}},C=M=>{c(l.filter((z,P)=>P!==M))},k=d.filter(M=>{var P,E,U,R;const z=v.toLowerCase();return((P=M.full_name)==null?void 0:P.toLowerCase().includes(z))||((E=M.phone)==null?void 0:E.toLowerCase().includes(z))||((U=M.email)==null?void 0:U.toLowerCase().includes(z))||((R=M.nfc_id)==null?void 0:R.toLowerCase().includes(z))}),A=async M=>{if(M.preventDefault(),!b.category||!b.amount){w({title:x==="ar"?"":"Error",description:x==="ar"?"    ":"Please fill all required fields",variant:"destructive"});return}a(!0);try{if(h&&b.type==="expense"){const{data:P,error:E}=await V.from("wallet_balances").select("balance").eq("user_id",h.id).single();if(E&&E.code!=="PGRST116")throw E;const U=(P==null?void 0:P.balance)||0,R=parseFloat(b.amount);if(U<R){w({title:x==="ar"?"  ":"Insufficient Balance",description:x==="ar"?` : ${U}  `:`Available balance: ${U} OMR`,variant:"destructive"}),a(!1);return}const{error:B}=await V.from("wallet_balances").upsert({user_id:h.id,balance:U-R});if(B)throw B;await V.from("wallet_transactions").insert({user_id:h.id,type:"withdrawal",amount:R,balance_after:U-R,description:b.description||`${b.category} transaction`,description_ar:b.description_ar||` ${b.category}`})}const{error:z}=await V.from("financial_transactions").insert([{type:b.type,category:b.category,amount:parseFloat(b.amount),description:b.description||null,description_ar:b.description_ar||null,payment_method:b.payment_method,reference_number:b.reference_number||null,transaction_date:De(b.transaction_date,"yyyy-MM-dd"),user_id:(h==null?void 0:h.id)||(y==null?void 0:y.id),status:"completed",documents:l.length>0?JSON.parse(JSON.stringify(l)):[]}]);if(z)throw z;w({title:x==="ar"?"":"Success",description:x==="ar"?"   ":"Transaction added successfully"}),S({type:"income",category:"",amount:"",description:"",description_ar:"",payment_method:"cash",reference_number:"",transaction_date:new Date}),c([]),f(null),j(""),n(!1),e==null||e()}catch(z){console.error("Error adding transaction:",z),w({title:x==="ar"?"":"Error",description:x==="ar"?"   ":"Failed to add transaction",variant:"destructive"})}finally{a(!1)}},O=M=>{if(M===0)return"0 Bytes";const z=1024,P=["Bytes","KB","MB","GB"],E=Math.floor(Math.log(M)/Math.log(z));return Math.round(M/Math.pow(z,E)*100)/100+" "+P[E]};return s.jsxs(qe,{open:t,onOpenChange:n,children:[s.jsx(um,{asChild:!0,children:s.jsxs($,{className:"gap-2",children:[s.jsx(pn,{className:"h-4 w-4"}),x==="ar"?" ":"Add Transaction"]})}),s.jsxs(Ve,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",dir:x==="ar"?"rtl":"ltr",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:x==="ar"?"  ":"Add New Transaction"})}),s.jsxs("form",{onSubmit:A,className:"space-y-4",children:[s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg border border-border",children:[s.jsx(T,{className:"text-muted-foreground",children:x==="ar"?" ":"Transaction Number"}),s.jsxs("div",{className:"mt-1 font-mono text-lg font-semibold text-foreground",dir:"ltr",style:{direction:"ltr",textAlign:"left"},children:[String(Math.floor(Math.random()*9e3)+1e3).padStart(4,"0"),"-",String(new Date().getMonth()+1).padStart(2,"0"),"-",new Date().getFullYear()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:x==="ar"?"     ":"Will be auto-generated upon saving"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(T,{htmlFor:"type",children:[x==="ar"?"":"Type"," *"]}),s.jsxs(Pe,{value:b.type,onValueChange:M=>S({...b,type:M}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"income",children:x==="ar"?"":"Income"}),s.jsx(K,{value:"expense",children:x==="ar"?"":"Expense"})]})]})]}),s.jsxs("div",{children:[s.jsxs(T,{htmlFor:"category",children:[x==="ar"?"":"Category"," *"]}),s.jsxs(Pe,{value:b.category,onValueChange:M=>S({...b,category:M}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:x==="ar"?" ":"Select category"})}),s.jsx(Ae,{children:b.type==="income"?s.jsxs(s.Fragment,{children:[s.jsx(K,{value:"tuition_fees",children:x==="ar"?" ":"Tuition Fees"}),s.jsx(K,{value:"registration_fees",children:x==="ar"?" ":"Registration Fees"}),s.jsx(K,{value:"transportation_fees",children:x==="ar"?" ":"Transportation Fees"}),s.jsx(K,{value:"activity_fees",children:x==="ar"?" ":"Activity Fees"}),s.jsx(K,{value:"canteen_sales",children:x==="ar"?" ":"Canteen Sales"}),s.jsx(K,{value:"donations",children:x==="ar"?"":"Donations"}),s.jsx(K,{value:"other_income",children:x==="ar"?" ":"Other Income"})]}):s.jsxs(s.Fragment,{children:[s.jsx(K,{value:"salaries",children:x==="ar"?"":"Salaries"}),s.jsx(K,{value:"utilities",children:x==="ar"?"":"Utilities"}),s.jsx(K,{value:"supplies",children:x==="ar"?"":"Supplies"}),s.jsx(K,{value:"maintenance",children:x==="ar"?"":"Maintenance"}),s.jsx(K,{value:"equipment",children:x==="ar"?"":"Equipment"}),s.jsx(K,{value:"transportation",children:x==="ar"?"":"Transportation"}),s.jsx(K,{value:"marketing",children:x==="ar"?"":"Marketing"}),s.jsx(K,{value:"other_expense",children:x==="ar"?" ":"Other Expense"})]})})]})]})]}),s.jsxs("div",{children:[s.jsxs(T,{children:[x==="ar"?"  ":"Link to Profile",s.jsx("span",{className:"text-muted-foreground text-xs ml-2",children:x==="ar"?"()":"(Optional)"})]}),s.jsxs(Mc,{open:p,onOpenChange:g,children:[s.jsx(Dc,{asChild:!0,children:s.jsxs($,{variant:"outline",role:"combobox","aria-expanded":p,className:"w-full justify-between",children:[h?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(as,{className:"h-4 w-4"}),s.jsx("span",{children:h.full_name}),h.phone&&s.jsxs("span",{className:"text-muted-foreground text-xs",children:["(",h.phone,")"]})]}):s.jsx("span",{className:"text-muted-foreground",children:x==="ar"?"     NFC":"Search by name, phone or NFC"}),s.jsx(At,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(pl,{className:"w-[400px] p-0",align:"start",children:s.jsxs(cA,{children:[s.jsx(dA,{placeholder:x==="ar"?"   ...":"Search profile...",value:v,onValueChange:j}),s.jsx(uA,{children:x==="ar"?"  ":"No profiles found"}),s.jsx(hA,{className:"max-h-[300px] overflow-y-auto",children:k.slice(0,50).map(M=>s.jsx(fA,{value:`${M.full_name} ${M.phone||""} ${M.email||""} ${M.nfc_id||""}`,onSelect:()=>{f(M),g(!1),j("")},children:s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(as,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:M.full_name})]}),s.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[M.phone&&s.jsxs("span",{children:[" ",M.phone]}),M.email&&s.jsxs("span",{children:[" ",M.email]}),M.nfc_id&&s.jsxs("span",{children:[" ",M.nfc_id]})]})]})},M.id))})]})})]}),h&&s.jsxs($,{type:"button",variant:"ghost",size:"sm",className:"mt-2",onClick:()=>f(null),children:[s.jsx(Xn,{className:"h-4 w-4 mr-1"}),x==="ar"?" ":"Remove Link"]}),h&&b.type==="expense"&&s.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:x==="ar"?`     ${h.full_name}`:`Amount will be deducted from ${h.full_name}'s wallet`})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(T,{htmlFor:"amount",children:[x==="ar"?" (.)":"Amount (OMR)"," *"]}),s.jsx(F,{id:"amount",type:"number",step:"0.01",value:b.amount,onChange:M=>S({...b,amount:M.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"payment_method",children:x==="ar"?" ":"Payment Method"}),s.jsxs(Pe,{value:b.payment_method,onValueChange:M=>S({...b,payment_method:M}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"cash",children:x==="ar"?"":"Cash"}),s.jsx(K,{value:"bank_transfer",children:x==="ar"?" ":"Bank Transfer"}),s.jsx(K,{value:"credit_card",children:x==="ar"?" ":"Credit Card"}),s.jsx(K,{value:"debit_card",children:x==="ar"?" ":"Debit Card"}),s.jsx(K,{value:"cheque",children:x==="ar"?"":"Cheque"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"transaction_date",children:x==="ar"?"":"Date"}),s.jsxs(Mc,{children:[s.jsx(Dc,{asChild:!0,children:s.jsxs($,{variant:"outline",className:me("w-full justify-start text-left font-normal",!b.transaction_date&&"text-muted-foreground"),children:[s.jsx(ft,{className:"mr-2 h-4 w-4"}),b.transaction_date?De(b.transaction_date,"dd/MM/yyyy"):s.jsx("span",{children:x==="ar"?" ":"Pick a date"})]})}),s.jsx(pl,{className:"w-auto p-0",align:"start",children:s.jsx(ml,{mode:"single",selected:b.transaction_date,onSelect:M=>M&&S({...b,transaction_date:M}),initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"reference_number",children:x==="ar"?" ":"Reference Number"}),s.jsx(F,{id:"reference_number",value:b.reference_number,onChange:M=>S({...b,reference_number:M.target.value}),placeholder:x==="ar"?"":"Optional"})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"description",children:x==="ar"?"":"Description"}),s.jsx(kr,{id:"description",value:b.description,onChange:M=>S({...b,description:M.target.value}),placeholder:x==="ar"?"  ...":"Enter transaction description...",rows:3})]}),x==="ar"&&s.jsxs("div",{children:[s.jsx(T,{htmlFor:"description_ar",children:" "}),s.jsx(kr,{id:"description_ar",value:b.description_ar,onChange:M=>S({...b,description_ar:M.target.value}),placeholder:"   ...",rows:3,dir:"rtl"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(T,{children:x==="ar"?" ":"Documents & Images"}),s.jsx("div",{className:"border-2 border-dashed border-border rounded-lg p-4",children:s.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[s.jsx(E5,{className:"h-8 w-8 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:x==="ar"?"     ":"Click to upload or drag and drop"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:x==="ar"?"PDF JPG PNG  10MB":"PDF, JPG, PNG up to 10MB"})]}),s.jsx(F,{id:"file-upload",type:"file",multiple:!0,accept:"image/*,.pdf",onChange:N,className:"hidden",disabled:i})]})}),l.length>0&&s.jsx("div",{className:"space-y-2",children:l.map((M,z)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[M.type.startsWith("image/")?s.jsx(Bm,{className:"h-4 w-4 text-blue-500"}):s.jsx(Vt,{className:"h-4 w-4 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium truncate max-w-[200px]",children:M.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:O(M.size)})]})]}),s.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:()=>C(z),children:s.jsx(Xn,{className:"h-4 w-4"})})]},z))})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>n(!1),children:x==="ar"?"":"Cancel"}),s.jsx($,{type:"submit",disabled:r||i,children:r?x==="ar"?" ...":"Adding...":x==="ar"?"":"Add"})]})]})]})]})}function iEe({transaction:e,open:t,onOpenChange:n}){const{language:r}=Te(),a=c=>new Intl.NumberFormat("en-OM",{style:"currency",currency:"OMR"}).format(c),i=c=>{var u;return((u={tuition_fees:{en:"Tuition Fees",ar:" "},registration_fees:{en:"Registration Fees",ar:" "},transportation_fees:{en:"Transportation Fees",ar:" "},activity_fees:{en:"Activity Fees",ar:" "},canteen_sales:{en:"Canteen Sales",ar:" "},donations:{en:"Donations",ar:""},other_income:{en:"Other Income",ar:" "},salaries:{en:"Salaries",ar:""},utilities:{en:"Utilities",ar:""},supplies:{en:"Supplies",ar:""},maintenance:{en:"Maintenance",ar:""},equipment:{en:"Equipment",ar:""},transportation:{en:"Transportation",ar:""},marketing:{en:"Marketing",ar:""},other_expense:{en:"Other Expense",ar:" "}}[c])==null?void 0:u[r])||c},o=c=>{var u;return((u={cash:{en:"Cash",ar:""},bank_transfer:{en:"Bank Transfer",ar:" "},credit_card:{en:"Credit Card",ar:" "},debit_card:{en:"Debit Card",ar:" "},cheque:{en:"Cheque",ar:""}}[c])==null?void 0:u[r])||c},l=c=>{if(c===0)return"0 Bytes";const d=1024,u=["Bytes","KB","MB","GB"],h=Math.floor(Math.log(c)/Math.log(d));return Math.round(c/Math.pow(d,h)*100)/100+" "+u[h]};return s.jsx(qe,{open:t,onOpenChange:n,children:s.jsxs(Ve,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",dir:r==="ar"?"rtl":"ltr",children:[s.jsx(Ke,{children:s.jsxs(Ge,{className:"flex items-center justify-between",children:[s.jsx("span",{children:r==="ar"?" ":"Transaction Details"}),s.jsx(ce,{variant:e.type==="income"?"default":"destructive",children:e.type==="income"?r==="ar"?"":"Income":r==="ar"?"":"Expense"})]})}),s.jsxs("div",{className:"space-y-6",children:[e.transaction_number&&s.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 text-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:r==="ar"?" ":"Transaction Number"}),s.jsx("p",{className:"text-lg font-bold font-mono text-primary mt-1",children:e.transaction_number})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:r==="ar"?"":"Amount"}),s.jsx("span",{className:`text-2xl font-bold ${e.type==="income"?"text-green-600":"text-red-600"}`,children:a(e.amount)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(ft,{className:"h-4 w-4"}),s.jsx("span",{children:r==="ar"?"":"Date"})]}),s.jsx("span",{className:"font-medium",children:De(new Date(e.transaction_date),"dd/MM/yyyy")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Fr,{className:"h-4 w-4"}),s.jsx("span",{children:r==="ar"?" ":"Payment Method"})]}),s.jsx("span",{className:"font-medium",children:o(e.payment_method)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx("span",{children:r==="ar"?"":"Category"})]}),s.jsx("span",{className:"font-medium",children:i(e.category)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(CJ,{className:"h-4 w-4"}),s.jsx("span",{children:r==="ar"?" ":"Reference"})]}),s.jsx("span",{className:"font-medium",children:e.reference_number||"-"})]})]})]}),s.jsx(js,{}),(e.description||e.description_ar)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:r==="ar"?"":"Description"}),s.jsx("p",{className:"text-sm",children:r==="ar"?e.description_ar||e.description:e.description||e.description_ar})]}),s.jsx(js,{})]}),e.documents&&e.documents.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:r==="ar"?" ":"Attached Documents"}),s.jsx("div",{className:"space-y-2",children:e.documents.map((c,d)=>{var u,h;return s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[(u=c.type)!=null&&u.startsWith("image/")?s.jsx(Bm,{className:"h-5 w-5 text-blue-500"}):s.jsx(Vt,{className:"h-5 w-5 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium truncate max-w-[300px]",children:c.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:c.size?l(c.size):"Unknown size"})]})]}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>window.open(c.url,"_blank"),children:s.jsx(p5,{className:"h-4 w-4"})})]}),((h=c.type)==null?void 0:h.startsWith("image/"))&&s.jsx("div",{className:"mt-3",children:s.jsx("img",{src:c.url,alt:c.name,className:"w-full h-48 object-cover rounded-lg cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(c.url,"_blank")})})]},d)})})]}),s.jsxs("div",{className:"pt-4 border-t space-y-2 text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:r==="ar"?"":"Status"}),s.jsx(ce,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:e.status})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:r==="ar"?" ":"Created"}),s.jsx("span",{children:De(new Date(e.created_at),"dd/MM/yyyy HH:mm")})]}),e.updated_at!==e.created_at&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:r==="ar"?" ":"Last Updated"}),s.jsx("span",{children:De(new Date(e.updated_at),"dd/MM/yyyy HH:mm")})]})]})]})]})})}function oEe(){const[e,t]=m.useState([]),[n,r]=m.useState(!0),[a,i]=m.useState(""),[o,l]=m.useState("all"),[c,d]=m.useState("all"),[u,h]=m.useState("date"),[f,p]=m.useState("desc"),[g,v]=m.useState(null),[j,y]=m.useState(!1),[x,w]=m.useState(void 0),[b,S]=m.useState(void 0),{language:_}=Te(),{toast:N}=ro();m.useEffect(()=>{C()},[]);const C=async()=>{try{let E=V.from("financial_transactions").select("*").order("transaction_date",{ascending:!1});const{data:U,error:R}=await E;if(R)throw R;const B=(U||[]).map(L=>({...L,documents:Array.isArray(L.documents)?L.documents:L.documents?[L.documents]:[]}));t(B)}catch(E){console.error("Error fetching transactions:",E),N({title:_==="ar"?"":"Error",description:_==="ar"?"   ":"Failed to fetch transactions",variant:"destructive"})}finally{r(!1)}},k=e.filter(E=>{var R,B,L,Q;if(o!=="all"&&E.type!==o||c!=="all"&&E.category!==c)return!1;const U=new Date(E.transaction_date);if(x&&U<x)return!1;if(b){const se=new Date(b);if(se.setHours(23,59,59,999),U>se)return!1}if(a){const se=a.toLowerCase();return!!(E.amount.toString().includes(a)||(R=E.transaction_number)!=null&&R.toLowerCase().includes(se)||[De(U,"yyyy-MM-dd"),De(U,"dd/MM/yyyy"),De(U,"MM/dd/yyyy"),De(U,"yyyy"),De(U,"MMMM yyyy"),De(U,"dd"),De(U,"MM")].some(oe=>oe.toLowerCase().includes(se))||(B=E.description)!=null&&B.toLowerCase().includes(se)||(L=E.description_ar)!=null&&L.toLowerCase().includes(se)||(Q=E.reference_number)!=null&&Q.toLowerCase().includes(se)||O(E.category).toLowerCase().includes(se)||E.payment_method&&M(E.payment_method).toLowerCase().includes(se))}return!0}).sort((E,U)=>{const R=f==="asc"?1:-1;return u==="date"?R*(new Date(E.transaction_date).getTime()-new Date(U.transaction_date).getTime()):R*(E.amount-U.amount)}),A=E=>new Intl.NumberFormat("en-OM",{style:"currency",currency:"OMR"}).format(E),O=E=>{var R;return((R={tuition_fees:{en:"Tuition Fees",ar:" "},registration_fees:{en:"Registration Fees",ar:" "},transportation_fees:{en:"Transportation Fees",ar:" "},activity_fees:{en:"Activity Fees",ar:" "},canteen_sales:{en:"Canteen Sales",ar:" "},donations:{en:"Donations",ar:""},other_income:{en:"Other Income",ar:" "},salaries:{en:"Salaries",ar:""},utilities:{en:"Utilities",ar:""},supplies:{en:"Supplies",ar:""},maintenance:{en:"Maintenance",ar:""},equipment:{en:"Equipment",ar:""},transportation:{en:"Transportation",ar:""},marketing:{en:"Marketing",ar:""},other_expense:{en:"Other Expense",ar:" "}}[E])==null?void 0:R[_])||E},M=E=>{var R;return E==="-"?"-":((R={cash:{en:"Cash",ar:""},bank_transfer:{en:"Bank Transfer",ar:" "},credit_card:{en:"Credit Card",ar:" "},debit_card:{en:"Debit Card",ar:" "},cheque:{en:"Cheque",ar:""}}[E])==null?void 0:R[_])||E},z=E=>{v(E),y(!0)},P=()=>{const E=["Date","Type","Category","Amount","Payment Method","Reference","Description","Status"],U=k.map(se=>[De(new Date(se.transaction_date),"yyyy-MM-dd"),se.type,O(se.category),se.amount,se.payment_method||"",se.reference_number||"",se.description||"",se.status||"completed"]),R=[E.join(","),...U.map(se=>se.map(W=>`"${W}"`).join(","))].join(`
`),B=new Blob([R],{type:"text/csv"}),L=window.URL.createObjectURL(B),Q=document.createElement("a");Q.href=L,Q.download=`transactions_${De(new Date,"yyyy-MM-dd")}.csv`,Q.click(),window.URL.revokeObjectURL(L)};return n?s.jsx(q,{children:s.jsx(G,{className:"p-8",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):s.jsxs(s.Fragment,{children:[s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(ne,{children:_==="ar"?" ":"Financial Transactions"}),s.jsxs($,{onClick:P,variant:"outline",size:"sm",children:[s.jsx(br,{className:"h-4 w-4 mr-2"}),_==="ar"?" CSV":"Export CSV"]})]})}),s.jsxs(G,{children:[s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-sm text-muted-foreground mb-1 block",children:_==="ar"?" ":"From Date"}),s.jsxs(Mc,{children:[s.jsx(Dc,{asChild:!0,children:s.jsxs($,{variant:"outline",className:me("w-full justify-start text-left font-normal",!x&&"text-muted-foreground"),children:[s.jsx(ft,{className:"mr-2 h-4 w-4"}),x?De(x,"dd/MM/yyyy"):s.jsx("span",{children:_==="ar"?" ":"Pick a date"})]})}),s.jsx(pl,{className:"w-auto p-0",align:"start",children:s.jsx(ml,{mode:"single",selected:x,onSelect:w,initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-sm text-muted-foreground mb-1 block",children:_==="ar"?" ":"To Date"}),s.jsxs(Mc,{children:[s.jsx(Dc,{asChild:!0,children:s.jsxs($,{variant:"outline",className:me("w-full justify-start text-left font-normal",!b&&"text-muted-foreground"),children:[s.jsx(ft,{className:"mr-2 h-4 w-4"}),b?De(b,"dd/MM/yyyy"):s.jsx("span",{children:_==="ar"?" ":"Pick a date"})]})}),s.jsx(pl,{className:"w-auto p-0",align:"start",children:s.jsx(ml,{mode:"single",selected:b,onSelect:S,initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]}),s.jsxs($,{onClick:()=>{w(void 0),S(void 0)},variant:"outline",className:"sm:w-auto",children:[s.jsx(Xn,{className:"h-4 w-4 mr-2"}),_==="ar"?" ":"Clear Dates"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(F,{placeholder:_==="ar"?"    ...":"Search by number, amount, or description...",value:a,onChange:E=>i(E.target.value),className:"pl-10"})]})}),s.jsxs($,{onClick:()=>i(""),variant:"outline",size:"sm",className:a?"":"invisible",children:[s.jsx(Xn,{className:"h-4 w-4 mr-2"}),_==="ar"?"":"Clear"]}),s.jsxs(Pe,{value:o,onValueChange:E=>l(E),children:[s.jsx(ke,{className:"w-[150px]",children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"all",children:_==="ar"?" ":"All Types"}),s.jsx(K,{value:"income",children:_==="ar"?"":"Income"}),s.jsx(K,{value:"expense",children:_==="ar"?"":"Expense"})]})]}),s.jsxs(Pe,{value:u,onValueChange:E=>h(E),children:[s.jsx(ke,{className:"w-[150px]",children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"date",children:_==="ar"?"":"Date"}),s.jsx(K,{value:"amount",children:_==="ar"?"":"Amount"})]})]}),s.jsx($,{variant:"outline",size:"icon",onClick:()=>p(f==="asc"?"desc":"asc"),children:s.jsx(hJ,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(is,{children:[s.jsx(os,{children:s.jsxs(Ot,{children:[s.jsx(we,{children:_==="ar"?" ":"Transaction No."}),s.jsx(we,{children:_==="ar"?"":"Date"}),s.jsx(we,{children:_==="ar"?"":"Type"}),s.jsx(we,{children:_==="ar"?"":"Category"}),s.jsx(we,{children:_==="ar"?"":"Amount"}),s.jsx(we,{children:_==="ar"?" ":"Payment Method"}),s.jsx(we,{children:_==="ar"?"":"Reference"}),s.jsx(we,{children:_==="ar"?"":"Documents"}),s.jsx(we,{children:_==="ar"?"":"Status"}),s.jsx(we,{children:_==="ar"?"":"Actions"})]})}),s.jsx(ls,{children:k.map(E=>s.jsxs(Ot,{children:[s.jsx(be,{className:"font-mono text-sm font-semibold text-primary",children:E.transaction_number||"-"}),s.jsx(be,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),De(new Date(E.transaction_date),"dd/MM/yyyy")]})}),s.jsx(be,{children:s.jsx(ce,{variant:E.type==="income"?"default":"destructive",children:E.type==="income"?_==="ar"?"":"Income":_==="ar"?"":"Expense"})}),s.jsx(be,{children:O(E.category)}),s.jsx(be,{children:s.jsx("span",{className:E.type==="income"?"text-green-600":"text-red-600",children:A(E.amount)})}),s.jsx(be,{children:M(E.payment_method||"-")}),s.jsx(be,{children:E.reference_number||"-"}),s.jsx(be,{children:E.documents&&E.documents.length>0?s.jsxs("div",{className:"flex items-center gap-1",children:[E.documents.some(U=>{var R;return(R=U.type)==null?void 0:R.startsWith("image/")})&&s.jsx(Bm,{className:"h-4 w-4 text-blue-500"}),E.documents.some(U=>U.type==="application/pdf")&&s.jsx(Vt,{className:"h-4 w-4 text-red-500"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",E.documents.length,")"]})]}):"-"}),s.jsx(be,{children:s.jsx(ce,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:E.status||"completed"})}),s.jsx(be,{children:s.jsx($,{variant:"ghost",size:"sm",onClick:()=>z(E),children:s.jsx(Pn,{className:"h-4 w-4"})})})]},E.id))})]})}),k.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:_==="ar"?"  ":"No transactions found"})]})]}),g&&s.jsx(iEe,{transaction:g,open:j,onOpenChange:y})]})}const lEe=()=>{const{profile:e}=ot(),{language:t}=Te(),{toast:n}=ro(),r=ur(),[a,i]=m.useState(!0),[o,l]=m.useState([]),[c,d]=m.useState([]),[u,h]=m.useState(0),[f,p]=m.useState(0),[g,v]=m.useState(0),[j,y]=m.useState(0),[x,w]=m.useState(0),[b,S]=m.useState([]),[_,N]=m.useState([]),C=(e==null?void 0:e.role)==="developer"?sessionStorage.getItem("developerViewRole")||"developer":e==null?void 0:e.role;m.useEffect(()=>{k()},[]);const k=async()=>{try{i(!0);const{data:O,error:M}=await V.from("financial_accounts").select("*").order("name");if(M)throw M;l(O||[]);const z=(O==null?void 0:O.filter(Q=>Q.account_type==="revenue").reduce((Q,se)=>Q+Number(se.balance),0))||0,P=(O==null?void 0:O.filter(Q=>Q.account_type==="expense").reduce((Q,se)=>Q+Number(se.balance),0))||0;h(z),p(P),v(z-P);const{data:E,error:U}=await V.from("financial_transactions").select("*").order("transaction_date",{ascending:!1}).limit(10);if(U)throw U;d(E||[]);const R=["Jan","Feb","Mar","Apr","May","Jun"],B=[12e4,135e3,128e3,145e3,155e3,175e3],L=[85e3,92e3,88e3,95e3,98e3,102e3];S(R.map((Q,se)=>({month:Q,revenue:B[se],expenses:L[se],profit:B[se]-L[se]})))}catch(O){console.error("Error fetching financial data:",O),n({title:t==="ar"?"":"Error",description:t==="ar"?"    ":"Failed to load financial data",variant:"destructive"})}finally{i(!1)}},A=O=>new Intl.NumberFormat("en-OM",{style:"currency",currency:"OMR",minimumFractionDigits:0,maximumFractionDigits:0}).format(O);return C!=="admin"&&C!=="parent"&&C!=="finance"&&C!=="developer"?s.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:s.jsx(q,{className:"w-full max-w-md",children:s.jsx(G,{className:"pt-6",children:s.jsx("p",{className:"text-center text-muted-foreground",children:t==="ar"?"     ":"You do not have permission to view this page"})})})}):a?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Pt,{size:"large",text:!0,fullScreen:!1})}):s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:t==="ar"?" ":"Financial System"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:t==="ar"?"   ":"Comprehensive Financial Dashboard"})]}),s.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[s.jsx(aEe,{onTransactionAdded:k}),s.jsxs($,{className:"bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70",variant:"outline",children:[s.jsx(br,{className:"mr-2 h-4 w-4"}),t==="ar"?" ":"Export Report"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(q,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 cursor-pointer hover:shadow-xl transition-all duration-300 hover:scale-105",onClick:()=>r("/dashboard/finance"),children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:t==="ar"?" ":"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:A(u)}),s.jsxs("div",{className:"flex items-center mt-2 text-green-600 dark:text-green-400",children:[s.jsx(bs,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"text-sm",children:"+12.5%"})]})]}),s.jsx("div",{className:"h-12 w-12 rounded-full bg-green-200 dark:bg-green-800 flex items-center justify-center",children:s.jsx($r,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]})})}),s.jsx(q,{className:"border-0 shadow-lg bg-gradient-to-br from-red-50 to-red-100 dark:from-red-950 dark:to-red-900 cursor-pointer hover:shadow-xl transition-all duration-300 hover:scale-105",onClick:()=>r("/dashboard/finance"),children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:t==="ar"?" ":"Total Expenses"}),s.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:A(f)}),s.jsxs("div",{className:"flex items-center mt-2 text-red-600 dark:text-red-400",children:[s.jsx(k5,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"text-sm",children:"-5.2%"})]})]}),s.jsx("div",{className:"h-12 w-12 rounded-full bg-red-200 dark:bg-red-800 flex items-center justify-center",children:s.jsx(Fr,{className:"h-6 w-6 text-red-600 dark:text-red-400"})})]})})}),s.jsx(q,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 cursor-pointer hover:shadow-xl transition-all duration-300 hover:scale-105",onClick:()=>r("/dashboard/finance"),children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:t==="ar"?" ":"Net Income"}),s.jsx("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:A(g)}),s.jsxs("div",{className:"flex items-center mt-2 text-blue-600 dark:text-blue-400",children:[x>=0?s.jsx(BS,{className:"h-4 w-4 mr-1"}):s.jsx(c5,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{className:"text-sm",children:[x>=0?"+":"",x.toFixed(1),"%"]})]})]}),s.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-200 dark:bg-blue-800 flex items-center justify-center",children:s.jsx(bs,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})})}),s.jsx(q,{className:"border-0 shadow-lg bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 cursor-pointer hover:shadow-xl transition-all duration-300 hover:scale-105",onClick:()=>r("/dashboard/reports"),children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:t==="ar"?" ":"Outstanding Fees"}),s.jsx("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:A(j)}),s.jsxs("div",{className:"flex items-center mt-2 text-purple-600 dark:text-purple-400",children:[s.jsx(jt,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"text-sm",children:"42 students"})]})]}),s.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-200 dark:bg-purple-800 flex items-center justify-center",children:s.jsx(ft,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})]})})})]}),s.jsxs(gn,{defaultValue:"transactions",className:"space-y-4 mt-8",children:[s.jsxs(sn,{className:"grid w-full grid-cols-4 max-w-2xl mx-auto lg:mx-0 h-auto p-1 bg-muted",dir:t==="ar"?"rtl":"ltr",children:[s.jsxs(_e,{value:"transactions",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground py-3 flex items-center",children:[s.jsx(Vt,{className:`w-6 h-6 mr-2 ${t==="ar"?"ml-2":""} text-blue-500 [&[data-state=active]]:text-primary-foreground`}),s.jsx("span",{className:"[&[data-state=active]]:text-primary-foreground",children:t==="ar"?"":"Transactions"})]}),s.jsxs(_e,{value:"overview",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground py-3 flex items-center",children:[s.jsx(bs,{className:`w-6 h-6 mr-2 ${t==="ar"?"ml-2":""} text-green-500 [&[data-state=active]]:text-primary-foreground`}),s.jsx("span",{className:"[&[data-state=active]]:text-primary-foreground",children:t==="ar"?" ":"Overview"})]}),s.jsxs(_e,{value:"revenue",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground py-3 flex items-center",children:[s.jsx($r,{className:`w-6 h-6 mr-2 ${t==="ar"?"ml-2":""} text-yellow-500 [&[data-state=active]]:text-primary-foreground`}),s.jsx("span",{className:"[&[data-state=active]]:text-primary-foreground",children:t==="ar"?"":"Revenue"})]}),s.jsxs(_e,{value:"analysis",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground py-3 flex items-center",children:[s.jsx(ft,{className:`w-6 h-6 mr-2 ${t==="ar"?"ml-2":""} text-purple-500 [&[data-state=active]]:text-primary-foreground`}),s.jsx("span",{className:"[&[data-state=active]]:text-primary-foreground",children:t==="ar"?"":"Analysis"})]})]}),s.jsx(Re,{value:"transactions",className:"space-y-4",children:s.jsx(oEe,{})}),s.jsx(Re,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs(q,{className:"border-0 shadow-lg",children:[s.jsx(te,{children:s.jsx(ne,{children:t==="ar"?"  ":"Monthly Financial Performance"})}),s.jsx(G,{className:"p-2 sm:p-4",children:s.jsx("div",{className:"w-full overflow-x-auto",children:s.jsx(ev,{width:"100%",height:300,minWidth:300,children:s.jsxs(OPe,{data:b,margin:{top:10,right:10,left:0,bottom:0},children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"hsl(var(--chart-1))",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"hsl(var(--chart-1))",stopOpacity:0})]}),s.jsxs("linearGradient",{id:"colorExpenses",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"hsl(var(--chart-2))",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"hsl(var(--chart-2))",stopOpacity:0})]})]}),s.jsx(Bx,{strokeDasharray:"3 3",className:"stroke-border"}),s.jsx(Vx,{dataKey:"month",tick:{fontSize:12}}),s.jsx(qx,{tick:{fontSize:12},width:60}),s.jsx(Jg,{}),s.jsx(Gd,{wrapperStyle:{fontSize:"12px"}}),s.jsx(e_,{type:"monotone",dataKey:"revenue",stroke:"hsl(var(--chart-1))",fillOpacity:1,fill:"url(#colorRevenue)"}),s.jsx(e_,{type:"monotone",dataKey:"expenses",stroke:"hsl(var(--chart-2))",fillOpacity:1,fill:"url(#colorExpenses)"})]})})})})]}),s.jsxs(q,{className:"border-0 shadow-lg",children:[s.jsx(te,{children:s.jsx(ne,{children:t==="ar"?" ":"Revenue Distribution"})}),s.jsx(G,{className:"p-2 sm:p-4",children:s.jsx("div",{className:"w-full overflow-x-auto",children:s.jsx(ev,{width:"100%",height:300,minWidth:250,children:s.jsxs(EPe,{margin:{top:10,right:10,left:10,bottom:10},children:[s.jsx(nW,{data:_,cx:"50%",cy:"50%",labelLine:!1,label:!1,outerRadius:"70%",fill:"#8884d8",dataKey:"value",children:_.map((O,M)=>s.jsx(bp,{fill:O.color},`cell-${M}`))}),s.jsx(Jg,{}),s.jsx(Gd,{verticalAlign:"bottom",height:36,formatter:(O,M)=>`${O}: ${(M.payload.value/1e3).toFixed(0)}K`,wrapperStyle:{fontSize:"12px"}})]})})})})]})]})}),s.jsx(Re,{value:"revenue",className:"space-y-4",children:s.jsxs(q,{className:"border-0 shadow-lg",children:[s.jsx(te,{children:s.jsx(ne,{children:t==="ar"?" ":"Revenue Analysis"})}),s.jsx(G,{className:"p-2 sm:p-4",children:s.jsx("div",{className:"w-full overflow-x-auto",children:s.jsx(ev,{width:"100%",height:350,minWidth:400,children:s.jsxs(OW,{data:b,margin:{top:10,right:10,left:0,bottom:0},children:[s.jsx(Bx,{strokeDasharray:"3 3",className:"stroke-border"}),s.jsx(Vx,{dataKey:"month",tick:{fontSize:12}}),s.jsx(qx,{tick:{fontSize:12},width:60}),s.jsx(Jg,{}),s.jsx(Gd,{wrapperStyle:{fontSize:"12px"}}),s.jsx($x,{dataKey:"revenue",name:t==="ar"?"":"Revenue",fill:"hsl(var(--chart-1))",radius:[8,8,0,0]}),s.jsx($x,{dataKey:"profit",name:t==="ar"?"":"Profit",fill:"hsl(var(--chart-3))",radius:[8,8,0,0]})]})})})})]})}),s.jsx(Re,{value:"analysis",className:"space-y-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(O=>s.jsx(q,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:s.jsxs(G,{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:O.account_type.toUpperCase()}),s.jsx("p",{className:"text-lg font-semibold mt-1",children:t==="ar"?O.name_ar:O.name})]}),s.jsx("p",{className:"text-xl font-bold text-primary",children:A(O.balance)})]}),s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Last month"}),s.jsx("span",{className:O.account_type==="revenue"?"text-green-600":"text-red-600",children:O.account_type==="revenue"?"+8.5%":"-3.2%"})]})})]})},O.id))})})]})]})})};function cEe({open:e,onOpenChange:t,onSuccess:n}){const{t:r,language:a}=Te(),[i,o]=m.useState(!1),[l,c]=m.useState([]),[d,u]=m.useState([]),[h,f]=m.useState(""),[p,g]=m.useState(null),[v,j]=m.useState({payment_method_id:"",month:new Date().getMonth()+1,year:new Date().getFullYear(),base_salary:"",bonuses:"0",deductions:"0",notes:""});m.useEffect(()=>{e&&(y(),x())},[e]);const y=async()=>{try{const{data:N,error:C}=await V.from("employees").select(`
          *,
          profile:profiles!employees_profile_id_fkey(*)
        `).eq("employment_status","active");if(C)throw C;c(N||[])}catch(N){console.error("Error fetching employees:",N)}},x=async()=>{try{const{data:N,error:C}=await V.from("payment_methods").select("*").eq("is_active",!0);if(C)throw C;u(N||[])}catch(N){console.error("Error fetching payment methods:",N)}},w=async()=>{if(!h){ae({title:r("Error"),description:a==="en"?"Please select an employee":"  ",variant:"destructive"});return}o(!0);try{const N=or(new Date(v.year,v.month-1)),C=Nu(N),{data:k,error:A}=await V.rpc("calculate_employee_salary",{p_employee_id:h,p_period_start:De(N,"yyyy-MM-dd"),p_period_end:De(C,"yyyy-MM-dd")});if(A)throw A;if(k&&k.length>0){const O=k[0];g(O),j(M=>{var z,P;return{...M,base_salary:O.base_salary.toString(),bonuses:((z=O.bonuses)==null?void 0:z.toString())||"0",deductions:((P=O.deductions)==null?void 0:P.toString())||"0"}})}}catch(N){ae({title:r("Error"),description:N.message,variant:"destructive"})}finally{o(!1)}},b=async()=>{if(!h||!v.payment_method_id){ae({title:r("Error"),description:a==="en"?"Please fill all required fields":"    ",variant:"destructive"});return}o(!0);try{const N=or(new Date(v.year,v.month-1)),C=Nu(N),k=parseFloat(v.base_salary)+parseFloat(v.bonuses)-parseFloat(v.deductions),A=l.find(z=>z.id===h),{data:O}=await V.from("teachers").select("id").eq("profile_id",(A==null?void 0:A.profile_id)||"").maybeSingle(),{error:M}=await V.from("payroll_records").insert({teacher_id:(O==null?void 0:O.id)||null,period_start:De(N,"yyyy-MM-dd"),period_end:De(C,"yyyy-MM-dd"),base_salary:parseFloat(v.base_salary),bonuses:parseFloat(v.bonuses),deductions:parseFloat(v.deductions),net_salary:k,payment_method_id:v.payment_method_id,notes:v.notes||null,payment_status:"pending",working_days:(p==null?void 0:p.working_days)||22,present_days:(p==null?void 0:p.present_days)||22,absent_days:(p==null?void 0:p.absent_days)||0,leave_days:(p==null?void 0:p.leave_days)||0,total_hours:(p==null?void 0:p.total_hours)||176,overtime_hours:(p==null?void 0:p.overtime_hours)||0});if(M)throw M;ae({title:r("Success"),description:a==="en"?"Payroll record created successfully":"    "}),n(),t(!1),S()}catch(N){ae({title:r("Error"),description:N.message,variant:"destructive"})}finally{o(!1)}},S=()=>{f(""),g(null),j({payment_method_id:"",month:new Date().getMonth()+1,year:new Date().getFullYear(),base_salary:"",bonuses:"0",deductions:"0",notes:""})},_=(N,C)=>N==="other"&&C?C:{teacher:a==="en"?"Teacher":"",bus_driver:a==="en"?"Bus Driver":" ",manager:a==="en"?"Manager":"",cleaner:a==="en"?"Cleaner":" ",secretary:a==="en"?"Secretary":"",accountant:a==="en"?"Accountant":"",nurse:a==="en"?"Nurse":"",security:a==="en"?"Security":"",cafeteria_staff:a==="en"?"Cafeteria Staff":" ",maintenance:a==="en"?"Maintenance":""}[N]||N;return s.jsx(qe,{open:e,onOpenChange:t,children:s.jsxs(Ve,{className:"max-w-2xl",children:[s.jsxs(Ke,{children:[s.jsx(Ge,{children:a==="en"?"Add New Payroll":"  "}),s.jsx(es,{children:a==="en"?"Create a new payroll record for an employee":"    "})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:a==="en"?"Select Employee":" "}),s.jsxs(Pe,{value:h,onValueChange:f,children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:a==="en"?"Choose an employee...":" ..."})}),s.jsx(Ae,{children:l.map(N=>{var C,k,A;return s.jsx(K,{value:N.id,children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{children:a==="en"?(C=N.profile)==null?void 0:C.full_name:((k=N.profile)==null?void 0:k.full_name_ar)||((A=N.profile)==null?void 0:A.full_name)}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx(ce,{variant:"outline",className:"text-xs",children:N.employee_id}),s.jsx(ce,{variant:"secondary",className:"text-xs",children:_(N.position,N.custom_position)})]})]})},N.id)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:a==="en"?"Month":""}),s.jsxs(Pe,{value:v.month.toString(),onValueChange:N=>j({...v,month:parseInt(N)}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsx(Ae,{children:Array.from({length:12},(N,C)=>C+1).map(N=>s.jsx(K,{value:N.toString(),children:De(new Date(2024,N-1),"MMMM")},N))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:a==="en"?"Year":""}),s.jsxs(Pe,{value:v.year.toString(),onValueChange:N=>j({...v,year:parseInt(N)}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsx(Ae,{children:[2024,2025,2026].map(N=>s.jsx(K,{value:N.toString(),children:N},N))})]})]})]}),h&&s.jsxs($,{onClick:w,className:"w-full",disabled:i,children:[s.jsx(u5,{className:"h-4 w-4 mr-2"}),a==="en"?"Calculate Salary":" "]}),p&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted rounded-lg",children:[s.jsx("h3",{className:"font-semibold",children:a==="en"?"Salary Calculation":" "}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:a==="en"?"Working Days":" "}),s.jsx("p",{className:"font-medium",children:p.working_days})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:a==="en"?"Present Days":" "}),s.jsx("p",{className:"font-medium",children:p.present_days})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:a==="en"?"Base Salary":" "}),s.jsx(F,{type:"number",value:v.base_salary,onChange:N=>j({...v,base_salary:N.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:a==="en"?"Bonuses":""}),s.jsx(F,{type:"number",value:v.bonuses,onChange:N=>j({...v,bonuses:N.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:a==="en"?"Deductions":""}),s.jsx(F,{type:"number",value:v.deductions,onChange:N=>j({...v,deductions:N.target.value}),placeholder:"0.00"})]})]}),v.base_salary&&s.jsx("div",{className:"p-4 bg-primary/10 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-lg font-semibold",children:a==="en"?"Net Salary":" "}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:[(parseFloat(v.base_salary||"0")+parseFloat(v.bonuses||"0")-parseFloat(v.deductions||"0")).toFixed(2)," OMR"]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:a==="en"?"Payment Method":" "}),s.jsxs(Pe,{value:v.payment_method_id,onValueChange:N=>j({...v,payment_method_id:N}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:a==="en"?"Select payment method...":"  ..."})}),s.jsx(Ae,{children:d.map(N=>s.jsx(K,{value:N.id,children:a==="en"?N.name:N.name_ar||N.name},N.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:a==="en"?"Notes (Optional)":" ()"}),s.jsx(kr,{value:v.notes,onChange:N=>j({...v,notes:N.target.value}),placeholder:a==="en"?"Add any notes...":"  ...",rows:3})]})]}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>t(!1),children:a==="en"?"Cancel":""}),s.jsx($,{onClick:b,disabled:i||!h||!v.payment_method_id||!v.base_salary,children:i?a==="en"?"Creating...":" ...":a==="en"?"Create Payroll":" "})]})]})})}function dEe({onWalletUpdate:e}){var Se,I,Z,J,X,he,D;const{t,language:n}=Te(),[r,a]=m.useState([]),[i,o]=m.useState([]),[l,c]=m.useState([]),[d,u]=m.useState(null),[h,f]=m.useState(!1),[p,g]=m.useState(!1),[v,j]=m.useState(!1),[y,x]=m.useState(!1),[w,b]=m.useState(null),[S,_]=m.useState(!1),[N,C]=m.useState(""),[k,A]=m.useState(""),[O,M]=m.useState(!0),[z,P]=m.useState(0),[E,U]=m.useState({base_salary:"",hourly_rate:"",payment_frequency:"monthly",bank_account:""}),[R,B]=m.useState({month:new Date().getMonth()+1,year:new Date().getFullYear()});m.useEffect(()=>{L()},[]);const L=async()=>{try{const{data:ee}=await V.from("teachers").select(`
          *,
          profile:profiles!teachers_profile_id_fkey(*)
        `),{data:pe}=await V.from("payroll_config").select("*"),{data:Oe}=await V.from("payroll_records").select(`
          *,
          teacher:teachers!payroll_records_teacher_id_fkey(
            *,
            profile:profiles!teachers_profile_id_fkey(*)
          )
        `).order("created_at",{ascending:!1}).limit(20),{data:Y}=await V.from("admin_wallets").select("balance").single();a(ee||[]),o(pe||[]),c(Oe||[]),P((Y==null?void 0:Y.balance)||0)}catch(ee){console.error("Error fetching data:",ee),ae({title:t("Error"),description:t("Failed to load data"),variant:"destructive"})}},Q=async()=>{if(!d||!E.base_salary){ae({title:t("Error"),description:t("Please fill required fields"),variant:"destructive"});return}_(!0);try{const ee=i.find(pe=>pe.teacher_id===d.id);if(ee){const{error:pe}=await V.from("payroll_config").update({base_salary:parseFloat(E.base_salary),hourly_rate:E.hourly_rate?parseFloat(E.hourly_rate):null,payment_frequency:E.payment_frequency,bank_account:E.bank_account||null,updated_at:new Date().toISOString()}).eq("id",ee.id);if(pe)throw pe}else{const{error:pe}=await V.from("payroll_config").insert({teacher_id:d.id,base_salary:parseFloat(E.base_salary),hourly_rate:E.hourly_rate?parseFloat(E.hourly_rate):null,payment_frequency:E.payment_frequency,bank_account:E.bank_account||null});if(pe)throw pe}ae({title:t("Success"),description:t("Payroll configuration saved")}),f(!1),L()}catch(ee){ae({title:t("Error"),description:ee.message,variant:"destructive"})}finally{_(!1)}},se=async()=>{if(d){_(!0);try{const ee=or(new Date(R.year,R.month-1)),pe=Nu(ee),{data:Oe,error:Y}=await V.rpc("calculate_teacher_salary",{p_teacher_id:d.id,p_period_start:De(ee,"yyyy-MM-dd"),p_period_end:De(pe,"yyyy-MM-dd")});if(Y)throw Y;if(Oe&&Oe.length>0){const ye=Oe[0],{error:We}=await V.from("payroll_records").insert({teacher_id:d.id,period_start:De(ee,"yyyy-MM-dd"),period_end:De(pe,"yyyy-MM-dd"),base_salary:ye.base_salary,working_days:ye.working_days,present_days:ye.present_days,absent_days:ye.absent_days,leave_days:ye.leave_days,total_hours:ye.total_hours,overtime_hours:ye.overtime_hours,deductions:ye.deductions,bonuses:ye.bonuses,net_salary:ye.net_salary,payment_status:"pending"});if(We)throw We;ae({title:t("Success"),description:t("Salary calculated successfully")}),j(!1),L()}}catch(ee){ae({title:t("Error"),description:ee.message,variant:"destructive"})}finally{_(!1)}}},W=async()=>{if(w){_(!0);try{const{error:ee}=await V.rpc("process_salary_payment",{p_payroll_record_id:w.id});if(ee)throw ee;ae({title:t("Success"),description:t("Salary payment processed successfully")}),g(!1),L(),e()}catch(ee){ae({title:t("Error"),description:ee.message,variant:"destructive"})}finally{_(!1)}}},ie=r.filter(ee=>{var Y,ye,We,_t;const pe=((ye=(Y=ee.profile)==null?void 0:Y.full_name)==null?void 0:ye.toLowerCase().includes(N.toLowerCase()))||((_t=(We=ee.profile)==null?void 0:We.full_name_ar)==null?void 0:_t.includes(N)),Oe=k?ee.nfc_id===k:!0;return pe&&Oe}),ue=ee=>{u(ee),M(!1)},oe=async()=>{if(!k)return;const ee=r.find(pe=>pe.nfc_id===k);ee?ue(ee):ae({title:n==="en"?"Not Found":" ",description:n==="en"?"No teacher found with this NFC ID":"      ",variant:"destructive"})};return O?s.jsx("div",{className:"space-y-6",children:s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{className:"text-2xl",children:n==="en"?"Select Teacher for Payroll Management":"    "})}),s.jsx(G,{children:s.jsxs(gn,{defaultValue:"search",className:"w-full",dir:n==="ar"?"rtl":"ltr",children:[s.jsxs(sn,{className:`grid w-full grid-cols-2 ${n==="ar"?"flex-row-reverse":""}`,children:[s.jsxs(_e,{value:"search",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),n==="en"?"Search by Name":" "]}),s.jsxs(_e,{value:"nfc",children:[s.jsx(Fr,{className:"h-4 w-4 mr-2"}),n==="en"?"NFC Card":" NFC"]})]}),s.jsxs(Re,{value:"search",className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{placeholder:n==="en"?"Search teacher by name...":"   ...",value:N,onChange:ee=>C(ee.target.value),className:"flex-1"}),s.jsx($,{variant:"outline",size:"icon",children:s.jsx(At,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ie.map(ee=>{var Oe,Y,ye;const pe=i.find(We=>We.teacher_id===ee.id);return s.jsx(q,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>ue(ee),children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:n==="en"?(Oe=ee.profile)==null?void 0:Oe.full_name:((Y=ee.profile)==null?void 0:Y.full_name_ar)||((ye=ee.profile)==null?void 0:ye.full_name)}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n==="en"?"Employee ID":" ",": ",ee.employee_id]}),pe?s.jsx(ce,{variant:"default",children:n==="en"?"Configured":""}):s.jsx(ce,{variant:"secondary",children:n==="en"?"Not Configured":" "})]})})},ee.id)})})]}),s.jsx(Re,{value:"nfc",className:"space-y-4",children:s.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Fr,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:n==="en"?"Scan or enter NFC card ID":"     NFC"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{placeholder:n==="en"?"NFC Card ID":"  NFC",value:k,onChange:ee=>A(ee.target.value),className:"flex-1"}),s.jsx($,{onClick:oe,children:n==="en"?"Search":""})]})]})})]})})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(q,{children:s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs($,{variant:"outline",size:"sm",onClick:()=>{M(!0),u(null)},children:[s.jsx(jt,{className:"h-4 w-4 mr-2"}),n==="en"?"Change Teacher":" "]}),s.jsxs($,{onClick:()=>x(!0),children:[s.jsx(pn,{className:"h-4 w-4 mr-2"}),n==="en"?"Add New Payroll":"  "]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:n==="en"?(Se=d==null?void 0:d.profile)==null?void 0:Se.full_name:((I=d==null?void 0:d.profile)==null?void 0:I.full_name_ar)||((Z=d==null?void 0:d.profile)==null?void 0:Z.full_name)}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n==="en"?"Employee ID":" ",": ",d==null?void 0:d.employee_id]})]})]}),s.jsxs(ce,{variant:"outline",className:"text-lg px-3 py-1",children:[t("payroll.adminWallet"),": ",z.toLocaleString("en-US")," OMR"]})]})})}),s.jsx(cEe,{open:y,onOpenChange:x,onSuccess:()=>{L(),e()}}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center justify-between",children:[s.jsx("span",{children:t("payroll.payrollConfiguration")}),s.jsxs($,{onClick:()=>{var pe;const ee=i.find(Oe=>Oe.teacher_id===d.id);U(ee?{base_salary:ee.base_salary.toString(),hourly_rate:((pe=ee.hourly_rate)==null?void 0:pe.toString())||"",payment_frequency:ee.payment_frequency,bank_account:ee.bank_account||""}:{base_salary:"",hourly_rate:"",payment_frequency:"monthly",bank_account:""}),f(!0)},children:[s.jsx(Yn,{className:"h-4 w-4 mr-2"}),i.find(ee=>ee.teacher_id===(d==null?void 0:d.id))?t("Edit Configuration"):t("Setup Payroll")]})]})}),s.jsx(G,{children:(()=>{const ee=i.find(pe=>pe.teacher_id===(d==null?void 0:d.id));return ee?s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:t("payroll.baseSalary")}),s.jsxs("p",{className:"text-lg font-semibold",children:[ee.base_salary.toLocaleString("en-US")," OMR"]})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:t("payroll.hourlyRate")}),s.jsx("p",{className:"text-lg font-semibold",children:ee.hourly_rate?`${ee.hourly_rate.toLocaleString("en-US")} OMR`:"-"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:t("payroll.frequency")}),s.jsx("p",{className:"text-lg font-semibold",children:t(ee.payment_frequency)})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs($,{onClick:()=>j(!0),className:"w-full",children:[s.jsx(u5,{className:"h-4 w-4 mr-2"}),t("payroll.calculateSalary")]})})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:n==="en"?"No payroll configuration found for this teacher":"        "}),s.jsx($,{onClick:()=>f(!0),children:n==="en"?"Configure Now":"  "})]})})()})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:t("payroll.payrollHistory")})}),s.jsx(G,{children:s.jsxs(is,{children:[s.jsx(os,{children:s.jsxs(Ot,{children:[s.jsx(we,{children:t("payroll.period")}),s.jsx(we,{children:t("payroll.baseSalary")}),s.jsx(we,{children:t("payroll.deductions")}),s.jsx(we,{children:t("payroll.bonuses")}),s.jsx(we,{children:t("payroll.netSalary")}),s.jsx(we,{children:t("payroll.status")}),s.jsx(we,{children:t("payroll.actions")})]})}),s.jsx(ls,{children:l.filter(ee=>ee.teacher_id===(d==null?void 0:d.id)).map(ee=>s.jsxs(Ot,{children:[s.jsx(be,{children:De(new Date(ee.period_start),"MMM yyyy")}),s.jsxs(be,{children:[ee.base_salary.toLocaleString("en-US")," OMR"]}),s.jsxs(be,{className:"text-red-500",children:["-",ee.deductions.toLocaleString("en-US")," OMR"]}),s.jsxs(be,{className:"text-green-500",children:["+",ee.bonuses.toLocaleString("en-US")," OMR"]}),s.jsxs(be,{className:"font-bold",children:[ee.net_salary.toLocaleString("en-US")," OMR"]}),s.jsx(be,{children:s.jsx(ce,{variant:ee.payment_status==="paid"?"default":"secondary",children:t(ee.payment_status)})}),s.jsx(be,{children:s.jsxs("div",{className:"flex gap-2",children:[ee.payment_status==="pending"&&s.jsxs($,{size:"sm",onClick:()=>{b(ee),g(!0)},children:[s.jsx(Gi,{className:"h-4 w-4 mr-1"}),t("payroll.pay")]}),s.jsx($,{size:"sm",variant:"outline",onClick:()=>{},children:s.jsx(Pn,{className:"h-4 w-4"})})]})})]},ee.id))})]})})]}),s.jsx(qe,{open:h,onOpenChange:f,children:s.jsxs(Ve,{children:[s.jsxs(Ke,{children:[s.jsx(Ge,{children:t("Configure Payroll")}),s.jsxs(es,{children:[t("Set up payroll configuration for")," ",(J=d==null?void 0:d.profile)==null?void 0:J.full_name]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:t("Base Salary (OMR)")}),s.jsx(F,{type:"number",step:"0.001",value:E.base_salary,onChange:ee=>U({...E,base_salary:ee.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:t("Hourly Rate (OMR) - Optional")}),s.jsx(F,{type:"number",step:"0.001",value:E.hourly_rate,onChange:ee=>U({...E,hourly_rate:ee.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:t("Payment Frequency")}),s.jsxs(Pe,{value:E.payment_frequency,onValueChange:ee=>U({...E,payment_frequency:ee}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"monthly",children:t("Monthly")}),s.jsx(K,{value:"bi-weekly",children:t("Bi-Weekly")}),s.jsx(K,{value:"weekly",children:t("Weekly")})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:t("Bank Account (Optional)")}),s.jsx(F,{value:E.bank_account,onChange:ee=>U({...E,bank_account:ee.target.value})})]})]}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>f(!1),children:t("Cancel")}),s.jsx($,{onClick:Q,disabled:S,children:t(S?"Saving...":"Save")})]})]})}),s.jsx(qe,{open:v,onOpenChange:j,children:s.jsxs(Ve,{children:[s.jsxs(Ke,{children:[s.jsx(Ge,{children:t("Calculate Salary")}),s.jsxs(es,{children:[t("Calculate salary for")," ",(X=d==null?void 0:d.profile)==null?void 0:X.full_name]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:t("Month")}),s.jsxs(Pe,{value:R.month.toString(),onValueChange:ee=>B({...R,month:parseInt(ee)}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsx(Ae,{children:Array.from({length:12},(ee,pe)=>pe+1).map(ee=>s.jsx(K,{value:ee.toString(),children:De(new Date(2024,ee-1),"MMMM")},ee))})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:t("Year")}),s.jsxs(Pe,{value:R.year.toString(),onValueChange:ee=>B({...R,year:parseInt(ee)}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"2024",children:"2024"}),s.jsx(K,{value:"2025",children:"2025"})]})]})]})]}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>j(!1),children:t("Cancel")}),s.jsx($,{onClick:se,disabled:S,children:t(S?"Calculating...":"Calculate")})]})]})}),s.jsx(qe,{open:p,onOpenChange:g,children:s.jsxs(Ve,{children:[s.jsxs(Ke,{children:[s.jsx(Ge,{children:t("Process Salary Payment")}),s.jsx(es,{children:t("Confirm salary payment processing")})]}),w&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg flex items-start gap-3",children:[s.jsx(Dr,{className:"h-5 w-5 text-orange-500 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold text-orange-900 dark:text-orange-300",children:t("Payment Confirmation")}),s.jsxs("p",{className:"text-orange-700 dark:text-orange-400 mt-1",children:[t("You are about to transfer")," ",s.jsxs("strong",{children:[w.net_salary.toLocaleString("en-US")," OMR"]})," ",t("to")," ",(D=(he=w.teacher)==null?void 0:he.profile)==null?void 0:D.full_name]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:[t("Period"),":"]}),s.jsx("span",{children:De(new Date(w.period_start),"MMM yyyy")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:[t("Working Days"),":"]}),s.jsx("span",{children:w.working_days})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:[t("Present Days"),":"]}),s.jsx("span",{children:w.present_days})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:[t("Deductions"),":"]}),s.jsxs("span",{className:"text-red-500",children:[w.deductions.toLocaleString("en-US")," OMR"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:[t("Bonuses"),":"]}),s.jsxs("span",{className:"text-green-500",children:[w.bonuses.toLocaleString("en-US")," OMR"]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsxs("span",{children:[t("Net Salary"),":"]}),s.jsxs("span",{className:"text-primary",children:[w.net_salary.toLocaleString("en-US")," OMR"]})]})]})]}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>g(!1),children:t("Cancel")}),s.jsx($,{onClick:W,disabled:S,variant:"default",children:t(S?"Processing...":"Confirm Payment")})]})]})})]})}function uEe(){var k;const{t:e,language:t}=Te(),[n,r]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState(new Date),[c,d]=m.useState(!1),[u,h]=m.useState(null),[f,p]=m.useState(!1),[g,v]=m.useState({status:"present",check_in_time:"",check_out_time:"",notes:""}),[j,y]=m.useState("");m.useState(!1),m.useEffect(()=>{x()},[o]);const x=async()=>{try{const{data:A}=await V.from("teachers").select(`
          *,
          profile:profiles!teachers_profile_id_fkey(*)
        `),{data:O}=await V.from("teacher_attendance").select(`
          *,
          teacher:teachers!teacher_attendance_teacher_id_fkey(
            *,
            profile:profiles!teachers_profile_id_fkey(*)
          )
        `).eq("date",De(o,"yyyy-MM-dd"));i(A||[]),r(O||[])}catch(A){console.error("Error fetching data:",A),ae({title:e("error"),description:e("Failed to load attendance data"),variant:"destructive"})}},w=async()=>{if(u){p(!0);try{const A=De(o,"yyyy-MM-dd"),O=n.find(U=>U.teacher_id===u.id&&U.date===A);let M=null,z=null,P=null;if(g.check_in_time&&(M=`${A}T${g.check_in_time}:00`),g.check_out_time&&(z=`${A}T${g.check_out_time}:00`),M&&z){const U=new Date(M);P=(new Date(z).getTime()-U.getTime())/(1e3*60*60)}const E={teacher_id:u.id,date:A,status:g.status,check_in_time:M,check_out_time:z,total_hours:P,check_in_method:"manual",notes:g.notes};O?await V.from("teacher_attendance").update(E).eq("id",O.id):await V.from("teacher_attendance").insert(E),ae({title:e("Success"),description:e("Attendance marked successfully")}),d(!1),x()}catch(A){console.error("Error marking attendance:",A),ae({title:e("error"),description:e("Failed to mark attendance"),variant:"destructive"})}finally{p(!1)}}},b=A=>{h(A);const O=n.find(M=>M.teacher_id===A.id);v(O?{status:O.status,check_in_time:O.check_in_time?De(new Date(O.check_in_time),"HH:mm"):"",check_out_time:O.check_out_time?De(new Date(O.check_out_time),"HH:mm"):"",notes:O.notes||""}:{status:"present",check_in_time:"",check_out_time:"",notes:""}),d(!0)},S=async()=>{var A,O;if(!j.trim()){ae({title:e("error"),description:t==="en"?"Please enter NFC code":"   NFC",variant:"destructive"});return}try{p(!0);const{data:M,error:z}=await V.from("teachers").select("*, profiles(*)").eq("nfc_id",j.trim()).single();if(z||!M){ae({title:e("error"),description:t==="en"?"Invalid NFC code":" NFC  ",variant:"destructive"});return}const{data:P}=await V.from("teacher_attendance").select("*").eq("teacher_id",M.id).eq("date",De(o,"yyyy-MM-dd")).single(),E=new Date,U=De(E,"HH:mm:ss");if(P)await V.from("teacher_attendance").update({check_out_time:E.toISOString(),total_hours:P.check_in_time?parseFloat(((E.getTime()-new Date(P.check_in_time).getTime())/(1e3*60*60)).toFixed(2)):0,updated_at:E.toISOString()}).eq("id",P.id),ae({title:e("Success"),description:`${t==="en"?"Check-out recorded for":"   "} ${(A=M.profiles)==null?void 0:A.full_name}`});else{const R=E.getHours()>8?"late":"present";await V.from("teacher_attendance").insert({teacher_id:M.id,date:De(o,"yyyy-MM-dd"),status:R,check_in_time:E.toISOString(),check_in_method:"nfc",location:"School Entrance"}),ae({title:e("Success"),description:`${t==="en"?"Check-in recorded for":"   "} ${(O=M.profiles)==null?void 0:O.full_name}`})}y(""),x()}catch(M){console.error("Error processing NFC attendance:",M),ae({title:e("error"),description:e("Failed to process attendance"),variant:"destructive"})}finally{p(!1)}},_=A=>{const O={present:"success",absent:"destructive",late:"warning","half-day":"secondary",vacation:"outline","sick-leave":"outline"};return s.jsx(ce,{variant:O[A]||"default",children:e(A)})},C=(()=>{const A=n.filter(z=>["present","late"].includes(z.status)).length,O=n.filter(z=>z.status==="absent").length,M=n.filter(z=>["vacation","sick-leave"].includes(z.status)).length;return{present:A,absent:O,leave:M,total:a.length}})();return s.jsx("div",{className:"space-y-6",children:s.jsxs(gn,{defaultValue:"manual",className:"w-full",children:[s.jsxs(sn,{className:"grid w-full grid-cols-2",children:[s.jsx(_e,{value:"manual",children:t==="en"?"Manual Attendance":" "}),s.jsxs(_e,{value:"nfc",children:[s.jsx(Xs,{className:"mr-2 h-4 w-4"}),t==="en"?"NFC Attendance":"  NFC"]})]}),s.jsx(Re,{value:"nfc",className:"space-y-4",children:s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Fr,{className:"h-5 w-5"}),t==="en"?"Quick NFC Attendance":"   NFC"]})}),s.jsx(G,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{placeholder:t==="en"?"Scan or enter NFC code...":"    NFC...",value:j,onChange:A=>y(A.target.value),onKeyPress:A=>{A.key==="Enter"&&S()},className:"flex-1"}),s.jsx($,{onClick:S,disabled:f,className:"min-w-[120px]",children:f?s.jsx("div",{className:"inline-flex",children:s.jsx(Pt,{size:"small",text:!1})}):s.jsxs(s.Fragment,{children:[s.jsx(Xs,{className:"mr-2 h-4 w-4"}),t==="en"?"Check In/Out":" /"]})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t==="en"?"Place the NFC card near the reader or type the NFC code manually":"  NFC       NFC "})]})})]})}),s.jsxs(Re,{value:"manual",className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between gap-4",children:[s.jsx("div",{className:"flex gap-4 items-center",children:s.jsxs(Mc,{children:[s.jsx(Dc,{asChild:!0,children:s.jsxs($,{variant:"outline",className:"w-[240px] justify-start text-left",children:[s.jsx(ft,{className:"mr-2 h-4 w-4"}),De(o,"PPP")]})}),s.jsx(pl,{className:"w-auto p-0",align:"start",children:s.jsx(ml,{mode:"single",selected:o,onSelect:A=>A&&l(A),initialFocus:!0})})]})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(q,{className:"flex-1",children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hg,{className:"h-5 w-5 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e("Present")}),s.jsxs("p",{className:"text-xl font-bold",children:[C.present,"/",C.total]})]})]})})}),s.jsx(q,{className:"flex-1",children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(IJ,{className:"h-5 w-5 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e("Absent")}),s.jsxs("p",{className:"text-xl font-bold",children:[C.absent,"/",C.total]})]})]})})}),s.jsx(q,{className:"flex-1",children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dr,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e("On Leave")}),s.jsxs("p",{className:"text-xl font-bold",children:[C.leave,"/",C.total]})]})]})})})]})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:e("Teacher Attendance")})}),s.jsx(G,{children:s.jsxs(is,{children:[s.jsx(os,{children:s.jsxs(Ot,{children:[s.jsx(we,{children:e("Teacher")}),s.jsx(we,{children:e("Employee ID")}),s.jsx(we,{children:e("Status")}),s.jsx(we,{children:e("Check In")}),s.jsx(we,{children:e("Check Out")}),s.jsx(we,{children:e("Total Hours")}),s.jsx(we,{children:e("Actions")})]})}),s.jsx(ls,{children:a.map(A=>{var M;const O=n.find(z=>z.teacher_id===A.id);return s.jsxs(Ot,{children:[s.jsx(be,{children:(M=A.profile)==null?void 0:M.full_name}),s.jsx(be,{children:A.employee_id}),s.jsx(be,{children:O?_(O.status):s.jsx(ce,{variant:"outline",children:e("Not Marked")})}),s.jsx(be,{children:O!=null&&O.check_in_time?De(new Date(O.check_in_time),"HH:mm"):"-"}),s.jsx(be,{children:O!=null&&O.check_out_time?De(new Date(O.check_out_time),"HH:mm"):"-"}),s.jsx(be,{children:O!=null&&O.total_hours?`${O.total_hours.toFixed(2)} hrs`:"-"}),s.jsx(be,{children:s.jsxs($,{size:"sm",variant:"outline",onClick:()=>b(A),children:[s.jsx(Yn,{className:"h-4 w-4 mr-1"}),e(O?"Edit":"Mark")]})})]},A.id)})})]})})]}),s.jsx(qe,{open:c,onOpenChange:d,children:s.jsxs(Ve,{children:[s.jsxs(Ke,{children:[s.jsx(Ge,{children:e("Mark Attendance")}),s.jsxs(es,{children:[e("Mark attendance for")," ",(k=u==null?void 0:u.profile)==null?void 0:k.full_name]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:e("Status")}),s.jsxs(Pe,{value:g.status,onValueChange:A=>v({...g,status:A}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"present",children:e("Present")}),s.jsx(K,{value:"absent",children:e("Absent")}),s.jsx(K,{value:"late",children:e("Late")}),s.jsx(K,{value:"half-day",children:e("Half Day")}),s.jsx(K,{value:"vacation",children:e("Vacation")}),s.jsx(K,{value:"sick-leave",children:e("Sick Leave")})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:e("Check In Time")}),s.jsx(F,{type:"time",value:g.check_in_time,onChange:A=>v({...g,check_in_time:A.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:e("Check Out Time")}),s.jsx(F,{type:"time",value:g.check_out_time,onChange:A=>v({...g,check_out_time:A.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:e("Notes")}),s.jsx(F,{value:g.notes,onChange:A=>v({...g,notes:A.target.value}),placeholder:e("Optional notes")})]})]}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>d(!1),children:e("Cancel")}),s.jsx($,{onClick:w,disabled:f,children:e(f?"Saving...":"Save")})]})]})})]})]})})}function hEe(){const{t:e}=Te(),[t,n]=m.useState([]);m.useEffect(()=>{r()},[]);const r=async()=>{const{data:o}=await V.from("leave_requests").select("*, teacher:teachers!leave_requests_teacher_id_fkey(*, profile:profiles!teachers_profile_id_fkey(*))").order("created_at",{ascending:!1});n(o||[])},a=async o=>{await V.from("leave_requests").update({status:"approved",approved_at:new Date().toISOString()}).eq("id",o),ae({title:e("Leave request approved")}),r()},i=async o=>{await V.from("leave_requests").update({status:"rejected"}).eq("id",o),ae({title:e("Leave request rejected")}),r()};return s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:e("Leave Requests")})}),s.jsx(G,{children:s.jsxs(is,{children:[s.jsx(os,{children:s.jsxs(Ot,{children:[s.jsx(we,{children:e("Teacher")}),s.jsx(we,{children:e("Type")}),s.jsx(we,{children:e("Duration")}),s.jsx(we,{children:e("Status")}),s.jsx(we,{children:e("Actions")})]})}),s.jsx(ls,{children:t.map(o=>{var l,c;return s.jsxs(Ot,{children:[s.jsx(be,{children:(c=(l=o.teacher)==null?void 0:l.profile)==null?void 0:c.full_name}),s.jsx(be,{children:e(o.leave_type)}),s.jsxs(be,{children:[De(new Date(o.start_date),"dd/MM/yyyy")," -",De(new Date(o.end_date),"dd/MM/yyyy")]}),s.jsx(be,{children:s.jsx(ce,{variant:o.status==="approved"?"secondary":o.status==="rejected"?"destructive":"default",children:e(o.status)})}),s.jsx(be,{children:o.status==="pending"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{size:"sm",onClick:()=>a(o.id),children:s.jsx(Hi,{className:"h-4 w-4"})}),s.jsx($,{size:"sm",variant:"destructive",onClick:()=>i(o.id),children:s.jsx(Xn,{className:"h-4 w-4"})})]})})]},o.id)})})]})})]})}function fEe(){const{t:e}=Te(),[t,n]=m.useState([]);m.useEffect(()=>{r()},[]);const r=async()=>{const{data:a}=await V.from("payroll_records").select("period_start, net_salary").eq("payment_status","paid"),i=a==null?void 0:a.reduce((o,l)=>{const c=new Date(l.period_start).toLocaleString("default",{month:"short",year:"numeric"});return o[c]=(o[c]||0)+l.net_salary,o},{});n(Object.entries(i||{}).map(([o,l])=>({month:o,total:l})))};return s.jsx("div",{className:"space-y-6",children:s.jsxs(q,{children:[s.jsxs(te,{className:"flex-row justify-between items-center",children:[s.jsx(ne,{children:e("Payroll Reports")}),s.jsxs($,{variant:"outline",size:"sm",children:[s.jsx(br,{className:"h-4 w-4 mr-2"}),e("Export")]})]}),s.jsx(G,{children:s.jsx(ev,{width:"100%",height:300,children:s.jsxs(OW,{data:t,children:[s.jsx(Bx,{strokeDasharray:"3 3"}),s.jsx(Vx,{dataKey:"month"}),s.jsx(qx,{}),s.jsx(Jg,{}),s.jsx($x,{dataKey:"total",fill:"hsl(var(--primary))"})]})})})]})})}function mEe(){const{language:e}=Te(),[t,n]=m.useState(!1),[r,a]=m.useState(!1),[i,o]=m.useState(""),[l,c]=m.useState(null),[d,u]=m.useState(""),[h,f]=m.useState(""),[p,g]=m.useState([]),[v,j]=m.useState(!1),y=async w=>{var b;if(w.length<2){g([]);return}j(!0);try{const{data:S}=await V.auth.getUser(),{data:_,error:N}=await V.from("profiles").select("id, full_name, email, role").or(`full_name.ilike.%${w}%,email.ilike.%${w}%`).neq("id",(b=S.user)==null?void 0:b.id).limit(10);if(N)throw N;g(_||[])}catch(S){console.error("Error searching users:",S),fe.error(e==="en"?"Failed to search users":"   ")}finally{j(!1)}},x=async()=>{if(!l||!d||parseFloat(d)<=0){fe.error(e==="en"?"Please fill all required fields":"    ");return}a(!0);try{const{data:w,error:b}=await V.rpc("process_wallet_transfer",{p_to_user_id:l.id,p_amount:parseFloat(d),p_notes:h||null});if(b)throw b;fe.success(e==="en"?`Successfully transferred ${d} OMR to ${l.full_name}`:`  ${d} .   ${l.full_name}`),c(null),u(""),f(""),o(""),g([]),n(!1),window.dispatchEvent(new CustomEvent("wallet-update"))}catch(w){console.error("Transfer error:",w),fe.error(w.message||(e==="en"?"Transfer failed":" "))}finally{a(!1)}};return s.jsxs(qe,{open:t,onOpenChange:n,children:[s.jsx(um,{asChild:!0,children:s.jsxs($,{variant:"secondary",className:"gap-2",children:[s.jsx(Gi,{className:"h-4 w-4"}),e==="en"?"Transfer Money":" "]})}),s.jsxs(Ve,{className:"sm:max-w-[500px]",children:[s.jsxs(Ke,{children:[s.jsxs(Ge,{className:"flex items-center gap-2",children:[s.jsx(Gi,{className:"h-5 w-5"}),e==="en"?"Transfer Money":" "]}),s.jsx(es,{children:e==="en"?"Send money to another user's wallet":"     "})]}),s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{className:"flex items-center gap-2",children:[s.jsx(as,{className:"h-4 w-4"}),e==="en"?"Recipient":""]}),s.jsx(F,{placeholder:e==="en"?"Search by name or email...":"    ...",value:i,onChange:w=>{o(w.target.value),y(w.target.value)}}),p.length>0&&!l&&s.jsx("div",{className:"border rounded-lg max-h-[200px] overflow-y-auto",children:p.map(w=>s.jsxs("button",{onClick:()=>{c(w),o(w.full_name),g([])},className:"w-full text-left p-3 hover:bg-accent transition-colors",children:[s.jsx("div",{className:"font-medium",children:w.full_name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:w.email}),s.jsx("div",{className:"text-xs text-muted-foreground capitalize",children:w.role})]},w.id))}),l&&s.jsx(q,{children:s.jsx(G,{className:"p-3",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:l.full_name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:l.email})]}),s.jsx($,{size:"sm",variant:"ghost",onClick:()=>{c(null),o("")},children:e==="en"?"Change":""})]})})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{className:"flex items-center gap-2",children:[s.jsx($r,{className:"h-4 w-4"}),e==="en"?"Amount (OMR)":" (.)"]}),s.jsx(F,{type:"number",step:"0.01",min:"0.01",placeholder:"0.00",value:d,onChange:w=>u(w.target.value),dir:"ltr",className:"number-display"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"h-4 w-4"}),e==="en"?"Notes (Optional)":" ()"]}),s.jsx(kr,{placeholder:e==="en"?"Add a note...":" ...",value:h,onChange:w=>f(w.target.value),rows:3})]}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx($,{variant:"outline",onClick:()=>n(!1),disabled:r,children:e==="en"?"Cancel":""}),s.jsx($,{onClick:x,disabled:r||!l||!d,children:r?e==="en"?"Processing...":" ...":e==="en"?"Transfer":""})]})]})]})]})}function pEe(){const{language:e}=Te(),{user:t,profile:n}=ot(),[r,a]=m.useState(0),[i,o]=m.useState([]),[l,c]=m.useState(!0),[d,u]=m.useState(!1),[h,f]=m.useState(""),[p,g]=m.useState(!1),j=n&&["parent","student","teacher","developer"].includes(n.role);m.useEffect(()=>{t&&j?y():n&&!j&&c(!1);const b=()=>{t&&j&&y()};return window.addEventListener("wallet-update",b),()=>{window.removeEventListener("wallet-update",b)}},[t,j]);const y=async()=>{try{const{data:b,error:S}=await V.from("wallet_balances").select("balance").eq("user_id",t==null?void 0:t.id).maybeSingle();if(S&&S.code!=="PGRST116")throw S;if(!b&&!S){const{data:C,error:k}=await V.from("wallet_balances").insert([{user_id:t==null?void 0:t.id,balance:0}]).select().single();if(k)throw k;a(0)}else a((b==null?void 0:b.balance)||0);const{data:_,error:N}=await V.from("wallet_transactions").select("*").eq("user_id",t==null?void 0:t.id).order("created_at",{ascending:!1}).limit(10);if(N)throw N;o(_||[])}catch(b){console.error("Error fetching wallet data:",b),ae({title:e==="ar"?"":"Error",description:b.message,variant:"destructive"})}finally{c(!1)}},x=async()=>{const b=parseFloat(h);if(!b||b<=0){ae({title:e==="ar"?"":"Error",description:e==="ar"?"   ":"Please enter a valid amount",variant:"destructive"});return}g(!0);try{const S=r+b,{error:_}=await V.from("wallet_balances").update({balance:S}).eq("user_id",t==null?void 0:t.id);if(_)throw _;const{error:N}=await V.from("wallet_transactions").insert([{user_id:t==null?void 0:t.id,amount:b,type:"deposit",description:e==="ar"?" ":"Wallet Top-up",description_ar:" ",balance_after:S}]);if(N)throw N;a(S),ae({title:e==="ar"?"  ":"Funds Added",description:e==="ar"?`  ${b.toFixed(2)} .  `:`Added OMR ${b.toFixed(2)} to your wallet`}),u(!1),f(""),y()}catch(S){ae({title:e==="ar"?"":"Error",description:S.message,variant:"destructive"})}finally{g(!1)}},w=b=>new Date(b).toLocaleDateString(e==="ar"?"ar-SA":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return!l&&n&&!j?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[s.jsx(Dr,{className:"h-12 w-12 text-destructive"}),s.jsx("h2",{className:"text-xl font-semibold",children:e==="ar"?" ":"Access Denied"}),s.jsx("p",{className:"text-muted-foreground text-center max-w-md",children:e==="ar"?"      .      .":"You do not have permission to access this page. Wallet is only available for students and parents."}),s.jsx($,{onClick:()=>window.history.back(),children:e==="ar"?"":"Go Back"})]}):l?s.jsx(Pt,{size:"medium",text:!0,fullScreen:!0}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Cr,{className:"h-5 w-5"}),e==="ar"?"":"My Wallet"]})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground p-6 rounded-lg",children:[s.jsx("p",{className:"text-sm opacity-90",children:e==="ar"?" ":"Current Balance"}),s.jsx("p",{className:"text-4xl font-bold mt-2",children:s.jsx("span",{className:"number-display",children:e==="ar"?`${r.toFixed(2)} .`:`OMR ${r.toFixed(2)}`})}),s.jsxs("div",{className:"flex gap-2 mt-6",children:[s.jsxs($,{size:"sm",variant:"secondary",onClick:()=>u(!0),children:[s.jsx(pn,{className:"h-4 w-4 mr-1"}),e==="ar"?" ":"Add Funds"]}),s.jsx(mEe,{})]})]})})})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{className:"text-lg",children:e==="ar"?" ":"Recent Transactions"})}),s.jsx(G,{children:i.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e==="ar"?"   ":"No transactions yet"}):s.jsx("div",{className:"space-y-3",children:i.map(b=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-accent/5 rounded-lg hover:bg-accent/10 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${b.type==="deposit"?"bg-green-500/10 text-green-600":b.type==="transfer_out"?"bg-orange-500/10 text-orange-600":"bg-red-500/10 text-red-600"}`,children:b.type==="deposit"?s.jsx(bs,{className:"h-4 w-4"}):b.type==="transfer_in"?s.jsx(br,{className:"h-4 w-4"}):b.type==="transfer_out"?s.jsx(Gi,{className:"h-4 w-4"}):s.jsx(k5,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:e==="ar"&&b.description_ar||b.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(ft,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:w(b.created_at)})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`font-bold ${b.type==="deposit"?"text-green-600":"text-red-600"}`,children:[b.amount>=0?"+":"",e==="ar"?s.jsxs("span",{className:"number-display",children:[Math.abs(b.amount).toFixed(2)," ."]}):s.jsxs("span",{className:"number-display",children:["OMR ",Math.abs(b.amount).toFixed(2)]})]}),s.jsx(ce,{variant:"outline",className:"text-xs mt-1",children:b.type==="deposit"?e==="en"?"Deposit":"":b.type==="transfer_in"?e==="en"?"Received":"":b.type==="transfer_out"?e==="en"?"Sent":"":e==="en"?"Purchase":""})]})]},b.id))})})]}),s.jsx(qe,{open:d,onOpenChange:u,children:s.jsxs(Ve,{children:[s.jsx(Ke,{children:s.jsxs(Ge,{className:"flex items-center gap-2",children:[s.jsx(pn,{className:"h-5 w-5"}),e==="ar"?" ":"Add Funds"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:e==="ar"?" (.)":"Amount (OMR)"}),s.jsx(F,{type:"number",step:"0.01",placeholder:e==="ar"?" ":"Enter amount",value:h,onChange:b=>f(b.target.value),dir:"ltr",className:"number-display"})]}),s.jsx("div",{className:"p-3 bg-primary/5 rounded-lg",children:s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:e==="ar"?"       ":"In production, you will be redirected to payment gateway"})}),s.jsx($,{onClick:x,className:"w-full",disabled:p,children:p?s.jsxs("span",{className:"flex items-center",children:[s.jsx(Pt,{size:"small"}),s.jsx("span",{className:"ml-2",children:e==="ar"?" ...":"Processing..."})]}):e==="ar"?" ":"Add Funds"})]})]})})]})}function gEe(){var j,y;const{t:e,language:t}=Te(),{profile:n}=ot(),r=t==="ar",[a,i]=m.useState(null),[o,l]=m.useState([]),[c,d]=m.useState([]),[u,h]=m.useState([]),[f,p]=m.useState(!0);m.useEffect(()=>{g()},[n]);const g=async()=>{if(n)try{const{data:x}=await V.from("teachers").select("*, payroll_config!payroll_config_teacher_id_fkey(*)").eq("profile_id",n.id).single();if(x){i(x);const{data:w}=await V.from("payroll_records").select("*").eq("teacher_id",x.id).order("period_start",{ascending:!1});l(w||[]);const{data:b}=await V.from("teacher_attendance").select("*").eq("teacher_id",x.id).order("date",{ascending:!1}).limit(30);d(b||[]);const{data:S}=await V.from("payroll_notifications").select("*").eq("teacher_id",x.id).order("created_at",{ascending:!1});h(S||[])}}catch(x){console.error("Error fetching teacher data:",x)}finally{p(!1)}},v=async x=>{await V.from("payroll_notifications").update({is_read:!0}).eq("id",x),g()};return f?s.jsx(Pt,{fullScreen:!0}):s.jsxs("div",{className:`p-6 space-y-6 ${r?"rtl":"ltr"}`,children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e("My Payroll")}),s.jsx("p",{className:"text-muted-foreground mt-1",children:e("View your salary, attendance, and payment history")})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(q,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($r,{className:"h-8 w-8 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e("Monthly Salary")}),s.jsxs("p",{className:"text-2xl font-bold",children:[((y=(j=a==null?void 0:a.payroll_config)==null?void 0:j[0])==null?void 0:y.base_salary)||0," OMR"]})]})]})})}),s.jsx(q,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ft,{className:"h-8 w-8 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e("Days Present This Month")}),s.jsx("p",{className:"text-2xl font-bold",children:c.filter(x=>x.status==="present"&&new Date(x.date).getMonth()===new Date().getMonth()).length})]})]})})}),s.jsx(q,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(yy,{className:"h-8 w-8 text-purple-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e("Unread Notifications")}),s.jsx("p",{className:"text-2xl font-bold",children:u.filter(x=>!x.is_read).length})]})]})})})]}),s.jsxs(gn,{defaultValue:"wallet",className:"space-y-6",children:[s.jsxs(sn,{className:"grid grid-cols-4 w-full max-w-2xl",children:[s.jsx(_e,{value:"wallet",children:e("Wallet")}),s.jsx(_e,{value:"payslips",children:e("Payslips")}),s.jsx(_e,{value:"attendance",children:e("Attendance")}),s.jsx(_e,{value:"notifications",children:e("Notifications")})]}),s.jsx(Re,{value:"wallet",children:s.jsx(pEe,{})}),s.jsx(Re,{value:"payslips",children:s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:e("Payment History")})}),s.jsx(G,{children:s.jsxs(is,{children:[s.jsx(os,{children:s.jsxs(Ot,{children:[s.jsx(we,{children:e("Period")}),s.jsx(we,{children:e("Net Salary")}),s.jsx(we,{children:e("Status")}),s.jsx(we,{children:e("Payment Date")}),s.jsx(we,{children:e("Actions")})]})}),s.jsx(ls,{children:o.map(x=>s.jsxs(Ot,{children:[s.jsx(be,{children:De(new Date(x.period_start),"MMM yyyy")}),s.jsxs(be,{children:[x.net_salary," OMR"]}),s.jsx(be,{children:s.jsx(ce,{variant:x.payment_status==="paid"?"secondary":"default",children:e(x.payment_status)})}),s.jsx(be,{children:x.payment_date?De(new Date(x.payment_date),"dd/MM/yyyy"):"-"}),s.jsx(be,{children:s.jsxs($,{size:"sm",variant:"outline",children:[s.jsx(Vt,{className:"h-4 w-4 mr-1"}),e("Download")]})})]},x.id))})]})})]})}),s.jsx(Re,{value:"attendance",children:s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:e("My Attendance")})}),s.jsx(G,{children:s.jsxs(is,{children:[s.jsx(os,{children:s.jsxs(Ot,{children:[s.jsx(we,{children:e("Date")}),s.jsx(we,{children:e("Status")}),s.jsx(we,{children:e("Check In")}),s.jsx(we,{children:e("Check Out")}),s.jsx(we,{children:e("Total Hours")})]})}),s.jsx(ls,{children:c.map(x=>s.jsxs(Ot,{children:[s.jsx(be,{children:De(new Date(x.date),"dd/MM/yyyy")}),s.jsx(be,{children:s.jsx(ce,{children:e(x.status)})}),s.jsx(be,{children:x.check_in_time?De(new Date(x.check_in_time),"HH:mm"):"-"}),s.jsx(be,{children:x.check_out_time?De(new Date(x.check_out_time),"HH:mm"):"-"}),s.jsx(be,{children:x.total_hours?`${x.total_hours} hrs`:"-"})]},x.id))})]})})]})}),s.jsx(Re,{value:"notifications",children:s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:e("Notifications")})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-4",children:u.map(x=>s.jsx("div",{className:`p-4 rounded-lg border ${x.is_read?"":"bg-primary/5 border-primary/20"}`,onClick:()=>!x.is_read&&v(x.id),children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:x.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:x.message})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:De(new Date(x.created_at),"dd/MM/yyyy HH:mm")})]})},x.id))})})]})})]})]})}function vEe(){const{t:e,language:t}=Te(),{profile:n}=ot(),r=t==="ar",[a,i]=m.useState(0),[o,l]=m.useState(!0),[c,d]=m.useState({totalTeachers:0,pendingPayments:0,totalPayrollThisMonth:0,averageAttendance:0});m.useEffect(()=>{(n==null?void 0:n.role)==="admin"&&u()},[n]);const u=async()=>{try{const{data:h}=await V.from("admin_wallets").select("balance").single();h&&i(h.balance);const f=new Date,p=new Date(f.getFullYear(),f.getMonth(),1),g=new Date(f.getFullYear(),f.getMonth()+1,0),{count:v}=await V.from("teachers").select("*",{count:"exact",head:!0}),{count:j}=await V.from("payroll_records").select("*",{count:"exact",head:!0}).eq("payment_status","pending"),{data:y}=await V.from("payroll_records").select("net_salary").gte("period_start",p.toISOString()).lte("period_end",g.toISOString()),x=(y==null?void 0:y.reduce((_,N)=>_+(N.net_salary||0),0))||0,{data:w}=await V.from("teacher_attendance").select("status").gte("date",p.toISOString()).lte("date",g.toISOString()).in("status",["present","late"]),{count:b}=await V.from("teacher_attendance").select("*",{count:"exact",head:!0}).gte("date",p.toISOString()).lte("date",g.toISOString()),S=b?((w==null?void 0:w.length)||0)/b*100:0;d({totalTeachers:v||0,pendingPayments:j||0,totalPayrollThisMonth:x,averageAttendance:Math.round(S)})}catch(h){console.error("Error fetching admin data:",h),ae({title:e("error"),description:e("Failed to load data"),variant:"destructive"})}finally{l(!1)}};return o?s.jsx(Pt,{fullScreen:!0}):(n==null?void 0:n.role)==="teacher"?s.jsx(gEe,{}):s.jsxs("div",{className:`p-6 space-y-6 ${r?"rtl":"ltr"}`,children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e("Payroll Management")}),s.jsx("p",{className:"text-muted-foreground mt-1",children:e("Manage teacher salaries, attendance, and payments")})]}),s.jsx(q,{className:"bg-primary/10 border-primary/20",children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Cr,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e("Admin Wallet")}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[a.toFixed(3)," OMR"]})]})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(q,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jt,{className:"h-8 w-8 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e("Total Teachers")}),s.jsx("p",{className:"text-2xl font-bold",children:c.totalTeachers})]})]})})}),s.jsx(q,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dr,{className:"h-8 w-8 text-orange-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e("Pending Payments")}),s.jsx("p",{className:"text-2xl font-bold",children:c.pendingPayments})]})]})})}),s.jsx(q,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($r,{className:"h-8 w-8 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e("Payroll This Month")}),s.jsxs("p",{className:"text-2xl font-bold",children:[c.totalPayrollThisMonth.toFixed(3)," OMR"]})]})]})})}),s.jsx(q,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(bs,{className:"h-8 w-8 text-purple-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e("Average Attendance")}),s.jsxs("p",{className:"text-2xl font-bold",children:[c.averageAttendance,"%"]})]})]})})})]}),s.jsxs(gn,{defaultValue:"payroll",className:"space-y-6",dir:t==="ar"?"rtl":"ltr",children:[s.jsxs(sn,{className:`grid grid-cols-4 w-full max-w-2xl ${t==="ar"?"flex-row-reverse":""}`,children:[s.jsxs(_e,{value:"payroll",className:"flex items-center gap-2",children:[s.jsx(Cr,{className:"h-4 w-4"}),e("Payroll")]}),s.jsxs(_e,{value:"attendance",className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-4 w-4"}),e("Attendance")]}),s.jsxs(_e,{value:"leaves",className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"h-4 w-4"}),e("Leave Requests")]}),s.jsxs(_e,{value:"reports",className:"flex items-center gap-2",children:[s.jsx(bs,{className:"h-4 w-4"}),e("Reports")]})]}),s.jsx(Re,{value:"payroll",children:s.jsx(dEe,{onWalletUpdate:u})}),s.jsx(Re,{value:"attendance",children:s.jsx(uEe,{})}),s.jsx(Re,{value:"leaves",children:s.jsx(hEe,{})}),s.jsx(Re,{value:"reports",children:s.jsx(fEe,{})})]})]})}function mA(e="default"){const{startLoading:t,stopLoading:n}=Fie(e),r=async a=>{t();try{return await a()}finally{setTimeout(()=>{n()},100)}};return m.useEffect(()=>()=>{n()},[n]),{executeAsync:r,startLoading:t,stopLoading:n}}var pA="Radio",[xEe,zW]=Ln(pA),[yEe,jEe]=xEe(pA),UW=m.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[h,f]=m.useState(null),p=Ze(t,j=>f(j)),g=m.useRef(!1),v=h?d||!!h.closest("form"):!0;return s.jsxs(yEe,{scope:n,checked:a,disabled:o,children:[s.jsx(Ce.button,{type:"button",role:"radio","aria-checked":a,"data-state":HW(a),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:p,onClick:ge(e.onClick,j=>{a||c==null||c(),v&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),v&&s.jsx(qW,{control:h,bubbles:!g.current,name:r,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});UW.displayName=pA;var VW="RadioIndicator",WW=m.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...a}=e,i=jEe(VW,n);return s.jsx(Fn,{present:r||i.checked,children:s.jsx(Ce.span,{"data-state":HW(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});WW.displayName=VW;var wEe="RadioBubbleInput",qW=m.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...a},i)=>{const o=m.useRef(null),l=Ze(o,i),c=Yy(n),d=Cy(t);return m.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&p){const g=new Event("click",{bubbles:r});p.call(u,n),u.dispatchEvent(g)}},[c,n,r]),s.jsx(Ce.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});qW.displayName=wEe;function HW(e){return e?"checked":"unchecked"}var bEe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],sj="RadioGroup",[NEe,zTe]=Ln(sj,[nh,zW]),KW=nh(),GW=zW(),[_Ee,SEe]=NEe(sj),YW=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...f}=e,p=KW(n),g=th(d),[v,j]=Ca({prop:i,defaultProp:a??null,onChange:h,caller:sj});return s.jsx(_Ee,{scope:n,name:r,required:o,disabled:l,value:v,onValueChange:j,children:s.jsx(pC,{asChild:!0,...p,orientation:c,dir:g,loop:u,children:s.jsx(Ce.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...f,ref:t})})})});YW.displayName=sj;var XW="RadioGroupItem",ZW=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...a}=e,i=SEe(XW,n),o=i.disabled||r,l=KW(n),c=GW(n),d=m.useRef(null),u=Ze(t,d),h=i.value===a.value,f=m.useRef(!1);return m.useEffect(()=>{const p=v=>{bEe.includes(v.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),s.jsx(gC,{asChild:!0,...l,focusable:!o,active:h,children:s.jsx(UW,{disabled:o,required:i.required,checked:h,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:ge(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:ge(a.onFocus,()=>{var p;f.current&&((p=d.current)==null||p.click())})})})});ZW.displayName=XW;var CEe="RadioGroupIndicator",QW=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,a=GW(n);return s.jsx(WW,{...a,...r,ref:t})});QW.displayName=CEe;var JW=YW,eq=ZW,kEe=QW;const gA=m.forwardRef(({className:e,...t},n)=>s.jsx(JW,{className:me("grid gap-2",e),...t,ref:n}));gA.displayName=JW.displayName;const vA=m.forwardRef(({className:e,...t},n)=>s.jsx(eq,{ref:n,className:me("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(kEe,{className:"flex items-center justify-center",children:s.jsx(m5,{className:"h-2.5 w-2.5 fill-current text-current"})})}));vA.displayName=eq.displayName;function AEe(){const{language:e}=Te(),{user:t}=ot(),{executeAsync:n}=mA("store-data"),[r,a]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState([]),[d,u]=m.useState(!1),[h,f]=m.useState(!1),[p,g]=m.useState("wallet"),[v,j]=m.useState("all"),[y,x]=m.useState(0),[w,b]=m.useState(!1);m.useEffect(()=>{n(async()=>{await S(),t&&await _()})},[t]);const S=async()=>{try{const{data:E,error:U}=await V.from("products").select("*").eq("in_stock",!0).order("created_at",{ascending:!1});if(U)throw U;a(E||[])}catch(E){ae({title:e==="ar"?"":"Error",description:E.message,variant:"destructive"})}finally{o(!1)}},_=async()=>{try{const{data:E,error:U}=await V.from("wallet_balances").select("balance").eq("user_id",t==null?void 0:t.id).maybeSingle();if(U)throw U;x((E==null?void 0:E.balance)||0)}catch(E){console.error("Error fetching wallet balance:",E)}},N=v==="all"?r:r.filter(E=>E.category===v),C=(E,U)=>{if(E.sizes&&!U){ae({title:e==="ar"?"  ":"Please select a size",variant:"destructive"});return}c(R=>R.find(L=>L.id===E.id&&L.selectedSize===U)?R.map(L=>L.id===E.id&&L.selectedSize===U?{...L,quantity:L.quantity+1}:L):[...R,{...E,quantity:1,selectedSize:U}]),ae({title:e==="ar"?"   ":"Added to cart"})},k=(E,U,R)=>{c(B=>B.map(L=>{if(L.id===E&&L.selectedSize===U){const Q=L.quantity+R;return Q>0?{...L,quantity:Q}:L}return L}).filter(L=>L.quantity>0))},A=(E,U)=>{c(R=>R.filter(B=>!(B.id===E&&B.selectedSize===U)))},O=l.reduce((E,U)=>E+Number(U.price)*U.quantity,0),M=l.reduce((E,U)=>E+U.quantity,0),z=()=>{if(!t){ae({title:e==="ar"?"  ":"Login Required",description:e==="ar"?"   ":"Please login to continue",variant:"destructive"});return}f(!0)},P=async()=>{if(t){if(p==="wallet"&&y<O){ae({title:e==="ar"?"  ":"Insufficient Balance",description:e==="ar"?"     ":"Wallet balance is insufficient for this purchase",variant:"destructive"});return}b(!0);try{const{data:E,error:U}=await V.from("orders").insert([{user_id:t.id,items:l.map(R=>({id:R.id,name:R.name,name_ar:R.name_ar,quantity:R.quantity,price:R.price,selectedSize:R.selectedSize})),total_amount:O,payment_method:p,status:"completed"}]).select().single();if(U)throw U;if(p==="wallet"){const{error:R}=await V.from("wallet_balances").update({balance:y-O}).eq("user_id",t.id);if(R)throw R;await V.from("wallet_transactions").insert([{user_id:t.id,amount:-O,type:"purchase",description:e==="ar"?"  ":"Store Purchase",description_ar:"  ",balance_after:y-O}]),x(y-O)}ae({title:e==="ar"?"  ":"Order Confirmed",description:e==="ar"?"     ":"Order will be collected at school arrival"}),c([]),f(!1),u(!1)}catch(E){ae({title:e==="ar"?"":"Error",description:E.message,variant:"destructive"})}finally{b(!1)}}};return s.jsxs(s.Fragment,{children:[s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Lr,{className:"h-5 w-5"}),e==="ar"?" ":"School Store"]}),s.jsxs($,{variant:"outline",size:"sm",onClick:()=>u(!0),className:"gap-2",children:[s.jsx(xf,{className:"h-4 w-4"}),M>0&&s.jsx(ce,{variant:"destructive",className:"px-1.5",children:M})]})]})}),s.jsx(G,{children:s.jsxs(gn,{defaultValue:"all",value:v,onValueChange:E=>j(E),dir:e==="ar"?"rtl":"ltr",children:[s.jsxs(sn,{className:`grid w-full grid-cols-4 mb-6 ${e==="ar"?"flex-row-reverse":""}`,children:[s.jsx(_e,{value:"all",children:e==="ar"?"":"All"}),s.jsx(_e,{value:"textbooks",children:e==="ar"?"":"Textbooks"}),s.jsx(_e,{value:"uniforms",children:e==="ar"?"":"Uniforms"}),s.jsx(_e,{value:"supplies",children:e==="ar"?"":"Supplies"})]}),s.jsx(Re,{value:v,children:i?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Pt,{})}):N.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Lr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:e==="ar"?"   ":"No products available"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(E=>s.jsxs(q,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"aspect-square relative bg-gradient-to-br from-accent/20 to-accent/5",children:s.jsx("img",{src:E.image||"https://images.unsplash.com/photo-1546868871-7041f2a55e12?w=400",alt:e==="ar"&&E.name_ar||E.name,className:"w-full h-full object-cover"})}),s.jsxs(G,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-lg mb-1",children:e==="ar"&&E.name_ar||E.name}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:e==="ar"&&E.description_ar||E.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xl font-bold text-primary",children:s.jsx("span",{className:"number-display",children:e==="ar"?`${Number(E.price).toFixed(2)} .`:`OMR ${Number(E.price).toFixed(2)}`})}),s.jsx(PEe,{product:E,onAdd:C,language:e})]})]})]},E.id))})})]})})]}),s.jsx(qe,{open:d,onOpenChange:u,children:s.jsxs(Ve,{className:"max-w-lg",children:[s.jsx(Ke,{children:s.jsxs(Ge,{className:"flex items-center gap-2",children:[s.jsx(xf,{className:"h-5 w-5"}),e==="ar"?" ":"Shopping Cart"]})}),s.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto",children:l.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(xf,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:e==="ar"?" ":"Cart is empty"})]}):l.map(E=>s.jsxs("div",{className:"flex gap-3 p-4 bg-accent/5 rounded-lg",children:[s.jsx("img",{src:E.image||"https://images.unsplash.com/photo-1546868871-7041f2a55e12?w=400",alt:e==="ar"&&E.name_ar||E.name,className:"w-20 h-20 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium",children:e==="ar"&&E.name_ar||E.name}),E.selectedSize&&s.jsxs(ce,{variant:"secondary",className:"mt-1",children:[e==="ar"?"":"Size",": ",E.selectedSize]}),s.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>k(E.id,E.selectedSize,-1),children:s.jsx(PJ,{className:"h-3 w-3"})}),s.jsx("span",{className:"w-8 text-center font-medium",children:E.quantity}),s.jsx($,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>k(E.id,E.selectedSize,1),children:s.jsx(pn,{className:"h-3 w-3"})})]}),s.jsx("span",{className:"ml-auto font-bold text-primary",children:e==="ar"?s.jsxs("span",{className:"number-display",children:[(Number(E.price)*E.quantity).toFixed(2)," ."]}):s.jsxs("span",{className:"number-display",children:["OMR ",(Number(E.price)*E.quantity).toFixed(2)]})}),s.jsx($,{size:"icon",variant:"ghost",className:"h-7 w-7",onClick:()=>A(E.id,E.selectedSize),children:s.jsx(Xn,{className:"h-4 w-4"})})]})]})]},`${E.id}-${E.selectedSize}`))}),l.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(js,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[s.jsx("span",{children:e==="ar"?"":"Total"}),s.jsx("span",{className:"text-primary",children:e==="ar"?`${O.toFixed(2)} .`:`OMR ${O.toFixed(2)}`})]}),s.jsx($,{onClick:z,className:"w-full",size:"lg",children:e==="ar"?" ":"Proceed to Checkout"})]})]})]})}),s.jsx(qe,{open:h,onOpenChange:f,children:s.jsxs(Ve,{className:"max-w-md",children:[s.jsx(Ke,{children:s.jsxs(Ge,{className:"flex items-center gap-2",children:[s.jsx(US,{className:"h-5 w-5"}),e==="ar"?" ":"Checkout"]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"p-4 bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cr,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"font-medium",children:e==="ar"?" ":"Wallet Balance"})]}),s.jsx("span",{className:"text-xl font-bold text-primary",children:e==="ar"?`${y.toFixed(2)} .`:`OMR ${y.toFixed(2)}`})]})}),s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium mb-3 block",children:e==="ar"?" ":"Payment Method"}),s.jsx(gA,{value:p,onValueChange:g,children:s.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg mb-2 hover:bg-accent/5 transition-colors",children:[s.jsx(vA,{value:"wallet",id:"wallet"}),s.jsxs(T,{htmlFor:"wallet",className:"flex items-center gap-2 cursor-pointer flex-1",children:[s.jsx(Cr,{className:"h-4 w-4"}),e==="ar"?"":"Wallet"]})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(T,{className:"text-sm font-medium",children:e==="ar"?" ":"Order Summary"}),s.jsx("div",{className:"space-y-2 p-4 bg-accent/5 rounded-lg",children:l.map(E=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{children:[e==="ar"&&E.name_ar||E.name," x",E.quantity,E.selectedSize&&` (${E.selectedSize})`]}),s.jsx("span",{className:"font-medium",children:e==="ar"?`${(Number(E.price)*E.quantity).toFixed(2)} .`:`OMR ${(Number(E.price)*E.quantity).toFixed(2)}`})]},`${E.id}-${E.selectedSize}`))})]}),s.jsx(js,{}),s.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[s.jsx("span",{children:e==="ar"?"":"Total"}),s.jsx("span",{className:"text-primary text-2xl",children:e==="ar"?`${O.toFixed(2)} .`:`OMR ${O.toFixed(2)}`})]}),p==="wallet"&&y<O&&s.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:s.jsx("p",{className:"text-sm text-destructive text-center",children:e==="ar"?"   .    .":"Insufficient wallet balance. Please add funds to continue."})}),s.jsx($,{onClick:P,className:"w-full",size:"lg",disabled:w||p==="wallet"&&y<O,children:w?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-2",children:s.jsx(Pt,{size:"small",text:!1})}),e==="ar"?" ...":"Processing..."]}):e==="ar"?" ":"Confirm Order"})]})]})})]})}function PEe({product:e,onAdd:t,language:n}){var d;const[r,a]=m.useState(""),[i,o]=m.useState(!1),l=()=>{e.sizes&&e.sizes.length>0?o(!0):t(e)},c=()=>{r&&(t(e,r),o(!1),a(""))};return s.jsxs(s.Fragment,{children:[s.jsxs($,{size:"sm",disabled:!e.in_stock,onClick:l,className:"gap-1",children:[s.jsx(pn,{className:"h-4 w-4"}),n==="ar"?"":"Add"]}),s.jsx(qe,{open:i,onOpenChange:o,children:s.jsxs(Ve,{className:"max-w-xs",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:n==="ar"?" ":"Select Size"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(gA,{value:r,onValueChange:a,children:s.jsx("div",{className:"grid grid-cols-2 gap-2",children:(d=e.sizes)==null?void 0:d.map(u=>s.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg hover:bg-accent/5 transition-colors",children:[s.jsx(vA,{value:u,id:u}),s.jsx(T,{htmlFor:u,className:"cursor-pointer flex-1 text-center font-medium",children:u})]},u))})}),s.jsx($,{onClick:c,className:"w-full",disabled:!r,children:n==="ar"?"  ":"Add to Cart"})]})]})})]})}function tq(){const{language:e}=Te(),{executeAsync:t}=mA("store-management"),[n,r]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,h]=m.useState(null),[f,p]=m.useState("all"),[g,v]=m.useState({name:"",name_ar:"",category:"textbooks",price:0,image:"",description:"",description_ar:"",sizes:[],in_stock:!0,stock_quantity:0});m.useEffect(()=>{t(async()=>{await j()})},[]);const j=async()=>{try{const{data:C,error:k}=await V.from("products").select("*").order("created_at",{ascending:!1});if(k)throw k;r(C||[])}catch(C){ae({title:e==="ar"?"":"Error",description:C.message,variant:"destructive"})}finally{i(!1)}},y=f==="all"?n:n.filter(C=>C.category===f),x=async()=>{try{const{data:C,error:k}=await V.from("products").insert([{name:g.name||"",name_ar:g.name_ar||null,category:g.category,price:g.price||0,image:g.image||null,description:g.description||null,description_ar:g.description_ar||null,sizes:g.sizes||null,in_stock:g.in_stock!==!1,stock_quantity:g.stock_quantity||0}]).select().single();if(k)throw k;r([C,...n]),l(!1),_(),ae({title:e==="ar"?"  ":"Product Added",description:e==="ar"?"   ":"Product has been added successfully"})}catch(C){ae({title:e==="ar"?"":"Error",description:C.message,variant:"destructive"})}},w=async()=>{if(u)try{const{data:C,error:k}=await V.from("products").update({name:g.name,name_ar:g.name_ar,category:g.category,price:g.price,image:g.image,description:g.description,description_ar:g.description_ar,sizes:g.sizes,in_stock:g.in_stock,stock_quantity:g.stock_quantity}).eq("id",u.id).select().single();if(k)throw k;r(n.map(A=>A.id===u.id?C:A)),d(!1),_(),ae({title:e==="ar"?"  ":"Product Updated",description:e==="ar"?"   ":"Product has been updated successfully"})}catch(C){ae({title:e==="ar"?"":"Error",description:C.message,variant:"destructive"})}},b=async C=>{try{const{error:k}=await V.from("products").delete().eq("id",C);if(k)throw k;r(n.filter(A=>A.id!==C)),ae({title:e==="ar"?"  ":"Product Deleted",description:e==="ar"?"   ":"Product has been deleted successfully"})}catch(k){ae({title:e==="ar"?"":"Error",description:k.message,variant:"destructive"})}},S=C=>{h(C),v(C),d(!0)},_=()=>{v({name:"",name_ar:"",category:"textbooks",price:0,image:"",description:"",description_ar:"",sizes:[],in_stock:!0,stock_quantity:0}),h(null)},N=()=>{var C;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"name",children:e==="en"?"Product Name (English)":"  ()"}),s.jsx(F,{id:"name",value:g.name,onChange:k=>v({...g,name:k.target.value}),placeholder:e==="en"?"Enter product name":"  "})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"nameAr",children:e==="en"?"Product Name (Arabic)":"  ()"}),s.jsx(F,{id:"nameAr",value:g.name_ar||"",onChange:k=>v({...g,name_ar:k.target.value}),placeholder:"  ",dir:"rtl"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"category",children:e==="en"?"Category":""}),s.jsxs(Pe,{value:g.category,onValueChange:k=>v({...g,category:k}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"textbooks",children:e==="en"?"Textbooks":" "}),s.jsx(K,{value:"uniforms",children:e==="en"?"Uniforms":" "}),s.jsx(K,{value:"supplies",children:e==="en"?"School Supplies":" "})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"price",children:e==="en"?"Price (OMR)":" ( )"}),s.jsx(F,{id:"price",type:"number",step:"0.01",value:g.price,onChange:k=>v({...g,price:parseFloat(k.target.value)}),placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"image",children:"Image URL"}),s.jsx(F,{id:"image",value:g.image,onChange:k=>v({...g,image:k.target.value}),placeholder:"https://example.com/image.jpg"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"description",children:e==="en"?"Description (English)":" ()"}),s.jsx(kr,{id:"description",value:g.description,onChange:k=>v({...g,description:k.target.value}),placeholder:e==="en"?"Enter product description":"  ",rows:3})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"descriptionAr",children:e==="en"?"Description (Arabic)":" ()"}),s.jsx(kr,{id:"descriptionAr",value:g.description_ar||"",onChange:k=>v({...g,description_ar:k.target.value}),placeholder:"  ",dir:"rtl",rows:3})]})]}),g.category==="uniforms"&&s.jsxs("div",{children:[s.jsx(T,{htmlFor:"sizes",children:"Sizes (comma separated)"}),s.jsx(F,{id:"sizes",value:(C=g.sizes)==null?void 0:C.join(", "),onChange:k=>v({...g,sizes:k.target.value.split(",").map(A=>A.trim()).filter(A=>A)}),placeholder:"S, M, L, XL"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"stockQuantity",children:"Stock Quantity"}),s.jsx(F,{id:"stockQuantity",type:"number",value:g.stock_quantity,onChange:k=>v({...g,stock_quantity:parseInt(k.target.value)}),placeholder:"0"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qt,{id:"inStock",checked:g.in_stock,onCheckedChange:k=>v({...g,in_stock:k})}),s.jsx(T,{htmlFor:"inStock",children:"In Stock"})]})]})]})};return s.jsxs(s.Fragment,{children:[s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Lr,{className:"h-5 w-5"}),e==="ar"?" ":"Store Management"]}),s.jsxs($,{onClick:()=>l(!0),children:[s.jsx(pn,{className:"h-4 w-4 mr-2"}),e==="ar"?" ":"Add Product"]})]})}),s.jsx(G,{children:s.jsxs(gn,{defaultValue:"all",value:f,onValueChange:C=>p(C),dir:e==="ar"?"rtl":"ltr",children:[s.jsxs(sn,{className:`grid w-full grid-cols-4 ${e==="ar"?"flex-row-reverse":""}`,children:[s.jsxs(_e,{value:"all",children:[e==="ar"?"":"All"," (",n.length,")"]}),s.jsxs(_e,{value:"textbooks",children:[e==="ar"?"":"Textbooks"," (",n.filter(C=>C.category==="textbooks").length,")"]}),s.jsxs(_e,{value:"uniforms",children:[e==="ar"?"":"Uniforms"," (",n.filter(C=>C.category==="uniforms").length,")"]}),s.jsxs(_e,{value:"supplies",children:[e==="ar"?"":"Supplies"," (",n.filter(C=>C.category==="supplies").length,")"]})]}),s.jsx(Re,{value:f,className:"mt-4",children:a?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Pt,{})}):s.jsxs(is,{children:[s.jsx(os,{children:s.jsxs(Ot,{children:[s.jsx(we,{children:e==="ar"?"":"Image"}),s.jsx(we,{children:e==="ar"?"":"Name"}),s.jsx(we,{children:e==="ar"?"":"Category"}),s.jsx(we,{children:e==="ar"?"":"Price"}),s.jsx(we,{children:e==="ar"?"":"Stock"}),s.jsx(we,{children:e==="ar"?"":"Status"}),s.jsx(we,{className:"text-right",children:e==="ar"?"":"Actions"})]})}),s.jsx(ls,{children:y.map(C=>s.jsxs(Ot,{children:[s.jsx(be,{children:s.jsx("img",{src:C.image||"https://images.unsplash.com/photo-1546868871-7041f2a55e12?w=400",alt:e==="ar"&&C.name_ar||C.name,className:"w-12 h-12 object-cover rounded"})}),s.jsx(be,{className:"font-medium",children:e==="ar"&&C.name_ar||C.name}),s.jsx(be,{children:s.jsxs(ce,{variant:"outline",children:[C.category==="textbooks"&&(e==="ar"?"":"Textbooks"),C.category==="uniforms"&&(e==="ar"?" ":"Uniforms"),C.category==="supplies"&&(e==="ar"?"":"Supplies")]})}),s.jsx(be,{children:e==="ar"?`${Number(C.price).toFixed(2)} .`:`OMR ${Number(C.price).toFixed(2)}`}),s.jsx(be,{children:C.stock_quantity}),s.jsx(be,{children:s.jsx(ce,{variant:C.in_stock?"default":"destructive",children:C.in_stock?e==="ar"?"":"In Stock":e==="ar"?" ":"Out of Stock"})}),s.jsx(be,{className:"text-right",children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx($,{size:"icon",variant:"outline",onClick:()=>S(C),children:s.jsx(TJ,{className:"h-4 w-4"})}),s.jsx($,{size:"icon",variant:"outline",onClick:()=>b(C.id),children:s.jsx($n,{className:"h-4 w-4"})})]})})]},C.id))})]})})]})})]}),s.jsx(qe,{open:o,onOpenChange:l,children:s.jsxs(Ve,{className:"max-w-2xl",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:e==="ar"?"  ":"Add New Product"})}),s.jsx(N,{}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>l(!1),children:e==="ar"?"":"Cancel"}),s.jsx($,{onClick:x,children:e==="ar"?"":"Add"})]})]})}),s.jsx(qe,{open:c,onOpenChange:d,children:s.jsxs(Ve,{className:"max-w-2xl",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:e==="ar"?" ":"Edit Product"})}),s.jsx(N,{}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>d(!1),children:e==="ar"?"":"Cancel"}),s.jsx($,{onClick:w,children:e==="ar"?" ":"Save Changes"})]})]})})]})}function EEe(){const{user:e,profile:t}=ot(),{language:n}=Te(),r=(t==null?void 0:t.role)==="developer"?sessionStorage.getItem("developerViewRole")||"developer":t==null?void 0:t.role;return r==="admin"?s.jsx(tq,{}):r!=="parent"&&r!=="student"?s.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:s.jsxs(q,{className:"p-8 text-center",children:[s.jsx(Lr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:n==="en"?"Access Restricted":" "}),s.jsx("p",{className:"text-muted-foreground",children:n==="en"?"This section is available for parents and students only":"     "})]})}):s.jsx(AEe,{})}const TEe=i0({name:He().trim().min(1,"Name is required").max(100),nameAr:He().trim().min(1,"Arabic name is required").max(100),email:He().trim().email("Invalid email").max(255),phone:He().trim().regex(/^\+968\s?\d{4}\s?\d{4}$/,"Invalid phone number"),licenseNumber:He().trim().min(1,"License number is required").max(50),busNumber:He().trim().min(1,"Bus number is required").max(20),route:He().trim().min(1,"Route is required").max(200),experience:He().min(1,"Experience is required").max(50),emergencyContact:He().trim().regex(/^\+968\s?\d{4}\s?\d{4}$/,"Invalid emergency contact"),password:He().min(6,"Password must be at least 6 characters").max(100)});function OEe({isOpen:e,onClose:t}){const{t:n,language:r}=Te(),[a,i]=m.useState({name:"",nameAr:"",email:"",phone:"",licenseNumber:"",busNumber:"",route:"",experience:"",emergencyContact:"",password:""}),o=()=>{try{TEe.parse(a),ae({title:n("common.save"),description:r==="en"?"Driver profile created successfully":"    "}),t(),i({name:"",nameAr:"",email:"",phone:"",licenseNumber:"",busNumber:"",route:"",experience:"",emergencyContact:"",password:""})}catch(l){l instanceof As&&ae({title:r==="en"?"Validation Error":"  ",description:l.errors[0].message,variant:"destructive"})}};return s.jsx(qe,{open:e,onOpenChange:t,children:s.jsxs(Ve,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:r==="en"?"Add New Driver":"  "})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"name",children:r==="en"?"Name *":" *"}),s.jsx(F,{id:"name",value:a.name,onChange:l=>i({...a,name:l.target.value}),placeholder:r==="en"?"Ali Mohammed":" ",maxLength:100})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"nameAr",children:r==="en"?"Name (Arabic) *":" () *"}),s.jsx(F,{id:"nameAr",value:a.nameAr,onChange:l=>i({...a,nameAr:l.target.value}),placeholder:" ",dir:"rtl",maxLength:100})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"email",children:r==="en"?"Email *":"  *"}),s.jsx(F,{id:"email",type:"email",value:a.email,onChange:l=>i({...a,email:l.target.value}),placeholder:"driver@school.om",maxLength:255})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"password",children:r==="en"?"Password *":"  *"}),s.jsx(F,{id:"password",type:"password",value:a.password,onChange:l=>i({...a,password:l.target.value}),placeholder:r==="en"?"Min 6 characters":"6   ",maxLength:100})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"phone",children:r==="en"?"Phone *":" *"}),s.jsx(F,{id:"phone",value:a.phone,onChange:l=>i({...a,phone:l.target.value}),placeholder:"+968 9123 4567"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"emergencyContact",children:r==="en"?"Emergency Contact *":"  *"}),s.jsx(F,{id:"emergencyContact",value:a.emergencyContact,onChange:l=>i({...a,emergencyContact:l.target.value}),placeholder:"+968 9345 6789"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"licenseNumber",children:r==="en"?"License Number *":"  *"}),s.jsx(F,{id:"licenseNumber",value:a.licenseNumber,onChange:l=>i({...a,licenseNumber:l.target.value}),placeholder:"DL123456",maxLength:50})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"busNumber",children:r==="en"?"Bus Number *":"  *"}),s.jsx(F,{id:"busNumber",value:a.busNumber,onChange:l=>i({...a,busNumber:l.target.value}),placeholder:"BUS-001",maxLength:20})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"route",children:r==="en"?"Route *":" *"}),s.jsx(F,{id:"route",value:a.route,onChange:l=>i({...a,route:l.target.value}),placeholder:r==="en"?"Al Khuwair - Ruwi - Al Seeb":" -  - ",maxLength:200})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"experience",children:r==="en"?"Experience *":" *"}),s.jsx(F,{id:"experience",value:a.experience,onChange:l=>i({...a,experience:l.target.value}),placeholder:r==="en"?"5 years":"5 ",maxLength:50})]})]}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:t,children:n("common.cancel")}),s.jsx($,{onClick:o,children:n("common.save")})]})]})})}const Vh=[{id:"1",busNumber:"BUS-001",driverName:"Ali Mohammed",driverNameAr:" ",driverPhone:"+968 9123 4567",driverImage:"",capacity:50,currentStudents:42,route:"Al Khuwair - Ruwi - Al Seeb",status:"active",lastLocation:"Al Khuwair",lastUpdate:"2 minutes ago"},{id:"2",busNumber:"BUS-002",driverName:"Hassan Ibrahim",driverNameAr:" ",driverPhone:"+968 9234 5678",driverImage:"",capacity:45,currentStudents:38,route:"Qurum - Al Ghubra - Al Azaiba",status:"active",lastLocation:"Qurum",lastUpdate:"5 minutes ago"},{id:"3",busNumber:"BUS-003",driverName:"Khalid Ahmed",driverNameAr:" ",driverPhone:"+968 9345 6789",driverImage:"",capacity:50,currentStudents:0,route:"Bousher - Al Amerat",status:"maintenance",lastLocation:"School Garage",lastUpdate:"1 hour ago"},{id:"4",busNumber:"BUS-004",driverName:"Said Al-Habsi",driverNameAr:" ",driverPhone:"+968 9456 7890",driverImage:"",capacity:48,currentStudents:35,route:"Al Hail - Al Mawaleh",status:"active",lastLocation:"Al Hail",lastUpdate:"1 minute ago"}];function MEe(){const{user:e}=ot(),{t,language:n}=Te(),r=ur();m.useState(null);const[a,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState(null);console.log("Transport component rendered, navigate function:",typeof r);const u=y=>{d(y),i(!0)},h=()=>{ae({title:t("common.save"),description:n==="ar"?"    ":"Bus information updated successfully"}),i(!1)},f=()=>{ae({title:n==="ar"?"    ":"Email Account Created",description:n==="ar"?"      ":"Driver email account has been created successfully"})},p=y=>{switch(y){case"active":return"bg-success/10 text-success";case"inactive":return"bg-muted text-muted-foreground";case"maintenance":return"bg-warning/10 text-warning";default:return""}},g=Vh.filter(y=>y.status==="active"),v=Vh.reduce((y,x)=>y+x.capacity,0),j=Vh.reduce((y,x)=>y+x.currentStudents,0);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:t("dashboard.transport")}),s.jsx("p",{className:"text-muted-foreground",children:n==="en"?"Manage school transportation and buses":"   "})]}),(e==null?void 0:e.role)==="admin"&&s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(Vd,{to:"/dashboard/transport/drivers",children:s.jsxs($,{children:[s.jsx(pu,{className:"h-4 w-4 mr-2"}),n==="en"?"Manage Drivers":" "]})}),s.jsx(Vd,{to:"/dashboard/transport/buses",children:s.jsxs($,{children:[s.jsx(bn,{className:"h-4 w-4 mr-2"}),n==="en"?"Manage Buses":" "]})}),s.jsx(Vd,{to:"/dashboard/transport/routes",children:s.jsxs($,{children:[s.jsx(OJ,{className:"h-4 w-4 mr-2"}),n==="en"?"Manage Routes":" "]})})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:n==="en"?"Total Buses":" "})}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:Vh.length})})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:n==="en"?"Active Buses":" "})}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold text-success",children:g.length})})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:n==="en"?"Total Capacity":" "})}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:v})})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:n==="en"?"Current Students":" "})}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:j})})]})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Vh.map(y=>s.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bn,{className:"h-5 w-5 text-primary"}),s.jsx(ne,{className:"text-lg",children:y.busNumber}),y.status==="active"&&s.jsx("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"})]}),s.jsxs(ce,{className:p(y.status),children:[y.status==="active"&&s.jsx(Xf,{className:"h-3 w-3 mr-1"}),y.status==="active"?n==="ar"?"":"active":y.status==="inactive"?n==="ar"?" ":"inactive":n==="ar"?"":"maintenance"]})]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(fn,{className:"h-10 w-10",children:[s.jsx(sr,{src:y.driverImage}),s.jsx(mn,{children:y.driverName.charAt(0)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:n==="en"?y.driverName:y.driverNameAr}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(Ku,{className:"h-3 w-3"}),y.driverPhone]})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[s.jsx(jt,{className:"h-3 w-3"}),n==="en"?"Students":""]}),s.jsxs("span",{className:"font-medium",children:[y.currentStudents,"/",y.capacity]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[s.jsx(ka,{className:"h-3 w-3"}),n==="en"?"Last Location":" "]}),s.jsx("span",{className:"font-medium text-xs",children:y.lastLocation})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[s.jsx(dr,{className:"h-3 w-3"}),n==="en"?"Updated":""]}),s.jsx("span",{className:"text-xs",children:y.lastUpdate})]})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:n==="en"?"Route":""}),s.jsx("p",{className:"text-sm font-medium",children:y.route})]}),(e==null?void 0:e.role)==="admin"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs($,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>u(y),children:[s.jsx(Yn,{className:"h-3 w-3 mr-1"}),n==="en"?"Edit":""]}),s.jsx($,{size:"sm",variant:"outline",className:"flex-1",onClick:f,children:n==="en"?"Create Email":" "})]})]})]},y.id))}),s.jsx(qe,{open:a,onOpenChange:i,children:s.jsxs(Ve,{children:[s.jsx(Ke,{children:s.jsx(Ge,{children:n==="en"?"Edit Bus Information":"  "})}),c&&s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"busNumber",children:n==="ar"?" ":"Bus Number"}),s.jsx(F,{id:"busNumber",value:c.busNumber,onChange:y=>d({...c,busNumber:y.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"driverName",children:n==="ar"?" ":"Driver Name"}),s.jsx(F,{id:"driverName",value:c.driverName,onChange:y=>d({...c,driverName:y.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"driverPhone",children:n==="ar"?" ":"Driver Phone"}),s.jsx(F,{id:"driverPhone",value:c.driverPhone,onChange:y=>d({...c,driverPhone:y.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"route",children:n==="ar"?"":"Route"}),s.jsx(F,{id:"route",value:c.route,onChange:y=>d({...c,route:y.target.value})})]})]}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>i(!1),children:t("common.cancel")}),s.jsx($,{onClick:h,children:t("common.save")})]})]})}),s.jsx(OEe,{isOpen:o,onClose:()=>l(!1)})]})}const ob={sandwich:HS,pizza:N5,soup:C5,apple:xy,coffee:jy,fish:v5,wheat:T5,utensils:Qa};function nq(){const{language:e}=Te(),{executeAsync:t}=mA(),[n,r]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState(!1),[c,d]=m.useState(null),[u,h]=m.useState({serving_time:"lunch",category:"lunch",price:0,calories:0,ingredients:[],allergens:[],available_days:[],is_vegetarian:!1,is_gluten_free:!1,is_dairy_free:!1,max_orders:50,icon:"utensils"});m.useEffect(()=>{t(async()=>{await f()})},[]);const f=async()=>{try{const{data:_,error:N}=await V.from("meals").select("*").order("created_at",{ascending:!1});if(N)throw N;r(_||[])}catch(_){ae({title:e==="ar"?"":"Error",description:_.message,variant:"destructive"})}finally{i(!1)}},p=async()=>{if(!u.name||!u.name_ar){ae({title:e==="en"?"Error":"",description:e==="en"?"Please fill in all required fields":"    ",variant:"destructive"});return}try{if(c){const{data:_,error:N}=await V.from("meals").update({name:u.name,name_ar:u.name_ar,description:u.description,description_ar:u.description_ar,category:u.category,serving_time:u.serving_time,price:u.price,calories:u.calories,ingredients:u.ingredients,allergens:u.allergens,is_vegetarian:u.is_vegetarian,is_gluten_free:u.is_gluten_free,is_dairy_free:u.is_dairy_free,available_days:u.available_days,max_orders:u.max_orders,icon:u.icon}).eq("id",c.id).select().single();if(N)throw N;r(n.map(C=>C.id===c.id?_:C)),ae({title:e==="en"?"Success":"",description:e==="en"?"Meal updated successfully":"   "})}else{const{data:_,error:N}=await V.from("meals").insert([{name:u.name,name_ar:u.name_ar||null,description:u.description||null,description_ar:u.description_ar||null,category:u.category||"lunch",serving_time:u.serving_time||"lunch",price:u.price||0,calories:u.calories||0,ingredients:u.ingredients||null,allergens:u.allergens||null,is_vegetarian:u.is_vegetarian||!1,is_gluten_free:u.is_gluten_free||!1,is_dairy_free:u.is_dairy_free||!1,available_days:u.available_days||null,max_orders:u.max_orders||50,icon:u.icon||"utensils"}]).select().single();if(N)throw N;r([_,...n]),ae({title:e==="en"?"Success":"",description:e==="en"?"Meal added successfully":"   "})}l(!1),d(null),j()}catch(_){ae({title:e==="en"?"Error":"",description:_.message,variant:"destructive"})}},g=async _=>{try{const{error:N}=await V.from("meals").delete().eq("id",_);if(N)throw N;r(n.filter(C=>C.id!==_)),ae({title:e==="en"?"Success":"",description:e==="en"?"Meal deleted successfully":"   "})}catch(N){ae({title:e==="en"?"Error":"",description:N.message,variant:"destructive"})}},v=_=>{d(_),h(_),l(!0)},j=()=>{h({serving_time:"lunch",category:"lunch",price:0,calories:0,ingredients:[],allergens:[],available_days:[],is_vegetarian:!1,is_gluten_free:!1,is_dairy_free:!1,max_orders:50,icon:"utensils"})},y=_=>{h(N=>{var C;return{...N,available_days:(C=N.available_days)!=null&&C.includes(_)?N.available_days.filter(k=>k!==_):[...N.available_days||[],_]}})},x=u.icon?ob[u.icon]:Qa,w=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],b=_=>{const N=new Date,C=N.getDay(),k=(_-C+7)%7||7;return nr(N,k)},S=_=>n.filter(N=>{var C;return(C=N.available_days)==null?void 0:C.includes(_.toLowerCase())});return a?s.jsx(Pt,{fullScreen:!0}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fu,{className:"h-8 w-8 text-primary"}),s.jsx("h1",{className:"text-2xl font-bold",children:e==="en"?"Kitchen Management":" "})]}),s.jsxs($,{onClick:()=>{j(),d(null),l(!0)},children:[s.jsx(pn,{className:"h-4 w-4 mr-2"}),e==="en"?"Add Meal":" "]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(q,{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="en"?"Breakfast Items":" "}),s.jsx("p",{className:"text-2xl font-bold",children:n.filter(_=>_.category==="breakfast").length})]}),s.jsx(jy,{className:"h-8 w-8 text-orange-500"})]})})}),s.jsx(q,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="en"?"Lunch Items":" "}),s.jsx("p",{className:"text-2xl font-bold",children:n.filter(_=>_.category==="lunch").length})]}),s.jsx(Qa,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(q,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="en"?"Snacks":" "}),s.jsx("p",{className:"text-2xl font-bold",children:n.filter(_=>_.category==="snack").length})]}),s.jsx(xy,{className:"h-8 w-8 text-purple-500"})]})})}),s.jsx(q,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20",children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="en"?"Total Meals":" "}),s.jsx("p",{className:"text-2xl font-bold",children:n.length})]}),s.jsx(fu,{className:"h-8 w-8 text-blue-500"})]})})})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-5 w-5"}),e==="en"?"Weekly Menu":" "]})}),s.jsx(G,{children:s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-4",children:w.map((_,N)=>{const C=S(_),k=b(N+1);return s.jsxs(q,{className:"border-2",children:[s.jsx(te,{className:"pb-3",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold capitalize",children:e==="en"?_:_==="monday"?"":_==="tuesday"?"":_==="wednesday"?"":_==="thursday"?"":_==="friday"?"":_==="saturday"?"":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:De(k,"MMM dd")})]})}),s.jsx(G,{className:"pt-0",children:s.jsx(Gn,{className:"h-[200px]",children:C.length>0?s.jsx("div",{className:"space-y-2",children:C.map(A=>{const O=ob[A.icon]||Qa;return s.jsx("div",{className:"p-2 rounded-lg bg-secondary/50 hover:bg-secondary/70 transition-colors cursor-pointer",onClick:()=>v(A),children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(O,{className:"h-4 w-4 mt-1 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:e==="en"?A.name:A.name_ar}),s.jsx(ce,{variant:"outline",className:"text-xs mt-1",children:A.serving_time})]})]})},A.id)})}):s.jsx("p",{className:"text-center text-sm text-muted-foreground py-8",children:e==="en"?"No meals":"  "})})})]},_)})})})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:e==="en"?"All Meals":" "})}),s.jsx(G,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(_=>{const N=ob[_.icon]||Qa;return s.jsx(q,{className:"hover:shadow-lg transition-shadow",children:s.jsxs(G,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(N,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:e==="en"?_.name:_.name_ar}),s.jsx(ce,{variant:"secondary",className:"mt-1",children:_.category})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>v(_),children:s.jsx(Yn,{className:"h-4 w-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>g(_.id),children:s.jsx($n,{className:"h-4 w-4"})})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e==="en"?_.description:_.description_ar}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:e==="en"?"Price":""}),s.jsxs("span",{className:"font-medium",children:[_.price," OMR"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:e==="en"?"Calories":""}),s.jsxs("span",{className:"font-medium flex items-center gap-1",children:[s.jsx(x5,{className:"h-3 w-3 text-orange-500"}),_.calories]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:e==="en"?"Serving":""}),s.jsxs(ce,{variant:"outline",children:[s.jsx(dr,{className:"h-3 w-3 mr-1"}),_.serving_time]})]})]}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[_.is_vegetarian&&s.jsx(ce,{variant:"outline",className:"text-xs",children:e==="en"?"Vegetarian":""}),_.is_gluten_free&&s.jsx(ce,{variant:"outline",className:"text-xs",children:e==="en"?"Gluten-Free":"  "}),_.is_dairy_free&&s.jsx(ce,{variant:"outline",className:"text-xs",children:e==="en"?"Dairy-Free":"  "})]})]})},_.id)})})})]}),s.jsx(qe,{open:o,onOpenChange:l,children:s.jsxs(Ve,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ke,{children:s.jsxs(Ge,{className:"flex items-center gap-2",children:[s.jsx(x,{className:"h-5 w-5"}),c?e==="en"?"Edit Meal":" ":e==="en"?"Add New Meal":"  "]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Name (English)":" ()"}),s.jsx(F,{value:u.name||"",onChange:_=>h({...u,name:_.target.value}),placeholder:e==="en"?"Meal name":" "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Name (Arabic)":" ()"}),s.jsx(F,{value:u.name_ar||"",onChange:_=>h({...u,name_ar:_.target.value}),placeholder:e==="en"?" ":"Meal name",dir:"rtl"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Description (English)":" ()"}),s.jsx(kr,{value:u.description||"",onChange:_=>h({...u,description:_.target.value}),placeholder:e==="en"?"Meal description":" "})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Description (Arabic)":" ()"}),s.jsx(kr,{value:u.description_ar||"",onChange:_=>h({...u,description_ar:_.target.value}),placeholder:e==="en"?" ":"Meal description",dir:"rtl"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Category":""}),s.jsxs(Pe,{value:u.category,onValueChange:_=>h({...u,category:_}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"breakfast",children:e==="en"?"Breakfast":""}),s.jsx(K,{value:"lunch",children:e==="en"?"Lunch":""}),s.jsx(K,{value:"snack",children:e==="en"?"Snack":" "})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Serving Time":" "}),s.jsxs(Pe,{value:u.serving_time,onValueChange:_=>h({...u,serving_time:_}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"breakfast",children:e==="en"?"Breakfast":""}),s.jsx(K,{value:"lunch",children:e==="en"?"Lunch":""})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Icon":""}),s.jsxs(Pe,{value:u.icon,onValueChange:_=>h({...u,icon:_}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"sandwich",children:"Sandwich"}),s.jsx(K,{value:"pizza",children:"Pizza"}),s.jsx(K,{value:"soup",children:"Soup"}),s.jsx(K,{value:"apple",children:"Apple"}),s.jsx(K,{value:"coffee",children:"Coffee"}),s.jsx(K,{value:"fish",children:"Fish"}),s.jsx(K,{value:"wheat",children:"Wheat"}),s.jsx(K,{value:"utensils",children:"Utensils"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Price (OMR)":" ()"}),s.jsx(F,{type:"number",step:"0.1",value:u.price||0,onChange:_=>h({...u,price:parseFloat(_.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Calories":" "}),s.jsx(F,{type:"number",value:u.calories||0,onChange:_=>h({...u,calories:parseInt(_.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Max Orders":"  "}),s.jsx(F,{type:"number",value:u.max_orders||50,onChange:_=>h({...u,max_orders:parseInt(_.target.value)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Available Days":" "}),s.jsx("div",{className:"flex flex-wrap gap-3",children:w.map(_=>{var N;return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(un,{checked:((N=u.available_days)==null?void 0:N.includes(_))||!1,onCheckedChange:()=>y(_)}),s.jsx(T,{className:"capitalize cursor-pointer",children:e==="en"?_:_==="monday"?"":_==="tuesday"?"":_==="wednesday"?"":_==="thursday"?"":_==="friday"?"":_==="saturday"?"":""})]},_)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Dietary Options":"  "}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(un,{checked:u.is_vegetarian||!1,onCheckedChange:_=>h({...u,is_vegetarian:_})}),s.jsx(T,{className:"cursor-pointer",children:e==="en"?"Vegetarian":""})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(un,{checked:u.is_gluten_free||!1,onCheckedChange:_=>h({...u,is_gluten_free:_})}),s.jsx(T,{className:"cursor-pointer",children:e==="en"?"Gluten-Free":"  "})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(un,{checked:u.is_dairy_free||!1,onCheckedChange:_=>h({...u,is_dairy_free:_})}),s.jsx(T,{className:"cursor-pointer",children:e==="en"?"Dairy-Free":"  "})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs($,{variant:"outline",onClick:()=>{l(!1),d(null),j()},children:[s.jsx(Xn,{className:"h-4 w-4 mr-2"}),e==="en"?"Cancel":""]}),s.jsxs($,{onClick:p,children:[s.jsx(Wc,{className:"h-4 w-4 mr-2"}),c?e==="en"?"Update Meal":" ":e==="en"?"Add Meal":" "]})]})]})})]})}const OD={sandwich:HS,pizza:N5,soup:C5,apple:xy,coffee:jy,fish:v5,wheat:T5,utensils:Qa};function DEe(){const{language:e}=Te(),{user:t,profile:n}=ot(),[r,a]=m.useState([]),[i,o]=m.useState([]),[l,c]=m.useState("monday");m.useState(!1),m.useState(null),m.useState(""),m.useState("");const d=(n==null?void 0:n.role)==="developer"?sessionStorage.getItem("developerViewRole")||"developer":n==null?void 0:n.role;m.useState("menu"),m.useState([]);const[u,h]=m.useState(0),[f,p]=m.useState(!0);m.useEffect(()=>{v(),j(),g();const b=V.channel("meals-changes").on("postgres_changes",{event:"*",schema:"public",table:"meals"},()=>{v()}).subscribe(),S=V.channel("orders-changes").on("postgres_changes",{event:"*",schema:"public",table:"meal_orders"},()=>{j()}).subscribe();return()=>{V.removeChannel(b),V.removeChannel(S)}},[n==null?void 0:n.id]);const g=async()=>{if(t!=null&&t.id)try{const{data:b,error:S}=await V.from("wallet_balances").select("balance").eq("user_id",t.id).single();if(S)throw S;h((b==null?void 0:b.balance)||0)}catch(b){console.error("Error fetching wallet balance:",b)}},v=async()=>{try{const{data:b,error:S}=await V.from("meals").select("*").order("created_at",{ascending:!1});if(S)throw S;a(b||[])}catch(b){console.error("Error fetching meals:",b)}finally{p(!1)}},j=async()=>{if(n!=null&&n.id)try{const{data:b,error:S}=await V.from("meal_orders").select(`
          *,
          meal:meals(*)
        `).eq("parent_id",n.id).order("created_at",{ascending:!1});if(S)throw S;if(b){const _=b.map(N=>({id:N.id,mealId:N.meal_id,dayOfWeek:"",studentName:"",specialNotes:N.special_instructions||"",status:N.status,orderedAt:new Date(N.created_at),startDate:N.order_date}));o(_)}}catch(b){console.error("Error fetching orders:",b)}},y=[{value:"monday",label:e==="en"?"Monday":""},{value:"tuesday",label:e==="en"?"Tuesday":""},{value:"wednesday",label:e==="en"?"Wednesday":""},{value:"thursday",label:e==="en"?"Thursday":""},{value:"friday",label:e==="en"?"Friday":""},{value:"saturday",label:e==="en"?"Saturday":""},{value:"sunday",label:e==="en"?"Sunday":""}],x=r.filter(b=>{var S;return(S=b.available_days)==null?void 0:S.includes(l)}),w=i.filter(b=>!0);return w.filter(b=>b.status==="confirmed"),w.filter(b=>b.status==="pending"),d==="admin"?s.jsx(nq,{}):d!=="parent"&&d!=="student"?s.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:s.jsxs(q,{className:"p-8 text-center",children:[s.jsx(fu,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:e==="en"?"Access Restricted":" "}),s.jsx("p",{className:"text-muted-foreground",children:e==="en"?"This section is available for parents and students only":"     "})]})}):f?s.jsx(Pt,{fullScreen:!0}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(fu,{className:"h-8 w-8"}),e==="en"?"School Kitchen":" "]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:e==="en"?"View meals and weekly menu from our school kitchen":"      "})]})}),s.jsx(q,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(T,{className:"min-w-fit",children:e==="en"?"View menu for:":"  :"}),s.jsxs(Pe,{value:l,onValueChange:b=>c(b),children:[s.jsx(ke,{className:"flex-1 max-w-xs",children:s.jsx(Ee,{})}),s.jsx(Ae,{children:y.map(b=>s.jsx(K,{value:b.value,children:b.label},b.value))})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:x.length>0?`${x.length} ${e==="en"?"meals available":" "}`:e==="en"?"No meals available":"   "})]})})}),x.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:e==="en"?"Available Meals":" "}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:x.map(b=>{const S=OD[b.icon]||Qa;return s.jsx(q,{className:"hover:shadow-lg transition-shadow",children:s.jsx(te,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:s.jsx(S,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(ne,{className:"text-lg",children:e==="en"?b.name:b.name_ar}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e==="en"?b.description:b.description_ar}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(dr,{className:"h-3 w-3"}),b.serving_time==="breakfast"?e==="en"?"Breakfast (7-9 AM)":" (7-9 )":e==="en"?"Lunch (12-2 PM)":" (12-2 )"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(x5,{className:"h-3 w-3"}),b.calories," cal"]}),s.jsxs("span",{className:"font-semibold text-primary",children:["OMR ",b.price.toFixed(2)]})]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[b.is_vegetarian&&s.jsx(ce,{variant:"outline",className:"text-xs",children:e==="en"?"Vegetarian":""}),b.is_gluten_free&&s.jsx(ce,{variant:"outline",className:"text-xs",children:e==="en"?"Gluten-Free":"  "}),b.is_dairy_free&&s.jsx(ce,{variant:"outline",className:"text-xs",children:e==="en"?"Dairy-Free":"  "})]}),b.allergens&&b.allergens.length>0&&s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(Dr,{className:"h-3 w-3 text-warning"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[e==="en"?"Contains:":" :"," ",b.allergens.join(", ")]})]})]})]})})},b.id)})})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-5 w-5"}),e==="en"?"Weekly Menu":" "]})}),s.jsx(G,{children:s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-4",children:y.map((b,S)=>{const _=r.filter(C=>{var k;return(k=C.available_days)==null?void 0:k.includes(b.value)}),N=nr(new Date,S);return s.jsxs(q,{className:"border-2",children:[s.jsx(te,{className:"pb-3",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold",children:b.label}),s.jsx("p",{className:"text-xs text-muted-foreground",children:De(N,"MMM dd")})]})}),s.jsx(G,{className:"pt-0",children:s.jsx(Gn,{className:"h-[150px]",children:_.length>0?s.jsx("div",{className:"space-y-2",children:_.map(C=>{const k=OD[C.icon]||Qa;return s.jsx("div",{className:"p-2 rounded-lg bg-secondary/50",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(k,{className:"h-4 w-4 mt-1 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:e==="en"?C.name:C.name_ar}),s.jsx(ce,{variant:"outline",className:"text-xs mt-1",children:C.serving_time})]})]})},C.id)})}):s.jsx("p",{className:"text-center text-sm text-muted-foreground py-8",children:e==="en"?"No meals":"  "})})})]},b.value)})})})]})]})}function REe(){const{user:e,profile:t}=ot(),{t:n,language:r}=Te(),[a,i]=m.useState(0),[o,l]=m.useState([]),c=(t==null?void 0:t.role)==="developer"?sessionStorage.getItem("developerViewRole")||"developer":t==null?void 0:t.role,[d,u]=m.useState([]);m.useEffect(()=>{e&&(f(),p(),h());const g=V.channel("canteen-items-changes").on("postgres_changes",{event:"*",schema:"public",table:"canteen_items"},()=>{h()}).subscribe();return()=>{V.removeChannel(g)}},[e]);const h=async()=>{try{const{data:g,error:v}=await V.from("canteen_items").select("*").eq("available",!0).order("category",{ascending:!0});if(v)throw v;const j=(g==null?void 0:g.map(y=>({id:y.id,name:y.name,nameAr:y.name_ar||y.name,price:y.price,category:y.category,available:y.available,icon:y.icon===""?HS:y.icon===""?jy:y.icon===""?xy:Lr})))||[];u(j)}catch(g){console.error("Error fetching menu items:",g)}},f=async()=>{try{const{data:g,error:v}=await V.from("wallet_balances").select("balance").eq("user_id",e==null?void 0:e.id).maybeSingle();if(v)throw v;i((g==null?void 0:g.balance)||0)}catch(g){console.error("Error fetching wallet balance:",g)}},p=async()=>{try{const{data:g,error:v}=await V.from("wallet_transactions").select("*").eq("user_id",e==null?void 0:e.id).eq("type","purchase").ilike("description","%canteen%").order("created_at",{ascending:!1}).limit(10);if(v)throw v;l(g||[])}catch(g){console.error("Error fetching purchase history:",g)}};return c!=="student"&&c!=="parent"&&c!=="admin"&&c!=="developer"?s.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:s.jsxs(q,{className:"p-8 text-center",children:[s.jsx(Lr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:r==="en"?"Access Restricted":" "}),s.jsx("p",{className:"text-muted-foreground",children:r==="en"?"This section is available for students and parents only":"     "})]})}):c==="admin"?s.jsx(zC,{}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:n("dashboard.canteen")}),s.jsx("p",{className:"text-muted-foreground",children:r==="en"?"School canteen menu":"  "})]}),s.jsx(q,{className:"bg-gradient-to-br from-primary/10 to-primary/5",children:s.jsx(G,{className:"pt-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Cr,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:r==="en"?"Wallet Balance":" "}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:r==="ar"?`${a.toFixed(2)} .`:`OMR ${a.toFixed(2)}`})]})]})})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:r==="en"?"Menu Items":" "}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:d.map(g=>s.jsxs(q,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(te,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(g.icon,{className:"h-8 w-8 text-primary"}),s.jsx(ce,{variant:g.available?"default":"secondary",children:g.available?r==="en"?"Available":"":r==="en"?"Sold Out":""})]})}),s.jsxs(G,{children:[s.jsx("p",{className:"font-medium text-lg mb-1",children:r==="en"?g.name:g.nameAr}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:g.category}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("span",{className:"text-xl font-bold text-primary",children:r==="ar"?`${g.price.toFixed(2)} .`:`OMR ${g.price.toFixed(2)}`})})]})]},g.id))})]}),o.length>0&&s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:r==="en"?"Recent Purchases":" "})}),s.jsx(G,{children:s.jsx("div",{className:"space-y-3",children:o.slice(0,5).map(g=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent/5 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(so,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:r==="ar"&&g.description_ar||g.description}),s.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(g.created_at).toLocaleString(r==="ar"?"ar-SA":"en-US")})]})]}),s.jsx("span",{className:"font-medium text-red-600",children:r==="ar"?`${Math.abs(g.amount).toFixed(2)} .`:`OMR ${Math.abs(g.amount).toFixed(2)}`})]},g.id))})})]})]})}function IEe(){const{language:e}=Te(),{user:t,profile:n}=ot(),[r,a]=m.useState("thisMonth"),[i,o]=m.useState("all"),[l,c]=m.useState(""),d=[{id:"1",title:"Monthly Attendance Report",titleAr:"  ",type:"attendance",date:new Date,status:"completed",generatedBy:(n==null?void 0:n.full_name)||"System",description:"Comprehensive attendance analysis for all students",descriptionAr:"    "},{id:"2",title:"Bus Route Efficiency Report",titleAr:"   ",type:"transport",date:tc(new Date,2),status:"completed",generatedBy:"Ali Mohammed",description:"Analysis of bus routes and timing optimization",descriptionAr:"    "},{id:"3",title:"Student Performance Overview",titleAr:"    ",type:"performance",date:tc(new Date,5),status:"processing",generatedBy:"Academic Department",description:"Quarterly academic performance metrics",descriptionAr:"    "},{id:"4",title:"Financial Summary Report",titleAr:"  ",type:"financial",date:tc(new Date,7),status:"completed",generatedBy:"Finance Department",description:"Monthly financial transactions and fee collection",descriptionAr:"    "},{id:"5",title:"Safety Incident Report",titleAr:"  ",type:"incident",date:tc(new Date,10),status:"completed",generatedBy:"Safety Officer",description:"Documentation of safety incidents and resolutions",descriptionAr:"   "}],u=[{title:e==="en"?"Total Reports":" ",value:"156",change:"+12%",icon:Vt,color:"text-primary"},{title:e==="en"?"This Month":" ",value:"24",change:"+8%",icon:ft,color:"text-accent"},{title:e==="en"?"Pending":" ",value:"3",change:"-2",icon:dr,color:"text-warning"},{title:e==="en"?"Completed":"",value:"21",change:"+10",icon:Cs,color:"text-success"}],h=g=>{const j={completed:{label:e==="en"?"Completed":"",variant:"default"},pending:{label:e==="en"?"Pending":" ",variant:"outline"},processing:{label:e==="en"?"Processing":" ",variant:"secondary"}}[g];return s.jsx(ce,{variant:j.variant,children:j.label})},f=g=>{switch(g){case"attendance":return s.jsx(jt,{className:"h-4 w-4"});case"transport":return s.jsx(bn,{className:"h-4 w-4"});case"incident":return s.jsx(Dr,{className:"h-4 w-4"});case"performance":return s.jsx(bs,{className:"h-4 w-4"});case"financial":return s.jsx($r,{className:"h-4 w-4"});default:return s.jsx(Vt,{className:"h-4 w-4"})}},p=d.filter(g=>{if(i!=="all"&&g.type!==i)return!1;if(l){const v=l.toLowerCase();return g.title.toLowerCase().includes(v)||g.titleAr.includes(v)||g.description.toLowerCase().includes(v)||g.descriptionAr.includes(v)}return!0});if((t==null?void 0:t.role)==="driver"){const g=d.filter(v=>v.type==="transport"||v.type==="incident");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(Vt,{className:"h-8 w-8"}),e==="en"?"My Reports":""]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:e==="en"?"View and manage your driving reports":"     "})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsx(q,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="en"?"Total Reports":" "}),s.jsx("p",{className:"text-2xl font-bold",children:"12"})]}),s.jsx(Vt,{className:"h-8 w-8 text-primary"})]})})}),s.jsx(q,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="en"?"This Month":" "}),s.jsx("p",{className:"text-2xl font-bold",children:"3"})]}),s.jsx(ft,{className:"h-8 w-8 text-accent"})]})})}),s.jsx(q,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="en"?"Incidents":""}),s.jsx("p",{className:"text-2xl font-bold",children:"0"})]}),s.jsx(Dr,{className:"h-8 w-8 text-success"})]})})})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:e==="en"?"Recent Reports":" "})}),s.jsx(G,{children:s.jsx(Gn,{className:"h-96",children:s.jsx("div",{className:"space-y-3",children:g.map(v=>s.jsx("div",{className:"p-4 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-background rounded-lg",children:f(v.type)}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:e==="en"?v.title:v.titleAr}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e==="en"?v.description:v.descriptionAr}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ft,{className:"h-3 w-3"}),De(v.date,"MMM dd, yyyy")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(jt,{className:"h-3 w-3"}),v.generatedBy]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[h(v.status),s.jsx($,{size:"sm",variant:"ghost",children:s.jsx(br,{className:"h-4 w-4"})})]})]})},v.id))})})})]})]})}return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(Vt,{className:"h-8 w-8"}),e==="en"?"Reports & Analytics":" "]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:e==="en"?"Generate and view comprehensive school reports":"    "})]}),s.jsxs($,{className:"gap-2",children:[s.jsx(br,{className:"h-4 w-4"}),e==="en"?"Export All":" "]})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:u.map((g,v)=>s.jsx(q,{children:s.jsx(G,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:g.title}),s.jsx("p",{className:"text-2xl font-bold",children:g.value}),s.jsxs("p",{className:`text-xs mt-1 ${g.change.startsWith("+")?"text-success":"text-destructive"}`,children:[g.change," ",e==="en"?"from last month":"  "]})]}),s.jsx(g.icon,{className:`h-8 w-8 ${g.color}`})]})})},v))}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(g5,{className:"h-5 w-5"}),e==="en"?"Filters":""]})}),s.jsx(G,{children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:e==="en"?"Search":""}),s.jsx(F,{placeholder:e==="en"?"Search reports...":"  ...",value:l,onChange:g=>c(g.target.value)})]}),s.jsxs("div",{children:[s.jsx(T,{children:e==="en"?"Type":""}),s.jsxs(Pe,{value:i,onValueChange:o,children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"all",children:e==="en"?"All Types":" "}),s.jsx(K,{value:"attendance",children:e==="en"?"Attendance":""}),s.jsx(K,{value:"transport",children:e==="en"?"Transport":""}),s.jsx(K,{value:"performance",children:e==="en"?"Performance":""}),s.jsx(K,{value:"financial",children:e==="en"?"Financial":""}),s.jsx(K,{value:"incident",children:e==="en"?"Incidents":""})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:e==="en"?"Date Range":" "}),s.jsxs(Pe,{value:r,onValueChange:a,children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"today",children:e==="en"?"Today":""}),s.jsx(K,{value:"thisWeek",children:e==="en"?"This Week":" "}),s.jsx(K,{value:"thisMonth",children:e==="en"?"This Month":" "}),s.jsx(K,{value:"lastMonth",children:e==="en"?"Last Month":" "}),s.jsx(K,{value:"thisYear",children:e==="en"?"This Year":" "})]})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx($,{className:"w-full",children:e==="en"?"Generate Report":" "})})]})})]}),s.jsxs(gn,{defaultValue:"all",className:"space-y-4",dir:e==="ar"?"rtl":"ltr",children:[s.jsxs(sn,{className:e==="ar"?"flex-row-reverse":"",children:[s.jsx(_e,{value:"all",children:e==="en"?"All Reports":" "}),s.jsx(_e,{value:"analytics",children:e==="en"?"Analytics":""}),s.jsx(_e,{value:"scheduled",children:e==="en"?"Scheduled":""})]}),s.jsx(Re,{value:"all",children:s.jsx(q,{children:s.jsx(G,{className:"p-0",children:s.jsx(Gn,{className:"h-[500px]",children:s.jsx("div",{className:"p-6 space-y-3",children:p.map(g=>s.jsx("div",{className:"p-4 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-background rounded-lg",children:f(g.type)}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:e==="en"?g.title:g.titleAr}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e==="en"?g.description:g.descriptionAr}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ft,{className:"h-3 w-3"}),De(g.date,"MMM dd, yyyy")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(jt,{className:"h-3 w-3"}),g.generatedBy]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[h(g.status),s.jsx($,{size:"sm",variant:"ghost",children:s.jsx(br,{className:"h-4 w-4"})})]})]})},g.id))})})})})}),s.jsx(Re,{value:"analytics",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(vJ,{className:"h-5 w-5"}),e==="en"?"Report Distribution":" "]})}),s.jsx(G,{children:s.jsx("div",{className:"h-64 flex items-center justify-center bg-muted rounded-lg",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="en"?"Chart visualization here":"   "})})})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(zS,{className:"h-5 w-5"}),e==="en"?"Monthly Trends":" "]})}),s.jsx(G,{children:s.jsx("div",{className:"h-64 flex items-center justify-center bg-muted rounded-lg",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="en"?"Trend analysis here":"  "})})})]})]})}),s.jsx(Re,{value:"scheduled",children:s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:e==="en"?"Scheduled Reports":" "})}),s.jsx(G,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Xf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:e==="en"?"No scheduled reports. Set up automatic report generation.":"   .     ."}),s.jsx($,{className:"mt-4",children:e==="en"?"Schedule Report":" "})]})})]})})]})]})}function $Ee({isOpen:e,onClose:t,userData:n,onSuccess:r}){const{language:a}=Te(),[i,o]=m.useState("idle"),[l,c]=m.useState(""),[d,u]=m.useState(""),[h,f]=m.useState(!1);m.useEffect(()=>{e&&(o("idle"),c(n.nfcId||p()),u(""))},[e,n]);const p=()=>{const x=n.role==="teacher"?"TCH":"STD",w=Math.floor(Math.random()*1e9).toString().padStart(9,"0");return`${x}-${w}`},g=async()=>{o("scanning"),f(!0),setTimeout(()=>{o("writing"),setTimeout(()=>{o("success"),r&&r(l),setTimeout(()=>{t()},2e3)},2e3)},2e3)},v=()=>{o("idle"),u("")},j=()=>{switch(i){case"scanning":return s.jsx(Xs,{className:"h-16 w-16 text-primary animate-pulse"});case"writing":return s.jsx(Pt,{size:"large",text:!1});case"success":return s.jsx(Cs,{className:"h-16 w-16 text-green-500"});case"error":return s.jsx(Dr,{className:"h-16 w-16 text-destructive"});default:return s.jsx(Fr,{className:"h-16 w-16 text-muted-foreground"})}},y=()=>{switch(i){case"scanning":return a==="en"?"Place the NFC card near the device...":"  NFC   ...";case"writing":return a==="en"?"Writing data to card...":"    ...";case"success":return a==="en"?"Card programmed successfully!":"   !";case"error":return d||(a==="en"?"Failed to program card":"   ");default:return a==="en"?"Ready to program NFC card":"   NFC"}};return s.jsx(qe,{open:e,onOpenChange:t,children:s.jsxs(Ve,{className:"sm:max-w-[500px] overflow-hidden",children:[s.jsxs(Ke,{children:[s.jsx(Ge,{className:"text-xl font-semibold",children:a==="en"?"NFC Card Programming":"  NFC"}),s.jsx(es,{children:a==="en"?`Program an NFC card for ${n.name}`:`  NFC  ${n.nameAr||n.name}`})]}),s.jsxs("div",{className:"py-8",children:[s.jsxs("div",{className:"mb-6 p-4 bg-muted/50 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:s.jsx(as,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:n.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n.email})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:a==="en"?"Role":""}),s.jsx("p",{className:"font-medium capitalize",children:n.role})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:a==="en"?"NFC ID":" NFC"}),s.jsx("p",{className:"font-mono font-medium text-primary",children:l})]})]})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[s.jsx(uy,{mode:"wait",children:s.jsxs(Tt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.3},className:"relative",children:[i==="scanning"&&s.jsx("div",{className:"absolute inset-0 -m-8",children:s.jsx("div",{className:"h-32 w-32 bg-primary/20 rounded-full animate-ping"})}),s.jsx("div",{className:me("p-8 rounded-full transition-colors duration-300",i==="scanning"&&"bg-primary/10",i==="writing"&&"bg-primary/20",i==="success"&&"bg-green-100",i==="error"&&"bg-red-100",i==="idle"&&"bg-muted"),children:j()})]},i)}),s.jsx(Tt.p,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},className:me("text-center font-medium transition-colors",i==="success"&&"text-green-600",i==="error"&&"text-destructive"),children:y()},i),i==="writing"&&s.jsx("div",{className:"w-full max-w-xs",children:s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx(Tt.div,{className:"h-full bg-primary",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2,ease:"linear"}})})})]})]}),s.jsx(Nt,{children:i==="idle"?s.jsxs(s.Fragment,{children:[s.jsx($,{variant:"outline",onClick:t,children:a==="en"?"Cancel":""}),s.jsxs($,{onClick:g,className:"gap-2",children:[s.jsx(Fr,{className:"h-4 w-4"}),a==="en"?"Start Programming":" "]})]}):i==="error"?s.jsxs(s.Fragment,{children:[s.jsx($,{variant:"outline",onClick:t,children:a==="en"?"Cancel":""}),s.jsx($,{onClick:v,variant:"destructive",children:a==="en"?"Retry":" "})]}):i==="success"?s.jsx($,{onClick:t,className:"w-full",children:a==="en"?"Done":""}):null})]})})}function LEe(){const{language:e}=Te(),{profile:t}=ot(),n=(t==null?void 0:t.role)==="developer",[r,a]=m.useState([]),[i,o]=m.useState([]),[l,c]=m.useState([]),[d,u]=m.useState([]),[h,f]=m.useState([]),[p,g]=m.useState([]),[v,j]=m.useState(!0),[y,x]=m.useState(""),[w,b]=m.useState("all"),[S,_]=m.useState(!1),[N,C]=m.useState([]),[k,A]=m.useState(null),[O,M]=m.useState(!1),[z,P]=m.useState(!1),[E,U]=m.useState(!1),[R,B]=m.useState(null),[L,Q]=m.useState(null),[se,W]=m.useState(!1),[ie,ue]=m.useState(""),[oe,Se]=m.useState("none"),[I,Z]=m.useState(!1),[J,X]=m.useState(""),[he,D]=m.useState({}),[ee,pe]=m.useState(!1),[Oe,Y]=m.useState(null),[ye,We]=m.useState(!1),[_t,Qe]=m.useState(null),[fr,go]=m.useState(!1),[Ie,Sn]=m.useState({email:"",password:"",full_name:"",full_name_ar:"",role:"student",phone:"",address:"",is_active:!0});m.useEffect(()=>{Vn(),vo(),ij(),oj(),aj()},[]);const aj=async()=>{try{const{data:H,error:Ne}=await V.from("classes").select("*").order("name");if(Ne)throw Ne;f(H||[])}catch(H){console.error("Error fetching classes:",H)}},Vn=async()=>{try{const{data:H,error:Ne}=await V.from("profiles").select("*").order("created_at",{ascending:!1});if(Ne)throw Ne;const st=(H||[]).map(ut=>({...ut,linked_entity_type:ut.linked_entity_type,is_active:ut.is_active!==!1}));if(a(st),n){const ut=localStorage.getItem("dev_user_passwords");if(ut)D(JSON.parse(ut));else{const Wr={};(H||[]).forEach(Ua=>{Wr[Ua.id]="Admin123"}),D(Wr),localStorage.setItem("dev_user_passwords",JSON.stringify(Wr))}}}catch(H){fe.error(H.message)}finally{j(!1)}},vo=async()=>{try{const{data:H,error:Ne}=await V.from("students").select(`
          *,
          profiles:profiles!students_profile_id_fkey(*)
        `).order("created_at",{ascending:!1});if(Ne)throw Ne;console.log("Fetched students:",H),o(H||[])}catch(H){console.error("Error fetching students:",H)}},ij=async()=>{try{const{data:H,error:Ne}=await V.from("teachers").select(`
          *,
          profiles:profiles!teachers_profile_id_fkey(*)
        `).order("created_at",{ascending:!1});if(Ne)throw Ne;console.log("Fetched teachers:",H),c(H||[])}catch(H){console.error("Error fetching teachers:",H),fe.error("Failed to fetch teachers")}},oj=async()=>{try{const{data:H,error:Ne}=await V.from("drivers").select(`
          *,
          profiles:profiles!drivers_profile_id_fkey(*)
        `).order("created_at",{ascending:!1});if(Ne)throw Ne;console.log("Fetched drivers:",H),u(H||[])}catch(H){console.error("Error fetching drivers:",H),fe.error("Failed to fetch drivers")}},Zc=H=>`${H.toLowerCase().replace(/[^a-z\s]/gi,"").replace(/\s+/g,".")}@talebedu.com`,lj=async H=>{try{const{data:Ne,error:st}=await V.from("profiles").select("email").eq("email",H).single();return!st&&!!Ne}catch{return!1}},Cp=async H=>{let Ne=Zc(H),st=Ne,ut=1;for(;await lj(st);){const[Wr,Ua]=Ne.split("@");st=`${Wr}${ut}@${Ua}`,ut++}return st},Il=(H,Ne,st,ut)=>{Q({email:H,password:Ne,fullName:st,role:ut}),W(!0)},xi=async H=>{try{let Ne="",st="";if(H.role==="teacher"){const{data:ut}=await V.from("teachers").select("id, nfc_id, employee_id").eq("profile_id",H.id).single();ut&&(Ne=ut.nfc_id||"",st=ut.employee_id)}else if(H.role==="student"){const{data:ut}=await V.from("students").select("id, nfc_id, student_id").eq("profile_id",H.id).single();ut&&(Ne=ut.nfc_id||"",st=ut.student_id)}Y({id:H.id,name:H.full_name,nameAr:H.full_name_ar,role:H.role,nfcId:Ne,email:H.email,entityId:st}),pe(!0)}catch(Ne){console.error("Error fetching NFC data:",Ne),fe.error(e==="en"?"Failed to fetch NFC data":"    NFC")}},kp=async H=>{if(Oe)try{Oe.role==="teacher"?await V.from("teachers").update({nfc_id:H}).eq("profile_id",Oe.id):Oe.role==="student"&&await V.from("students").update({nfc_id:H}).eq("profile_id",Oe.id),fe.success(e==="en"?"NFC card programmed successfully!":"   NFC !"),pe(!1),Y(null)}catch(Ne){console.error("Error updating NFC ID:",Ne),fe.error(e==="en"?"Failed to update NFC ID":"    NFC")}},xo=async()=>{if(!L||!ie){fe.error(e==="en"?"Please enter recipient email":"    ");return}try{const{error:H}=await V.functions.invoke("send-credentials",{body:{email:L.email,password:L.password,fullName:L.fullName,role:L.role,recipientEmail:ie,language:e}});if(H)throw H;fe.success(e==="en"?"Credentials sent via email!":"      !"),W(!1),ue("")}catch(H){fe.error(H.message)}},cj=()=>{if(!L)return;const H=e==="en"?` TalebEdu Login Credentials

Hello ${L.fullName}!

Your account has been created:
 Email: ${L.email}
 Password: ${L.password}
 Role: ${L.role}

 Login at: https://b9b768f5-1a7c-4563-ab9c-d1b25b963f4b.lovableproject.com/auth

 Please change your password after first login for security.`:`    TalebEdu

 ${L.fullName}!

  :
  : ${L.email}
  : ${L.password}
 : ${L.role}

  : https://b9b768f5-1a7c-4563-ab9c-d1b25b963f4b.lovableproject.com/auth

         .`,Ne=`https://wa.me/?text=${encodeURIComponent(H)}`;window.open(Ne,"_blank"),W(!1)},dj=()=>{if(!L)return;const H=e==="en"?`TalebEdu Login: Email: ${L.email}, Password: ${L.password}, Role: ${L.role}. Login: https://b9b768f5-1a7c-4563-ab9c-d1b25b963f4b.lovableproject.com/auth`:`  TalebEdu: : ${L.email}  : ${L.password} : ${L.role}. : https://b9b768f5-1a7c-4563-ab9c-d1b25b963f4b.lovableproject.com/auth`,Ne=`sms:?body=${encodeURIComponent(H)}`;window.location.href=Ne,W(!1)},Ap=async()=>{if(_t){go(!0);try{const{error:H}=await V.functions.invoke("delete-user",{body:{userId:_t.id}});if(H)throw H;fe.success(e==="en"?"User deleted successfully":"   "),Vn(),We(!1),Qe(null)}catch(H){console.error("Error deleting user:",H),fe.error(e==="en"?`Failed to delete user: ${H.message}`:`   : ${H.message}`)}finally{go(!1)}}},gh=H=>{Qe(H),We(!0)},uj=()=>{if(!L)return;const H=`
      <html>
        <head>
          <title>${e==="en"?"Login Credentials":"  "}</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 40px; ${e==="ar"?"direction: rtl;":""} }
            .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
            .credentials { background: #f5f5f5; padding: 20px; border-radius: 8px; margin: 20px 0; }
            .field { margin: 10px 0; }
            .label { font-weight: bold; color: #333; }
            .value { background: white; padding: 8px; border-radius: 4px; margin-left: 10px; font-family: monospace; }
            .footer { margin-top: 40px; text-align: center; color: #666; border-top: 1px solid #ccc; padding-top: 20px; }
          </style>
        </head>
        <body>
          <div class="header">
            <h1> ${e==="en"?"TalebEdu System":" TalebEdu"}</h1>
            <h2>${e==="en"?"Login Credentials":"  "}</h2>
          </div>
          
          <div class="credentials">
            <h3>${e==="en"?"Account Information for:":"  :"} ${L.fullName}</h3>
            
            <div class="field">
              <span class="label">${e==="en"?"Email:":" :"}</span>
              <span class="value">${L.email}</span>
            </div>
            
            <div class="field">
              <span class="label">${e==="en"?"Password:":" :"}</span>
              <span class="value">${L.password}</span>
            </div>
            
            <div class="field">
              <span class="label">${e==="en"?"Role:":":"}</span>
              <span class="value">${L.role}</span>
            </div>
          </div>
          
          <div style="margin: 30px 0; padding: 20px; background: #fff3cd; border-radius: 8px;">
            <h4>${e==="en"?" Login URL:":"   :"}</h4>
            <p style="font-family: monospace; background: white; padding: 10px; border-radius: 4px;">
              https://b9b768f5-1a7c-4563-ab9c-d1b25b963f4b.lovableproject.com/auth
            </p>
          </div>
          
          <div style="margin: 30px 0; padding: 20px; background: #f8d7da; border-radius: 8px; color: #721c24;">
            <h4> ${e==="en"?"Security Notice":" "}</h4>
            <p>${e==="en"?"Please change your password after first login for security reasons.":"         ."}</p>
          </div>
          
          <div class="footer">
            <p>${e==="en"?"Generated on:":"  :"} ${new Date().toLocaleString()}</p>
            <p>${e==="en"?"TalebEdu - School Management System":"TalebEdu -   "}</p>
          </div>
        </body>
      </html>
    `,Ne=window.open("","_blank");Ne&&(Ne.document.write(H),Ne.document.close(),Ne.print()),W(!1)},vh=async()=>{if(!Ie.full_name.trim()){fe.error(e==="en"?"Please enter a full name first":"    ");return}try{const H=await Cp(Ie.full_name);Sn({...Ie,email:H}),fe.success(e==="en"?"Email generated successfully":"    ")}catch{fe.error(e==="en"?"Failed to generate email":"    ")}},la=()=>{const H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%";let Ne="";for(let st=0;st<12;st++)Ne+=H.charAt(Math.floor(Math.random()*H.length));Sn({...Ie,password:Ne})},Pp=H=>{A(H);const Ne=n&&he[H.id]?he[H.id]:"";console.log("Editing user:",H.email,"Stored password:",Ne),Sn({email:H.email,password:Ne,full_name:H.full_name,full_name_ar:H.full_name_ar||"",role:H.role,phone:H.phone||"",address:H.address||"",is_active:H.is_active!==!1}),U(!1),M(!0)},Je=async H=>{if(H.preventDefault(),!!k){j(!0);try{const Ne={full_name:Ie.full_name,full_name_ar:Ie.full_name_ar,role:Ie.role,phone:Ie.phone,address:Ie.address};n&&(Ne.is_active=Ie.is_active);const{error:st}=await V.from("profiles").update(Ne).eq("id",k.id);if(st)throw st;if(Ie.password&&n){const{error:ut}=await V.functions.invoke("update-user-password",{body:{userId:k.id,newPassword:Ie.password}});if(ut)console.error("Password update error:",ut);else{const Wr={...he,[k.id]:Ie.password};D(Wr),localStorage.setItem("dev_user_passwords",JSON.stringify(Wr))}}fe.success(e==="en"?"User updated successfully!":"   !"),M(!1),A(null),Vn(),Vr()}catch(Ne){fe.error(Ne.message)}finally{j(!1)}}},bt=async H=>{H.preventDefault(),j(!0);try{const{data:Ne,error:st}=await V.functions.invoke("create-user",{body:{email:Ie.email,password:Ie.password,role:Ie.role,full_name:Ie.full_name,full_name_ar:Ie.full_name_ar,phone:Ie.phone,parent_user_id:oe&&oe!=="none"&&Ie.role==="student"?oe:null}});if(st)throw console.error("User creation error:",st),new Error(st.message||"Failed to create user");if(!Ne||!Ne.userId)throw new Error("User creation failed - no user ID returned");if(n){const ut={...he,[Ne.userId]:Ie.password};D(ut),localStorage.setItem("dev_user_passwords",JSON.stringify(ut))}if(Ie.role==="teacher"&&p.length>0){const{data:ut}=await V.from("teachers").select("id").eq("profile_id",Ne.userId).single();if(ut){const Wr=p.map(aq=>({teacher_id:ut.id,class_id:aq})),{error:Ua}=await V.from("teacher_classes").insert(Wr);Ua&&console.error("Error assigning classes:",Ua)}}if(Ie.role==="parent"&&oe&&oe!=="none"){const{error:ut}=await V.from("students").update({parent_id:Ne.userId}).eq("id",oe);ut&&(console.error("Error linking parent to student:",ut),fe.error(e==="en"?"Failed to link parent to student":"     "))}fe.success(e==="en"?"User created successfully! Billing: 10 OMR per semester":"   ! : 10     "),Il(Ie.email,Ie.password,Ie.full_name,Ie.role),_(!1),Vn(),Vr(),g([])}catch(Ne){console.error("Full error details:",Ne),fe.error(Ne.message||"Failed to create user")}finally{j(!1)}},Et=async(H,Ne)=>{try{const{error:st}=await V.from("profiles").update({is_active:!Ne}).eq("id",H);if(st)throw st;fe.success(e==="en"?`User ${Ne?"deactivated":"activated"} successfully`:` ${Ne?" ":""}  `),Vn()}catch(st){fe.error(st.message)}},Vr=()=>{Sn({email:"",password:"",full_name:"",full_name_ar:"",role:"student",phone:"",address:"",is_active:!0}),C([]),Se("none")},Ar=H=>{switch(H){case"admin":return"bg-red-100 text-red-800";case"teacher":return"bg-blue-100 text-blue-800";case"student":return"bg-green-100 text-green-800";case"parent":return"bg-purple-100 text-purple-800";case"driver":return"bg-yellow-100 text-yellow-800";case"finance":return"bg-emerald-100 text-emerald-800";case"canteen":return"bg-orange-100 text-orange-800";case"developer":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},ca=r.filter(H=>{const Ne=H.full_name.toLowerCase().includes(y.toLowerCase())||H.email.toLowerCase().includes(y.toLowerCase()),st=w==="all"||H.role===w;return Ne&&st}),yi=r.filter(H=>H.is_active!==!1).length,hs=r.filter(H=>H.is_active===!1).length;return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:e==="en"?"User Management":" "}),s.jsx("p",{className:"text-muted-foreground",children:e==="en"?"Manage system users and permissions":"   "})]}),s.jsxs($,{onClick:()=>_(!0),children:[s.jsx(pn,{className:"mr-2 h-4 w-4"}),e==="en"?"Create User":" "]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(q,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="en"?"Total Users":" "}),s.jsx("p",{className:"text-2xl font-bold",children:r.length})]}),s.jsx(jt,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(q,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="en"?"Active Users":" "}),s.jsx("p",{className:"text-2xl font-bold",children:yi})]}),s.jsx(Hg,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(q,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="en"?"Inactive Users":"  "}),s.jsx("p",{className:"text-2xl font-bold",children:hs})]}),s.jsx(rw,{className:"h-8 w-8 text-red-500"})]})})}),s.jsx(q,{children:s.jsx(G,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="en"?"Billing (10 OMR/user)":" (10 /)"}),s.jsxs("p",{className:"text-2xl font-bold",children:[r.length*10," OMR"]})]}),s.jsx(Fr,{className:"h-8 w-8 text-purple-500"})]})})})]}),s.jsxs(q,{className:"mx-3 md:mx-0",children:[s.jsx(te,{className:"p-3 md:p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-3",children:[s.jsx(ne,{className:"text-base md:text-xl",children:e==="en"?"Users List":" "}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(At,{className:"absolute left-2 top-2.5 h-3 w-3 md:h-4 md:w-4 text-muted-foreground"}),s.jsx(F,{placeholder:e==="en"?"Search...":"...",className:"pl-7 md:pl-8 w-full sm:w-48 md:w-64 text-xs md:text-sm h-8 md:h-10",value:y,onChange:H=>x(H.target.value),dir:"ltr"})]}),s.jsxs(Pe,{value:w,onValueChange:b,children:[s.jsx(ke,{className:"w-full sm:w-32 md:w-40 h-8 md:h-10 text-xs md:text-sm",children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"all",children:e==="en"?"All Roles":" "}),s.jsx(K,{value:"admin",children:e==="en"?"Admin":""}),s.jsx(K,{value:"teacher",children:e==="en"?"Teacher":""}),s.jsx(K,{value:"student",children:e==="en"?"Student":""}),s.jsx(K,{value:"parent",children:e==="en"?"Parent":" "}),s.jsx(K,{value:"driver",children:e==="en"?"Driver":""}),s.jsx(K,{value:"finance",children:e==="en"?"Finance":""}),s.jsx(K,{value:"canteen",children:e==="en"?"Canteen":""}),n&&s.jsx(K,{value:"developer",children:"Developer"})]})]})]})]})}),s.jsxs(G,{className:"p-0 md:p-6",children:[s.jsx("div",{className:"md:hidden",children:s.jsx("div",{className:"divide-y",children:ca.map(H=>s.jsxs("div",{className:"p-3 space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:H.full_name}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:H.email})]}),s.jsx(ce,{className:me("text-[10px] ml-2 flex-shrink-0",Ar(H.role)),children:H.role})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ce,{variant:H.is_active!==!1?"default":"secondary",className:"text-[10px]",children:H.is_active!==!1?e==="en"?"Active":"":e==="en"?"Inactive":" "}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx($,{size:"sm",variant:"ghost",onClick:()=>Pp(H),className:"h-7 w-7 p-0",children:s.jsx(Yn,{className:"h-3 w-3"})}),(H.role==="teacher"||H.role==="student")&&s.jsx($,{size:"sm",variant:"ghost",onClick:()=>xi(H),className:"h-7 w-7 p-0",children:s.jsx(Xs,{className:"h-3 w-3"})}),n&&s.jsx($,{size:"sm",variant:"ghost",onClick:()=>Et(H.id,H.is_active!==!1),className:"h-7 w-7 p-0",children:H.is_active!==!1?s.jsx(rw,{className:"h-3 w-3 text-red-500"}):s.jsx(Hg,{className:"h-3 w-3 text-green-500"})}),he[H.id]&&s.jsx($,{size:"sm",variant:"ghost",onClick:()=>Il(H.email,he[H.id],H.full_name,H.role),className:"h-7 w-7 p-0",children:s.jsx(tT,{className:"h-3 w-3"})}),s.jsx($,{size:"sm",variant:"ghost",onClick:()=>gh(H),className:"h-7 w-7 p-0 text-destructive hover:text-destructive",children:s.jsx($n,{className:"h-3 w-3"})})]})]}),n&&he[H.id]&&s.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[s.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Pass:"}),s.jsxs("div",{className:"flex items-center gap-1 flex-1",children:[s.jsx(F,{type:R===H.id?"text":"password",value:he[H.id]||"",readOnly:!0,className:"h-6 text-[10px] flex-1",dir:"ltr"}),s.jsx($,{size:"sm",variant:"ghost",onClick:()=>B(R===H.id?null:H.id),className:"h-6 w-6 p-0",children:R===H.id?s.jsx(Qr,{className:"h-2.5 w-2.5"}):s.jsx(Pn,{className:"h-2.5 w-2.5"})})]})]})]},H.id))})}),s.jsx("div",{className:"hidden md:block overflow-x-auto",dir:e==="ar"?"rtl":"ltr",children:s.jsxs("table",{className:"w-full min-w-[600px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:`p-3 md:p-4 ${e==="ar"?"text-right":"text-left"} text-xs md:text-sm font-medium`,children:e==="en"?"Name":""}),s.jsx("th",{className:`p-3 md:p-4 ${e==="ar"?"text-right":"text-left"} text-xs md:text-sm font-medium`,children:e==="en"?"Email":" "}),n&&s.jsx("th",{className:`p-4 ${e==="ar"?"text-right":"text-left"}`,children:e==="en"?"Password":" "}),s.jsx("th",{className:`p-4 ${e==="ar"?"text-right":"text-left"}`,children:e==="en"?"Role":""}),s.jsx("th",{className:`p-4 ${e==="ar"?"text-right":"text-left"}`,children:e==="en"?"Status":""}),s.jsx("th",{className:`p-4 ${e==="ar"?"text-right":"text-left"}`,children:e==="en"?"Actions":""})]})}),s.jsx("tbody",{children:ca.map(H=>s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4",children:H.full_name}),s.jsx("td",{className:"p-4",children:H.email}),n&&s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(F,{type:R===H.id?"text":"password",value:he[H.id]||"",readOnly:!0,className:"w-32",dir:"ltr"}),s.jsx($,{size:"sm",variant:"ghost",onClick:()=>B(R===H.id?null:H.id),children:R===H.id?s.jsx(Qr,{className:"h-4 w-4"}):s.jsx(Pn,{className:"h-4 w-4"})})]})}),s.jsx("td",{className:"p-4",children:s.jsx(ce,{className:Ar(H.role),children:H.role})}),s.jsx("td",{className:"p-4",children:s.jsx(ce,{variant:H.is_active!==!1?"default":"secondary",children:H.is_active!==!1?e==="en"?"Active":"":e==="en"?"Inactive":" "})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{size:"sm",variant:"ghost",onClick:()=>Pp(H),title:e==="en"?"Edit":"",children:s.jsx(Yn,{className:"h-4 w-4"})}),(H.role==="teacher"||H.role==="student")&&s.jsx($,{size:"sm",variant:"ghost",onClick:()=>xi(H),title:e==="en"?"Program NFC Card":"  NFC",children:s.jsx(Xs,{className:"h-4 w-4"})}),n&&s.jsx($,{size:"sm",variant:"ghost",onClick:()=>Et(H.id,H.is_active!==!1),children:H.is_active!==!1?s.jsx(rw,{className:"h-4 w-4 text-red-500"}):s.jsx(Hg,{className:"h-4 w-4 text-green-500"})}),he[H.id]&&s.jsx($,{size:"sm",variant:"ghost",onClick:()=>Il(H.email,he[H.id],H.full_name,H.role),children:s.jsx(tT,{className:"h-4 w-4"})}),s.jsx($,{size:"sm",variant:"ghost",onClick:()=>gh(H),title:e==="en"?"Delete User":" ",className:"text-destructive hover:text-destructive",children:s.jsx($n,{className:"h-4 w-4"})})]})})]},H.id))})]})})]})]}),s.jsx(qe,{open:O,onOpenChange:M,children:s.jsx(Ve,{className:"max-w-2xl",children:s.jsxs("form",{onSubmit:Je,children:[s.jsxs(Ke,{children:[s.jsx(Ge,{children:e==="en"?"Edit User":" "}),s.jsx(es,{children:e==="en"?"Update user information":"  "})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Full Name":" "}),s.jsx(F,{value:Ie.full_name,onChange:H=>Sn({...Ie,full_name:H.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Full Name (Arabic)":"  ()"}),s.jsx(F,{value:Ie.full_name_ar,onChange:H=>Sn({...Ie,full_name_ar:H.target.value}),dir:"rtl"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Email":" "}),s.jsx(F,{type:"email",value:Ie.email,readOnly:!0,className:"bg-muted"})]}),n&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Password":" "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(F,{type:E?"text":"password",value:Ie.password,onChange:H=>Sn({...Ie,password:H.target.value}),placeholder:e==="en"?"Enter new password or leave empty":"      "}),s.jsx($,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>U(!E),children:E?s.jsx(Qr,{className:"h-4 w-4"}):s.jsx(Pn,{className:"h-4 w-4"})})]}),s.jsx($,{type:"button",variant:"outline",onClick:la,children:e==="en"?"Generate":""})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(T,{children:e==="en"?"Account Status":" "}),s.jsx("div",{className:"text-sm text-muted-foreground",children:e==="en"?"Deactivating will prevent user from logging in":"      "})]}),s.jsx(qt,{checked:Ie.is_active,onCheckedChange:H=>Sn({...Ie,is_active:H})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Phone":""}),s.jsx(F,{value:Ie.phone,onChange:H=>Sn({...Ie,phone:H.target.value}),dir:"ltr"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Role":""}),s.jsxs(Pe,{value:Ie.role,onValueChange:H=>Sn({...Ie,role:H}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"admin",children:e==="en"?"Admin":""}),s.jsx(K,{value:"teacher",children:e==="en"?"Teacher":""}),s.jsx(K,{value:"student",children:e==="en"?"Student":""}),s.jsx(K,{value:"parent",children:e==="en"?"Parent":" "}),s.jsx(K,{value:"driver",children:e==="en"?"Driver":""}),s.jsx(K,{value:"finance",children:e==="en"?"Finance":""}),s.jsx(K,{value:"canteen",children:e==="en"?"Canteen":""})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Address":""}),s.jsx(F,{value:Ie.address,onChange:H=>Sn({...Ie,address:H.target.value})})]})]}),s.jsxs(Nt,{children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>M(!1),children:e==="en"?"Cancel":""}),s.jsxs($,{type:"submit",disabled:v,children:[v?s.jsx("div",{className:"mr-2 inline-flex",children:s.jsx(Pt,{size:"small",text:!1})}):null,e==="en"?"Update User":" "]})]})]})})}),s.jsx(qe,{open:se,onOpenChange:W,children:s.jsxs(Ve,{className:"max-w-md",children:[s.jsxs(Ke,{children:[s.jsx(Ge,{children:e==="en"?"Share Credentials":"  "}),s.jsx(es,{children:e==="en"?"Share user credentials via email, WhatsApp, SMS, or print.":"          ."})]}),L&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:e==="en"?"Email:":" :"})," ",L.email]}),s.jsxs("p",{children:[s.jsx("strong",{children:e==="en"?"Password:":" :"})," ",L.password]}),s.jsxs("p",{children:[s.jsx("strong",{children:e==="en"?"Role:":":"})," ",L.role]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"recipientEmail",children:e==="en"?"Recipient Email":"  "}),s.jsx(F,{id:"recipientEmail",type:"email",value:ie,onChange:H=>ue(H.target.value),placeholder:e==="en"?"Enter recipient email":"   "})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx($,{onClick:xo,children:e==="en"?"Send Email":" "}),s.jsx($,{onClick:cj,children:e==="en"?"WhatsApp":""}),s.jsx($,{onClick:dj,children:e==="en"?"SMS":" "}),s.jsx($,{onClick:uj,children:e==="en"?"Print":""})]})]}),s.jsx(Nt,{children:s.jsx($,{variant:"outline",onClick:()=>W(!1),children:e==="en"?"Close":""})})]})}),s.jsx(qe,{open:S,onOpenChange:_,children:s.jsxs(Ve,{className:"max-w-2xl max-h-[90vh] p-0 flex flex-col",children:[s.jsxs(Ke,{className:"flex-shrink-0 px-6 pt-6 pb-4",children:[s.jsx(Ge,{children:e==="en"?"Create User":" "}),s.jsx(es,{children:e==="en"?"Fill in the details to create a new user":"    "})]}),s.jsxs("form",{onSubmit:bt,className:"flex flex-col flex-1 min-h-0",children:[s.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{className:"text-base font-semibold",children:e==="en"?"Select Role":" "}),s.jsxs(Pe,{value:Ie.role,onValueChange:H=>{Sn({...Ie,role:H}),Se("none")},children:[s.jsx(ke,{className:"w-full",children:s.jsx(Ee,{placeholder:e==="en"?"Choose a role...":" ..."})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"admin",children:e==="en"?"Admin":""}),s.jsx(K,{value:"teacher",children:e==="en"?"Teacher":""}),s.jsx(K,{value:"student",children:e==="en"?"Student":""}),s.jsx(K,{value:"parent",children:e==="en"?"Parent":" "}),s.jsx(K,{value:"driver",children:e==="en"?"Driver":""}),s.jsx(K,{value:"finance",children:e==="en"?"Finance":""}),s.jsx(K,{value:"canteen",children:e==="en"?"Canteen":""}),n&&s.jsx(K,{value:"developer",children:"Developer"})]})]})]}),s.jsx(js,{}),Ie.role==="teacher"&&s.jsxs("div",{className:"space-y-3 p-4 bg-purple-50 dark:bg-purple-950/30 border-2 border-purple-200 dark:border-purple-800 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(T,{className:"text-purple-900 dark:text-purple-100 font-semibold text-base",children:e==="en"?" Assign Classes":"  "}),s.jsx(ce,{variant:"outline",className:"bg-purple-100 dark:bg-purple-900",children:e==="en"?"Required":""})]}),s.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:e==="en"?"Select the classes this teacher will be teaching":"     "}),s.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto p-2 bg-white dark:bg-gray-900 rounded-lg",children:h.map(H=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(un,{id:`class-${H.id}`,checked:p.includes(H.id),onCheckedChange:Ne=>{g(Ne?[...p,H.id]:p.filter(st=>st!==H.id))}}),s.jsxs(T,{htmlFor:`class-${H.id}`,className:"text-sm font-normal cursor-pointer",children:[H.name," - ",e==="en"?`Grade ${H.grade}`:` ${H.grade}`]})]},H.id))})]}),Ie.role==="parent"&&s.jsxs("div",{className:"space-y-3 p-4 bg-purple-50 dark:bg-purple-950/30 border-2 border-purple-200 dark:border-purple-800 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(T,{className:"text-purple-900 dark:text-purple-100 font-semibold text-base",children:e==="en"?" Link to Student":"  "}),s.jsx(ce,{variant:"outline",className:"bg-purple-100 dark:bg-purple-900",children:e==="en"?"Required":""})]}),s.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:e==="en"?"Select the student this parent will be linked to":"      "}),s.jsxs(Mc,{open:I,onOpenChange:Z,children:[s.jsx(Dc,{asChild:!0,children:s.jsxs($,{type:"button",variant:"outline",role:"combobox","aria-expanded":I,className:"w-full justify-between bg-white dark:bg-gray-900",children:[oe&&oe!=="none"?s.jsx("span",{className:"truncate",children:(()=>{const H=i.find(st=>st.id===oe);return H?`${H.full_name||`${H.first_name||""} ${H.last_name||""}`.trim()||H.student_id} - ${H.class||"No class"}`:"Select..."})()}):s.jsx("span",{className:"text-muted-foreground",children:e==="en"?"Search and select student...":"  ..."}),s.jsx(At,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(pl,{className:"w-[--radix-popover-trigger-width] p-0",align:"start",children:s.jsxs(cA,{children:[s.jsx(dA,{placeholder:e==="en"?"Search students...":"  ...",value:J,onValueChange:X}),s.jsx(uA,{children:e==="en"?"No students found.":"  ."}),s.jsx(Gn,{className:"h-[300px]",children:s.jsx(hA,{children:i.filter(H=>{if(!H.profile_id)return!1;const Ne=J.toLowerCase(),st=H.full_name||`${H.first_name||""} ${H.last_name||""}`.trim(),ut=st&&st.toLowerCase().includes(Ne),Wr=H.student_id&&H.student_id.toLowerCase().includes(Ne),Ua=H.class&&H.class.toLowerCase().includes(Ne);return ut||Wr||Ua}).length===0?s.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:e==="en"?"No students with registered accounts found. Students need to be created through Student Registration first.":"       .        ."}):i.filter(H=>{if(!H.profile_id)return!1;const Ne=J.toLowerCase(),st=H.full_name||`${H.first_name||""} ${H.last_name||""}`.trim(),ut=st&&st.toLowerCase().includes(Ne),Wr=H.student_id&&H.student_id.toLowerCase().includes(Ne),Ua=H.class&&H.class.toLowerCase().includes(Ne);return ut||Wr||Ua}).map(H=>{const Ne=H.full_name||(H.first_name&&H.last_name?`${H.first_name} ${H.last_name}`:"")||H.student_id,st=`${H.class||"No class"}  ID: ${H.student_id||"N/A"}`;return s.jsx(fA,{value:H.id,onSelect:()=>{Se(H.id),Z(!1)},className:"flex items-center gap-2",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:Ne||"Unknown Student"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:st})]})},H.id)})})})]})})]}),oe&&oe!=="none"&&s.jsxs($,{type:"button",variant:"outline",size:"sm",onClick:()=>{window.open(`/dashboard/admin/students?id=${oe}`,"_blank")},className:"w-full gap-2",children:[s.jsx(p5,{className:"h-4 w-4"}),e==="en"?"View Selected Student":"  "]})]}),s.jsx(js,{}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Full Name":" "}),s.jsx(F,{value:Ie.full_name,onChange:H=>Sn({...Ie,full_name:H.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Full Name (Arabic)":"  ()"}),s.jsx(F,{value:Ie.full_name_ar,onChange:H=>Sn({...Ie,full_name_ar:H.target.value}),dir:"rtl"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Email":" "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"email",value:Ie.email,onChange:H=>Sn({...Ie,email:H.target.value}),required:!0,dir:"ltr"}),s.jsx($,{type:"button",onClick:vh,children:e==="en"?"Generate":""})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Password":" "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:z?"text":"password",value:Ie.password,onChange:H=>Sn({...Ie,password:H.target.value}),required:!0,dir:"ltr"}),s.jsx($,{type:"button",variant:"ghost",onClick:()=>P(!z),children:z?s.jsx(Qr,{className:"h-4 w-4"}):s.jsx(Pn,{className:"h-4 w-4"})}),s.jsx($,{type:"button",variant:"outline",onClick:la,children:e==="en"?"Generate":""})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Phone":""}),s.jsx(F,{value:Ie.phone,onChange:H=>Sn({...Ie,phone:H.target.value}),dir:"ltr"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Address":""}),s.jsx(F,{value:Ie.address,onChange:H=>Sn({...Ie,address:H.target.value})})]})]})]})}),s.jsxs(Nt,{className:"flex-shrink-0 px-6 py-4 border-t bg-background",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>_(!1),children:e==="en"?"Cancel":""}),s.jsxs($,{type:"submit",disabled:v,children:[v?s.jsx("div",{className:"mr-2 inline-flex",children:s.jsx(Pt,{size:"small",text:!1})}):null,e==="en"?"Create User":" "]})]})]})]})}),Oe&&s.jsx($Ee,{isOpen:ee,onClose:()=>{pe(!1),Y(null)},userData:Oe,onSuccess:kp}),s.jsx(qe,{open:ye,onOpenChange:We,children:s.jsxs(Ve,{children:[s.jsxs(Ke,{children:[s.jsx(Ge,{className:"text-destructive",children:e==="en"?"Delete User":" "}),s.jsx(es,{children:e==="en"?"Are you sure you want to delete this user? This action cannot be undone and will permanently remove all associated data.":"                   ."})]}),_t&&s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:e==="en"?"Name:":":"}),s.jsx("span",{children:_t.full_name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:e==="en"?"Email:":":"}),s.jsx("span",{children:_t.email})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:e==="en"?"Role:":":"}),s.jsx(ce,{className:Ar(_t.role),children:_t.role})]})]})}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>We(!1),disabled:fr,children:e==="en"?"Cancel":""}),s.jsx($,{variant:"destructive",onClick:Ap,disabled:fr,children:fr?e==="en"?"Deleting...":" ...":e==="en"?"Delete User":" "})]})]})})]})}const l_=[{id:"BUS-001",busNumber:"BUS-001",plateNumber:"AB-1234",make:"Mercedes",model:"Sprinter",year:2020,capacity:50,currentStudents:42,studentIds:["s1","s2","s3","s4","s5"],driverId:"1",supervisorId:"t1",routeId:"r1",status:"active",lastMaintenance:"2024-01-15",nextMaintenance:"2024-04-15",fuelType:"Diesel",color:"Yellow"},{id:"BUS-002",busNumber:"BUS-002",plateNumber:"CD-5678",make:"Volvo",model:"B8R",year:2021,capacity:45,currentStudents:38,studentIds:["s6","s7","s8"],driverId:"2",supervisorId:"t2",routeId:"r2",status:"active",lastMaintenance:"2024-02-01",nextMaintenance:"2024-05-01",fuelType:"Diesel",color:"Yellow"}],Sf=[{id:"1",name:"Ali Mohammed",nameAr:" ",phone:"+968 9123 4567",email:"ali@school.om",address:"Muscat",licenseNumber:"DL-12345",licenseExpiry:"2025-06-15",experience:8,status:"active",image:"",joinDate:"2020-03-15"},{id:"2",name:"Hassan Ibrahim",nameAr:" ",phone:"+968 9234 5678",email:"hassan@school.om",address:"Muscat",licenseNumber:"DL-23456",licenseExpiry:"2024-12-20",experience:5,status:"active",image:"",joinDate:"2021-01-10"},{id:"3",name:"Omar Said",nameAr:" ",phone:"+968 9345 6789",email:"omar@school.om",address:"Muscat",licenseNumber:"DL-34567",licenseExpiry:"2025-08-30",experience:10,status:"active",image:"",joinDate:"2019-05-20"}],Cf=[{id:"t1",name:"Sarah Ahmed",nameAr:" "},{id:"t2",name:"Fatima Ali",nameAr:" "},{id:"t3",name:"Maryam Hassan",nameAr:" "}];function FEe(){const{t:e,language:t}=Te(),{students:n}=zy(),[r,a]=m.useState(l_),[i,o]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState([]),[h,f]=m.useState([]),[p,g]=m.useState({status:"active",capacity:50,currentStudents:0,year:new Date().getFullYear(),studentIds:[]}),[v,j]=m.useState(null),[y,x]=m.useState(""),[w,b]=m.useState(""),[S,_]=m.useState(""),[N,C]=m.useState(!1),[k,A]=m.useState(!1),[O,M]=m.useState(null),z=()=>{const I={id:`BUS-${String(r.length+1).padStart(3,"0")}`,busNumber:p.busNumber||`BUS-${String(r.length+1).padStart(3,"0")}`,plateNumber:p.plateNumber||"",make:p.make||"",model:p.model||"",year:p.year||new Date().getFullYear(),capacity:p.capacity||50,currentStudents:d.length,studentIds:d,driverId:p.driverId,supervisorId:p.supervisorId,status:p.status,lastMaintenance:p.lastMaintenance||"",nextMaintenance:p.nextMaintenance||"",fuelType:p.fuelType||"Diesel",color:p.color||"Yellow"};a([...r,I]),o(!1),u([]),g({status:"active",capacity:50,currentStudents:0,year:new Date().getFullYear(),studentIds:[]}),ae({variant:"success",title:t==="ar"?"  ":"Added Successfully",description:t==="ar"?"   ":"Bus has been added successfully"})},P=I=>{j(I),g(I),u(I.studentIds||[]),c(!0)},E=()=>{v&&(a(r.map(I=>I.id===v.id?{...I,...p,studentIds:d,currentStudents:d.length}:I)),c(!1),j(null),u([]),g({status:"active",capacity:50,currentStudents:0,year:new Date().getFullYear(),studentIds:[]}),ae({variant:"success",title:t==="ar"?"  ":"Updated Successfully",description:t==="ar"?"    ":"Bus information has been updated successfully"}))},U=I=>{M(I),C(!0)},R=()=>{O&&(a(r.filter(I=>I.id!==O)),f(I=>I.filter(Z=>Z!==O)),ae({variant:"success",title:t==="ar"?"  ":"Deleted Successfully",description:t==="ar"?"   ":"Bus has been deleted successfully"}),M(null)),C(!1)},B=()=>{A(!0)},L=()=>{a(r.filter(Z=>!h.includes(Z.id)));const I=h.length;f([]),ae({variant:"success",title:t==="ar"?"  ":"Deleted Successfully",description:t==="ar"?`  ${I}  `:`${I} buses have been deleted successfully`}),A(!1)},Q=I=>{f(Z=>Z.includes(I)?Z.filter(J=>J!==I):[...Z,I])},se=()=>{h.length===r.length?f([]):f(r.map(I=>I.id))},W=I=>{switch(I){case"active":return"bg-success/10 text-success";case"inactive":return"bg-muted text-muted-foreground";case"maintenance":return"bg-warning/10 text-warning";default:return""}},ie=I=>{const Z=Sf.find(J=>J.id===I);return Z?t==="en"?Z.name:Z.nameAr:t==="en"?"Not Assigned":" "},ue=I=>{const Z=Cf.find(J=>J.id===I);return Z?t==="en"?Z.name:Z.nameAr:t==="en"?"Not Assigned":" "},oe=I=>{u(Z=>Z.includes(I)?Z.filter(J=>J!==I):[...Z,I])},Se=()=>{const I=n.filter(Z=>d.includes(Z.id));return I.length===0?t==="en"?"No students selected":"   ":I.length<=3?I.map(Z=>t==="en"?`${Z.firstName} ${Z.lastName}`:`${Z.firstNameAr} ${Z.lastNameAr}`).join(", "):`${I.length} ${t==="en"?"students selected":" "}`};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:t==="en"?"Buses Management":" "}),s.jsx("p",{className:"text-muted-foreground",children:t==="en"?"Manage all school buses information":"    "})]}),s.jsxs("div",{className:"flex gap-2",children:[h.length>0&&s.jsxs($,{onClick:B,variant:"destructive",children:[s.jsx($n,{className:"h-4 w-4 mr-2"}),t==="en"?`Delete (${h.length})`:` (${h.length})`]}),s.jsxs($,{onClick:I=>{I.preventDefault(),I.stopPropagation(),console.log("Opening Add Bus dialog"),u([]),g({status:"active",capacity:50,currentStudents:0,year:new Date().getFullYear(),studentIds:[]}),o(!0),console.log("Dialog state:",!0)},children:[s.jsx(pn,{className:"h-4 w-4 mr-2"}),t==="en"?"Add Bus":" "]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:t==="en"?"Total Buses":" "})}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:r.length})})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:t==="en"?"Active Buses":" "})}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold text-success",children:r.filter(I=>I.status==="active").length})})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:t==="en"?"Total Capacity":" "})}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:r.reduce((I,Z)=>I+Z.capacity,0)})})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:t==="en"?"Total Students":" "})}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:r.reduce((I,Z)=>I+Z.currentStudents,0)})})]})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:t==="en"?"All Buses":" "})}),s.jsx(G,{children:s.jsxs(is,{children:[s.jsx(os,{children:s.jsxs(Ot,{children:[s.jsx(we,{className:"w-12",children:s.jsx(un,{checked:h.length===r.length&&r.length>0,onCheckedChange:se})}),s.jsx(we,{children:t==="en"?"Bus Details":" "}),s.jsx(we,{children:t==="en"?"Driver":""}),s.jsx(we,{children:t==="en"?"Supervisor":""}),s.jsx(we,{children:t==="en"?"Capacity":""}),s.jsx(we,{children:t==="en"?"Maintenance":""}),s.jsx(we,{children:t==="en"?"Status":""}),s.jsx(we,{children:t==="en"?"Actions":""})]})}),s.jsx(ls,{children:r.map(I=>s.jsxs(Ot,{children:[s.jsx(be,{children:s.jsx(un,{checked:h.includes(I.id),onCheckedChange:()=>Q(I.id)})}),s.jsx(be,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bn,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"font-medium",children:I.busNumber})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[t==="en"?"Plate":"",": ",I.plateNumber]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[I.make," ",I.model," (",I.year,")"]})]})}),s.jsx(be,{children:s.jsx("p",{className:"text-sm",children:ie(I.driverId)})}),s.jsx(be,{children:s.jsx("p",{className:"text-sm",children:ue(I.supervisorId)})}),s.jsx(be,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(jt,{className:"h-3 w-3"}),s.jsxs("span",{className:"text-sm",children:[I.currentStudents,"/",I.capacity]})]})}),s.jsx(be,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-xs",children:[t==="en"?"Last":"",": ",I.lastMaintenance]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[t==="en"?"Next":"",": ",I.nextMaintenance]})]})}),s.jsx(be,{children:s.jsxs(ce,{className:W(I.status),children:[I.status==="active"&&s.jsx(Xf,{className:"h-3 w-3 mr-1"}),I.status==="maintenance"&&s.jsx(O5,{className:"h-3 w-3 mr-1"}),I.status==="active"?t==="ar"?"":"Active":I.status==="inactive"?t==="ar"?" ":"Inactive":t==="ar"?"":"Maintenance"]})}),s.jsx(be,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>P(I),children:s.jsx(Yn,{className:"h-4 w-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>U(I.id),children:s.jsx($n,{className:"h-4 w-4"})})]})})]},I.id))})]})})]}),s.jsx(qe,{open:i,onOpenChange:I=>{o(I),I||(u([]),g({status:"active",capacity:50,currentStudents:0,year:new Date().getFullYear(),studentIds:[]}),x(""),b(""),_(""))},children:s.jsxs(Ve,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:t==="en"?"Add New Bus":"  "})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"busNumber",children:t==="en"?"Bus Number":" "}),s.jsx(F,{id:"busNumber",value:p.busNumber||"",onChange:I=>g({...p,busNumber:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"plateNumber",children:t==="en"?"Plate Number":" "}),s.jsx(F,{id:"plateNumber",value:p.plateNumber||"",onChange:I=>g({...p,plateNumber:I.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"make",children:t==="en"?"Make":""}),s.jsx(F,{id:"make",value:p.make||"",onChange:I=>g({...p,make:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"model",children:t==="en"?"Model":""}),s.jsx(F,{id:"model",value:p.model||"",onChange:I=>g({...p,model:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"year",children:t==="en"?"Year":""}),s.jsx(F,{id:"year",type:"number",value:p.year||"",onChange:I=>g({...p,year:parseInt(I.target.value)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"capacity",children:t==="en"?"Capacity":""}),s.jsx(F,{id:"capacity",type:"number",value:p.capacity||"",onChange:I=>g({...p,capacity:parseInt(I.target.value)})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"fuelType",children:t==="en"?"Fuel Type":" "}),s.jsx(F,{id:"fuelType",value:p.fuelType||"",onChange:I=>g({...p,fuelType:I.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"driver",children:t==="en"?"Assign Driver":" "}),s.jsxs(Pe,{value:p.driverId||"none",onValueChange:I=>g({...p,driverId:I==="none"?void 0:I}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:t==="en"?"Select a driver":" "})}),s.jsxs(Ae,{children:[s.jsx("div",{className:"p-2",children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:t==="en"?"Search drivers...":"  ...",value:w,onChange:I=>b(I.target.value),className:"h-8",onClick:I=>I.stopPropagation()})]})}),s.jsx(K,{value:"none",children:t==="en"?"No Driver":" "}),Sf.filter(I=>I.name.toLowerCase().includes(w.toLowerCase())||I.nameAr.includes(w)).map(I=>s.jsx(K,{value:I.id,children:t==="en"?I.name:I.nameAr},I.id))]})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"supervisor",children:t==="en"?"Assign Supervisor":" "}),s.jsxs(Pe,{value:p.supervisorId||"none",onValueChange:I=>g({...p,supervisorId:I==="none"?void 0:I}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:t==="en"?"Select a supervisor":" "})}),s.jsxs(Ae,{children:[s.jsx("div",{className:"p-2",children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:t==="en"?"Search supervisors...":"  ...",value:S,onChange:I=>_(I.target.value),className:"h-8",onClick:I=>I.stopPropagation()})]})}),s.jsx(K,{value:"none",children:t==="en"?"No Supervisor":" "}),Cf.filter(I=>I.name.toLowerCase().includes(S.toLowerCase())||I.nameAr.includes(S)).map(I=>s.jsx(K,{value:I.id,children:t==="en"?I.name:I.nameAr},I.id))]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:t==="en"?"Select Students":" "}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:Se()}),s.jsxs(ce,{variant:"outline",children:[d.length,"/",p.capacity||50]})]}),s.jsx("div",{className:"mb-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:t==="en"?"Search students...":"  ...",value:y,onChange:I=>x(I.target.value),className:"h-8"})]})}),s.jsx(Gn,{className:"h-40 border rounded-md p-3",children:s.jsx("div",{className:"space-y-2",children:n.filter(I=>{const Z=`${I.firstName} ${I.lastName}`.toLowerCase(),J=`${I.firstNameAr} ${I.lastNameAr}`,X=y.toLowerCase();return Z.includes(X)||J.includes(y)||I.grade.includes(y)||I.class.includes(y)||I.address.toLowerCase().includes(X)}).map(I=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(un,{id:`student-${I.id}`,checked:d.includes(I.id),onCheckedChange:()=>oe(I.id),disabled:!d.includes(I.id)&&d.length>=(p.capacity||50)}),s.jsx("label",{htmlFor:`student-${I.id}`,className:"flex-1 text-sm cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:t==="en"?`${I.firstName} ${I.lastName}`:`${I.firstNameAr} ${I.lastNameAr}`}),s.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[I.grade,"-",I.class]})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:I.address})]})})]},I.id))})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"lastMaintenance",children:t==="en"?"Last Maintenance":" "}),s.jsx(F,{id:"lastMaintenance",type:"date",value:p.lastMaintenance||"",onChange:I=>g({...p,lastMaintenance:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"nextMaintenance",children:t==="en"?"Next Maintenance":" "}),s.jsx(F,{id:"nextMaintenance",type:"date",value:p.nextMaintenance||"",onChange:I=>g({...p,nextMaintenance:I.target.value})})]})]})]}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:I=>{I.preventDefault(),I.stopPropagation(),o(!1),u([]),x(""),b(""),_(""),g({status:"active",capacity:50,currentStudents:0,year:new Date().getFullYear(),studentIds:[]})},children:e("common.cancel")}),s.jsx($,{onClick:I=>{I.preventDefault(),I.stopPropagation(),z(),x(""),b(""),_("")},children:e("common.save")})]})]})}),s.jsx(qe,{open:l,onOpenChange:I=>{c(I),I||(j(null),u([]),g({status:"active",capacity:50,currentStudents:0,year:new Date().getFullYear(),studentIds:[]}),x(""),b(""),_(""))},children:s.jsxs(Ve,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:t==="en"?"Edit Bus":" "})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"edit-busNumber",children:t==="en"?"Bus Number":" "}),s.jsx(F,{id:"edit-busNumber",value:p.busNumber||"",onChange:I=>g({...p,busNumber:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"edit-plateNumber",children:t==="en"?"Plate Number":" "}),s.jsx(F,{id:"edit-plateNumber",value:p.plateNumber||"",onChange:I=>g({...p,plateNumber:I.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"edit-make",children:t==="en"?"Make":""}),s.jsx(F,{id:"edit-make",value:p.make||"",onChange:I=>g({...p,make:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"edit-model",children:t==="en"?"Model":""}),s.jsx(F,{id:"edit-model",value:p.model||"",onChange:I=>g({...p,model:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"edit-year",children:t==="en"?"Year":""}),s.jsx(F,{id:"edit-year",type:"number",value:p.year||"",onChange:I=>g({...p,year:parseInt(I.target.value)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"edit-capacity",children:t==="en"?"Capacity":""}),s.jsx(F,{id:"edit-capacity",type:"number",value:p.capacity||"",onChange:I=>g({...p,capacity:parseInt(I.target.value)})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"edit-fuelType",children:t==="en"?"Fuel Type":" "}),s.jsx(F,{id:"edit-fuelType",value:p.fuelType||"",onChange:I=>g({...p,fuelType:I.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"edit-driver",children:t==="en"?"Assign Driver":" "}),s.jsxs(Pe,{value:p.driverId||"none",onValueChange:I=>g({...p,driverId:I==="none"?void 0:I}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:t==="en"?"Select a driver":" "})}),s.jsxs(Ae,{children:[s.jsx("div",{className:"p-2",children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:t==="en"?"Search drivers...":"  ...",value:w,onChange:I=>b(I.target.value),className:"h-8",onClick:I=>I.stopPropagation()})]})}),s.jsx(K,{value:"none",children:t==="en"?"No Driver":" "}),Sf.filter(I=>I.name.toLowerCase().includes(w.toLowerCase())||I.nameAr.includes(w)).map(I=>s.jsx(K,{value:I.id,children:t==="en"?I.name:I.nameAr},I.id))]})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"edit-supervisor",children:t==="en"?"Assign Supervisor":" "}),s.jsxs(Pe,{value:p.supervisorId||"none",onValueChange:I=>g({...p,supervisorId:I==="none"?void 0:I}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:t==="en"?"Select a supervisor":" "})}),s.jsxs(Ae,{children:[s.jsx("div",{className:"p-2",children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:t==="en"?"Search supervisors...":"  ...",value:S,onChange:I=>_(I.target.value),className:"h-8",onClick:I=>I.stopPropagation()})]})}),s.jsx(K,{value:"none",children:t==="en"?"No Supervisor":" "}),Cf.filter(I=>I.name.toLowerCase().includes(S.toLowerCase())||I.nameAr.includes(S)).map(I=>s.jsx(K,{value:I.id,children:t==="en"?I.name:I.nameAr},I.id))]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:t==="en"?"Select Students":" "}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:Se()}),s.jsxs(ce,{variant:"outline",children:[d.length,"/",p.capacity||50]})]}),s.jsx("div",{className:"mb-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:t==="en"?"Search students...":"  ...",value:y,onChange:I=>x(I.target.value),className:"h-8"})]})}),s.jsx(Gn,{className:"h-40 border rounded-md p-3",children:s.jsx("div",{className:"space-y-2",children:n.filter(I=>{const Z=`${I.firstName} ${I.lastName}`.toLowerCase(),J=`${I.firstNameAr} ${I.lastNameAr}`,X=y.toLowerCase();return Z.includes(X)||J.includes(y)||I.grade.includes(y)||I.class.includes(y)||I.address.toLowerCase().includes(X)}).map(I=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(un,{id:`edit-student-${I.id}`,checked:d.includes(I.id),onCheckedChange:()=>oe(I.id),disabled:!d.includes(I.id)&&d.length>=(p.capacity||50)}),s.jsx("label",{htmlFor:`edit-student-${I.id}`,className:"flex-1 text-sm cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:t==="en"?`${I.firstName} ${I.lastName}`:`${I.firstNameAr} ${I.lastNameAr}`}),s.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[I.grade,"-",I.class]})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:I.address})]})})]},I.id))})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"edit-lastMaintenance",children:t==="en"?"Last Maintenance":" "}),s.jsx(F,{id:"edit-lastMaintenance",type:"date",value:p.lastMaintenance||"",onChange:I=>g({...p,lastMaintenance:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"edit-nextMaintenance",children:t==="en"?"Next Maintenance":" "}),s.jsx(F,{id:"edit-nextMaintenance",type:"date",value:p.nextMaintenance||"",onChange:I=>g({...p,nextMaintenance:I.target.value})})]})]})]}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>{c(!1),j(null),u([]),x(""),b(""),_(""),g({status:"active",capacity:50,currentStudents:0,year:new Date().getFullYear(),studentIds:[]})},children:e("common.cancel")}),s.jsx($,{onClick:()=>{E(),x(""),b(""),_("")},children:e("common.save")})]})]})}),s.jsx(hi,{open:N,onOpenChange:C,children:s.jsxs(Ta,{children:[s.jsxs(Oa,{children:[s.jsx(Da,{children:t==="en"?"Confirm Deletion":" "}),s.jsx(Ra,{children:t==="en"?"Are you sure you want to delete this bus? This action cannot be undone.":"            ."})]}),s.jsxs(Ma,{children:[s.jsx($a,{children:t==="en"?"Cancel":""}),s.jsx(Ia,{onClick:R,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:t==="en"?"Delete":""})]})]})}),s.jsx(hi,{open:k,onOpenChange:A,children:s.jsxs(Ta,{children:[s.jsxs(Oa,{children:[s.jsx(Da,{children:t==="en"?"Confirm Bulk Deletion":"  "}),s.jsx(Ra,{children:t==="en"?`Are you sure you want to delete ${h.length} selected buses? This action cannot be undone.`:`     ${h.length}        .`})]}),s.jsxs(Ma,{children:[s.jsx($a,{children:t==="en"?"Cancel":""}),s.jsx(Ia,{onClick:L,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:t==="en"?`Delete ${h.length} Buses`:` ${h.length} `})]})]})})]})}const BEe=[{id:"1",name:"Ali Mohammed",nameAr:" ",phone:"+968 9123 4567",email:"ali.mohammed@school.om",address:"Al Khuwair, Muscat",licenseNumber:"DL-12345",licenseExpiry:"2025-06-15",experience:8,status:"active",image:"",busId:"BUS-001",joinDate:"2020-03-15"},{id:"2",name:"Hassan Ibrahim",nameAr:" ",phone:"+968 9234 5678",email:"hassan.ibrahim@school.om",address:"Qurum, Muscat",licenseNumber:"DL-23456",licenseExpiry:"2024-12-20",experience:5,status:"active",image:"",busId:"BUS-002",joinDate:"2021-01-10"}];function zEe(){const{t:e,language:t}=Te(),[n,r]=m.useState(BEe),[a,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState([]),[u,h]=m.useState({status:"active"}),[f,p]=m.useState(null),[g,v]=m.useState(!1),[j,y]=m.useState(!1),[x,w]=m.useState(null),b=()=>{const P={id:`d-${Date.now()}`,name:u.name||"",nameAr:u.nameAr||"",phone:u.phone||"",email:u.email||"",address:u.address||"",licenseNumber:u.licenseNumber||"",licenseExpiry:u.licenseExpiry||"",experience:u.experience||0,status:u.status,image:"",joinDate:new Date().toISOString().split("T")[0]};r([...n,P]),i(!1),h({status:"active"}),ae({variant:"success",title:t==="ar"?"  ":"Added Successfully",description:t==="ar"?"   ":"Driver has been added successfully"})},S=P=>{p(P),h(P),l(!0)},_=()=>{f&&(r(n.map(P=>P.id===f.id?{...P,...u}:P)),l(!1),p(null),h({status:"active"}),ae({variant:"success",title:t==="ar"?"  ":"Updated Successfully",description:t==="ar"?"    ":"Driver information has been updated successfully"}))},N=P=>{w(P),v(!0)},C=()=>{x&&(r(n.filter(P=>P.id!==x)),d(P=>P.filter(E=>E!==x)),ae({variant:"success",title:t==="ar"?"  ":"Deleted Successfully",description:t==="ar"?"   ":"Driver has been deleted successfully"}),w(null)),v(!1)},k=()=>{y(!0)},A=()=>{r(n.filter(E=>!c.includes(E.id)));const P=c.length;d([]),ae({variant:"success",title:t==="ar"?"  ":"Deleted Successfully",description:t==="ar"?`  ${P}  `:`${P} drivers have been deleted successfully`}),y(!1)},O=P=>{d(E=>E.includes(P)?E.filter(U=>U!==P):[...E,P])},M=()=>{c.length===n.length?d([]):d(n.map(P=>P.id))},z=P=>{switch(P){case"active":return"bg-success/10 text-success";case"inactive":return"bg-muted text-muted-foreground";case"on-leave":return"bg-warning/10 text-warning";default:return""}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:t==="en"?"Drivers Management":" "}),s.jsx("p",{className:"text-muted-foreground",children:t==="en"?"Manage all bus drivers information":"    "})]}),s.jsxs("div",{className:"flex gap-2",children:[c.length>0&&s.jsxs($,{onClick:k,variant:"destructive",children:[s.jsx($n,{className:"h-4 w-4 mr-2"}),t==="en"?`Delete (${c.length})`:` (${c.length})`]}),s.jsxs($,{onClick:()=>i(!0),children:[s.jsx(pn,{className:"h-4 w-4 mr-2"}),t==="en"?"Add Driver":" "]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:t==="en"?"Total Drivers":" "})}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold",children:n.length})})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:t==="en"?"Active Drivers":" "})}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold text-success",children:n.filter(P=>P.status==="active").length})})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:t==="en"?"On Leave":" "})}),s.jsx(G,{children:s.jsx("div",{className:"text-2xl font-bold text-warning",children:n.filter(P=>P.status==="on-leave").length})})]}),s.jsxs(q,{children:[s.jsx(te,{className:"pb-2",children:s.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:t==="en"?"Avg Experience":" "})}),s.jsx(G,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[(n.reduce((P,E)=>P+E.experience,0)/n.length).toFixed(1)," ",t==="en"?"years":""]})})]})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsx(ne,{children:t==="en"?"All Drivers":" "})}),s.jsx(G,{children:s.jsxs(is,{children:[s.jsx(os,{children:s.jsxs(Ot,{children:[s.jsx(we,{className:"w-12",children:s.jsx(un,{checked:c.length===n.length&&n.length>0,onCheckedChange:M})}),s.jsx(we,{children:t==="en"?"Driver":""}),s.jsx(we,{children:t==="en"?"Contact":""}),s.jsx(we,{children:t==="en"?"License":""}),s.jsx(we,{children:t==="en"?"Experience":""}),s.jsx(we,{children:t==="en"?"Bus":""}),s.jsx(we,{children:t==="en"?"Status":""}),s.jsx(we,{children:t==="en"?"Actions":""})]})}),s.jsx(ls,{children:n.map(P=>s.jsxs(Ot,{children:[s.jsx(be,{children:s.jsx(un,{checked:c.includes(P.id),onCheckedChange:()=>O(P.id)})}),s.jsx(be,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(fn,{children:[s.jsx(sr,{src:P.image}),s.jsx(mn,{children:P.name.charAt(0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t==="en"?P.name:P.nameAr}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[t==="en"?"Since":""," ",P.joinDate]})]})]})}),s.jsx(be,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(Ku,{className:"h-3 w-3"}),P.phone]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(Sc,{className:"h-3 w-3"}),P.email]})]})}),s.jsx(be,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:P.licenseNumber}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[t==="en"?"Expires":"",": ",P.licenseExpiry]})]})}),s.jsx(be,{children:s.jsxs("p",{className:"text-sm",children:[P.experience," ",t==="en"?"years":""]})}),s.jsx(be,{children:P.busId?s.jsxs(ce,{variant:"outline",children:[s.jsx(Fm,{className:"h-3 w-3 mr-1"}),P.busId]}):s.jsx("span",{className:"text-xs text-muted-foreground",children:t==="en"?"Not Assigned":" "})}),s.jsx(be,{children:s.jsx(ce,{className:z(P.status),children:P.status==="active"?t==="ar"?"":"Active":P.status==="inactive"?t==="ar"?" ":"Inactive":t==="ar"?" ":"On Leave"})}),s.jsx(be,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{size:"icon",variant:"ghost",onClick:()=>S(P),children:s.jsx(Yn,{className:"h-4 w-4"})}),s.jsx($,{size:"icon",variant:"ghost",onClick:()=>N(P.id),children:s.jsx($n,{className:"h-4 w-4"})})]})})]},P.id))})]})})]}),s.jsx(qe,{open:a,onOpenChange:i,children:s.jsxs(Ve,{className:"max-w-2xl",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:t==="en"?"Add New Driver":"  "})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"name",children:t==="en"?"Name (English)":" ()"}),s.jsx(F,{id:"name",value:u.name||"",onChange:P=>h({...u,name:P.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"nameAr",children:t==="en"?"Name (Arabic)":" ()"}),s.jsx(F,{id:"nameAr",value:u.nameAr||"",onChange:P=>h({...u,nameAr:P.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"phone",children:t==="en"?"Phone":""}),s.jsx(F,{id:"phone",value:u.phone||"",onChange:P=>h({...u,phone:P.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"email",children:t==="en"?"Email":" "}),s.jsx(F,{id:"email",type:"email",value:u.email||"",onChange:P=>h({...u,email:P.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"address",children:t==="en"?"Address":""}),s.jsx(F,{id:"address",value:u.address||"",onChange:P=>h({...u,address:P.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"licenseNumber",children:t==="en"?"License Number":" "}),s.jsx(F,{id:"licenseNumber",value:u.licenseNumber||"",onChange:P=>h({...u,licenseNumber:P.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"licenseExpiry",children:t==="en"?"License Expiry":" "}),s.jsx(F,{id:"licenseExpiry",type:"date",value:u.licenseExpiry||"",onChange:P=>h({...u,licenseExpiry:P.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"experience",children:t==="en"?"Experience (years)":" ()"}),s.jsx(F,{id:"experience",type:"number",value:u.experience||"",onChange:P=>h({...u,experience:parseInt(P.target.value)})})]})]}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>i(!1),children:e("common.cancel")}),s.jsx($,{onClick:b,children:e("common.save")})]})]})}),s.jsx(qe,{open:o,onOpenChange:l,children:s.jsxs(Ve,{className:"max-w-2xl",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:t==="en"?"Edit Driver":" "})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"edit-name",children:t==="en"?"Name (English)":" ()"}),s.jsx(F,{id:"edit-name",value:u.name||"",onChange:P=>h({...u,name:P.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"edit-nameAr",children:t==="en"?"Name (Arabic)":" ()"}),s.jsx(F,{id:"edit-nameAr",value:u.nameAr||"",onChange:P=>h({...u,nameAr:P.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"edit-phone",children:t==="en"?"Phone":""}),s.jsx(F,{id:"edit-phone",value:u.phone||"",onChange:P=>h({...u,phone:P.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"edit-email",children:t==="en"?"Email":" "}),s.jsx(F,{id:"edit-email",type:"email",value:u.email||"",onChange:P=>h({...u,email:P.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"edit-address",children:t==="en"?"Address":""}),s.jsx(F,{id:"edit-address",value:u.address||"",onChange:P=>h({...u,address:P.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"edit-licenseNumber",children:t==="en"?"License Number":" "}),s.jsx(F,{id:"edit-licenseNumber",value:u.licenseNumber||"",onChange:P=>h({...u,licenseNumber:P.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"edit-licenseExpiry",children:t==="en"?"License Expiry":" "}),s.jsx(F,{id:"edit-licenseExpiry",type:"date",value:u.licenseExpiry||"",onChange:P=>h({...u,licenseExpiry:P.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"edit-experience",children:t==="en"?"Experience (years)":" ()"}),s.jsx(F,{id:"edit-experience",type:"number",value:u.experience||"",onChange:P=>h({...u,experience:parseInt(P.target.value)})})]})]}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>l(!1),children:e("common.cancel")}),s.jsx($,{onClick:_,children:e("common.save")})]})]})}),s.jsx(hi,{open:g,onOpenChange:v,children:s.jsxs(Ta,{children:[s.jsxs(Oa,{children:[s.jsx(Da,{children:t==="en"?"Confirm Deletion":" "}),s.jsx(Ra,{children:t==="en"?"Are you sure you want to delete this driver? This action cannot be undone.":"            ."})]}),s.jsxs(Ma,{children:[s.jsx($a,{children:t==="en"?"Cancel":""}),s.jsx(Ia,{onClick:C,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:t==="en"?"Delete":""})]})]})}),s.jsx(hi,{open:j,onOpenChange:y,children:s.jsxs(Ta,{children:[s.jsxs(Oa,{children:[s.jsx(Da,{children:t==="en"?"Confirm Bulk Deletion":"  "}),s.jsx(Ra,{children:t==="en"?`Are you sure you want to delete ${c.length} selected drivers? This action cannot be undone.`:`     ${c.length}        .`})]}),s.jsxs(Ma,{children:[s.jsx($a,{children:t==="en"?"Cancel":""}),s.jsx(Ia,{onClick:A,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:t==="en"?`Delete ${c.length} Drivers`:` ${c.length} `})]})]})})]})}const UEe=[{id:"r1",name:"Al Khuwair - Ruwi - Al Seeb",nameAr:" -  - ",busId:"BUS-001",driverId:"1",supervisorId:"t1",stops:["Al Khuwair","Ruwi","Al Seeb"],studentIds:["s1","s2","s3"],departureTime:"06:30",arrivalTime:"07:30",distance:"25 km",status:"active",description:"Morning route covering Al Khuwair, Ruwi, and Al Seeb areas"},{id:"r2",name:"Qurum - Al Ghubra - Al Azaiba",nameAr:" -  - ",busId:"BUS-002",driverId:"2",supervisorId:"t2",stops:["Qurum","Al Ghubra","Al Azaiba"],studentIds:["s4","s5","s6","s7"],departureTime:"06:45",arrivalTime:"07:45",distance:"20 km",status:"active",description:"Morning route covering Qurum, Al Ghubra, and Al Azaiba areas"}];function VEe(){const{t:e,language:t}=Te(),{students:n}=zy(),[r,a]=m.useState(UEe),[i,o]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState(!1),[h,f]=m.useState(null),[p,g]=m.useState([]),[v,j]=m.useState([]),[y,x]=m.useState(!1),[w,b]=m.useState(!1),[S,_]=m.useState(null),[N,C]=m.useState([]),[k,A]=m.useState(""),[O,M]=m.useState({status:"active",stops:[],studentIds:[]}),[z,P]=m.useState(""),[E,U]=m.useState(""),[R,B]=m.useState(""),[L,Q]=m.useState(""),se=()=>{const Y={id:`r-${Date.now()}`,name:O.name||"",nameAr:O.nameAr||"",busId:O.busId,driverId:O.driverId,supervisorId:O.supervisorId,stops:N,studentIds:p,departureTime:O.departureTime||"",arrivalTime:O.arrivalTime||"",distance:O.distance||"",status:O.status,description:O.description};a([...r,Y]),o(!1),Z(),ae({variant:"success",title:t==="ar"?"  ":"Added Successfully",description:t==="ar"?"   ":"Route has been added successfully"})},W=()=>{h&&(a(r.map(Y=>Y.id===h.id?{...Y,...O,stops:N,studentIds:p}:Y)),c(!1),Z(),ae({variant:"success",title:t==="ar"?"  ":"Updated Successfully",description:t==="ar"?"   ":"Route has been updated successfully"}))},ie=Y=>{_(Y),x(!0)},ue=()=>{S&&(a(r.filter(Y=>Y.id!==S)),j(Y=>Y.filter(ye=>ye!==S)),ae({variant:"success",title:t==="ar"?"  ":"Deleted Successfully",description:t==="ar"?"   ":"Route has been deleted successfully"}),_(null)),x(!1)},oe=()=>{a(r.filter(ye=>!v.includes(ye.id)));const Y=v.length;j([]),ae({variant:"success",title:t==="ar"?"  ":"Deleted Successfully",description:t==="ar"?`  ${Y}  `:`${Y} routes have been deleted successfully`}),b(!1)},Se=Y=>{console.log("Opening view dialog for route:",Y.id),f(Y),u(!0)},I=Y=>{console.log("Opening edit dialog for route:",Y.id),f(Y),M(Y),g(Y.studentIds||[]),C(Y.stops||[]),c(!0),u(!1)},Z=()=>{M({status:"active",stops:[],studentIds:[]}),g([]),C([]),A(""),f(null)},J=Y=>{g(ye=>ye.includes(Y)?ye.filter(We=>We!==Y):[...ye,Y])},X=()=>{k.trim()&&(C([...N,k.trim()]),A(""))},he=Y=>{C(N.filter((ye,We)=>We!==Y))},D=Y=>{const ye=Sf.find(We=>We.id===Y);return ye?t==="en"?ye.name:ye.nameAr:t==="en"?"Not Assigned":" "},ee=Y=>{const ye=l_.find(We=>We.id===Y);return ye?ye.busNumber:t==="en"?"Not Assigned":" "},pe=Y=>{const ye=Cf.find(We=>We.id===Y);return ye?t==="en"?ye.name:ye.nameAr:t==="en"?"Not Assigned":" "},Oe=Y=>{const ye=n.filter(We=>Y.includes(We.id));return ye.length===0?t==="en"?"No students":"  ":ye.length<=2?ye.map(We=>t==="en"?`${We.firstName} ${We.lastName}`:`${We.firstNameAr} ${We.lastNameAr}`).join(", "):`${ye.length} ${t==="en"?"students":""}`};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:t==="en"?"Routes Management":" "}),s.jsx("p",{className:"text-muted-foreground",children:t==="en"?"Manage all bus routes":"   "})]}),s.jsxs($,{onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),console.log("Opening Add Route dialog"),Z(),o(!0)},children:[s.jsx(pn,{className:"h-4 w-4 mr-2"}),t==="en"?"Add Route":" "]})]}),s.jsx("div",{className:"grid gap-4",children:r.map(Y=>s.jsxs(q,{className:"hover:shadow-lg transition-all cursor-pointer",onClick:ye=>{ye.stopPropagation(),Se(Y)},children:[s.jsx(te,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx(ne,{className:"text-lg",children:t==="en"?Y.name:Y.nameAr}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ce,{className:Y.status==="active"?"bg-success/10 text-success":"bg-muted text-muted-foreground",children:Y.status==="active"?t==="ar"?"":"Active":t==="ar"?" ":"Inactive"}),s.jsx(Bd,{className:"h-4 w-4 text-muted-foreground"})]})]})}),s.jsxs(G,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:ee(Y.busId)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dr,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{className:"text-sm",children:[Y.departureTime," - ",Y.arrivalTime]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ka,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:Y.distance})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jt,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:Oe(Y.studentIds)})]})]}),Y.stops&&Y.stops.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[t==="en"?"Stops":"",":"]}),s.jsx("p",{className:"text-sm",children:Y.stops.join("  ")})]})]})]},Y.id))}),s.jsx(qe,{open:d,onOpenChange:Y=>{console.log("View dialog open change:",Y),u(Y),Y||f(null)},children:s.jsxs(Ve,{className:"max-w-2xl",children:[s.jsx(Ke,{children:s.jsxs(Ge,{className:"flex items-center justify-between",children:[s.jsx("span",{children:t==="en"?"Route Details":" "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs($,{size:"sm",variant:"outline",onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),console.log("Edit button clicked for route:",h==null?void 0:h.id),h&&I(h)},children:[s.jsx(Yn,{className:"h-4 w-4 mr-1"}),t==="en"?"Edit":""]}),s.jsxs($,{size:"sm",variant:"outline",onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),console.log("Delete button clicked for route:",h==null?void 0:h.id),h&&(ie(h.id),u(!1))},children:[s.jsx($n,{className:"h-4 w-4 mr-1"}),t==="en"?"Delete":""]})]})]})}),h&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:t==="en"?"Route Name":" "}),s.jsx("p",{className:"font-medium",children:t==="en"?h.name:h.nameAr})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:t==="en"?"Status":""}),s.jsx(ce,{className:h.status==="active"?"bg-success/10 text-success":"bg-muted text-muted-foreground",children:h.status==="active"?t==="ar"?"":"Active":t==="ar"?" ":"Inactive"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:t==="en"?"Bus":""}),s.jsx("p",{className:"font-medium",children:ee(h.busId)})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:t==="en"?"Driver":""}),s.jsx("p",{className:"font-medium",children:D(h.driverId)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:t==="en"?"Supervisor":""}),s.jsx("p",{className:"font-medium",children:pe(h.supervisorId)})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:t==="en"?"Distance":""}),s.jsx("p",{className:"font-medium",children:h.distance})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:t==="en"?"Departure Time":" "}),s.jsx("p",{className:"font-medium",children:h.departureTime})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:t==="en"?"Arrival Time":" "}),s.jsx("p",{className:"font-medium",children:h.arrivalTime})]})]}),h.description&&s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground",children:t==="en"?"Description":""}),s.jsx("p",{className:"font-medium",children:h.description})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground mb-2 block",children:t==="en"?"Stops":""}),s.jsx("div",{className:"flex flex-wrap gap-2",children:h.stops.map((Y,ye)=>s.jsx(ce,{variant:"outline",children:Y},ye))})]}),s.jsxs("div",{children:[s.jsxs(T,{className:"text-muted-foreground mb-2 block",children:[t==="en"?"Students":""," (",h.studentIds.length,")"]}),s.jsx(Gn,{className:"h-32 border rounded-md p-3",children:s.jsx("div",{className:"space-y-2",children:n.filter(Y=>h.studentIds.includes(Y.id)).map(Y=>s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{children:t==="en"?`${Y.firstName} ${Y.lastName}`:`${Y.firstNameAr} ${Y.lastNameAr}`}),s.jsxs("span",{className:"text-muted-foreground",children:[Y.grade,"-",Y.class]})]},Y.id))})})]})]})]})}),s.jsx(qe,{open:i||l,onOpenChange:Y=>{console.log("Add/Edit dialog open change:",Y,"isEdit:",l,"isAdd:",i),Y||(o(!1),c(!1),Z())},children:s.jsxs(Ve,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:l?t==="en"?"Edit Route":" ":t==="en"?"Add New Route":"  "})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Route Name (English)":"  ()"}),s.jsx(F,{value:O.name||"",onChange:Y=>M({...O,name:Y.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Route Name (Arabic)":"  ()"}),s.jsx(F,{value:O.nameAr||"",onChange:Y=>M({...O,nameAr:Y.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Departure Time":" "}),s.jsx(F,{type:"time",value:O.departureTime||"",onChange:Y=>M({...O,departureTime:Y.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Arrival Time":" "}),s.jsx(F,{type:"time",value:O.arrivalTime||"",onChange:Y=>M({...O,arrivalTime:Y.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Distance":""}),s.jsx(F,{value:O.distance||"",onChange:Y=>M({...O,distance:Y.target.value}),placeholder:"e.g., 25 km"})]}),s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Description":""}),s.jsx(kr,{value:O.description||"",onChange:Y=>M({...O,description:Y.target.value}),placeholder:t==="en"?"Enter route description...":"  ..."})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Assign Bus":" "}),s.jsxs(Pe,{value:O.busId||"none",onValueChange:Y=>M({...O,busId:Y==="none"?void 0:Y}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:t==="en"?"Select a bus":" "})}),s.jsxs(Ae,{children:[s.jsx("div",{className:"p-2",children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:t==="en"?"Search buses...":"  ...",value:E,onChange:Y=>U(Y.target.value),className:"h-8",onClick:Y=>Y.stopPropagation()})]})}),s.jsx(K,{value:"none",children:t==="en"?"No Bus":" "}),l_.filter(Y=>Y.busNumber.toLowerCase().includes(E.toLowerCase())||Y.plateNumber.toLowerCase().includes(E.toLowerCase())).map(Y=>s.jsx(K,{value:Y.id,children:Y.busNumber},Y.id))]})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Assign Driver":" "}),s.jsxs(Pe,{value:O.driverId||"none",onValueChange:Y=>M({...O,driverId:Y==="none"?void 0:Y}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:t==="en"?"Select a driver":" "})}),s.jsxs(Ae,{children:[s.jsx("div",{className:"p-2",children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:t==="en"?"Search drivers...":"  ...",value:R,onChange:Y=>B(Y.target.value),className:"h-8",onClick:Y=>Y.stopPropagation()})]})}),s.jsx(K,{value:"none",children:t==="en"?"No Driver":" "}),Sf.filter(Y=>Y.name.toLowerCase().includes(R.toLowerCase())||Y.nameAr.includes(R)).map(Y=>s.jsx(K,{value:Y.id,children:t==="en"?Y.name:Y.nameAr},Y.id))]})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Assign Supervisor":" "}),s.jsxs(Pe,{value:O.supervisorId||"none",onValueChange:Y=>M({...O,supervisorId:Y==="none"?void 0:Y}),children:[s.jsx(ke,{children:s.jsx(Ee,{placeholder:t==="en"?"Select a supervisor":" "})}),s.jsxs(Ae,{children:[s.jsx("div",{className:"p-2",children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:t==="en"?"Search supervisors...":"  ...",value:L,onChange:Y=>Q(Y.target.value),className:"h-8",onClick:Y=>Y.stopPropagation()})]})}),s.jsx(K,{value:"none",children:t==="en"?"No Supervisor":" "}),Cf.filter(Y=>Y.name.toLowerCase().includes(L.toLowerCase())||Y.nameAr.includes(L)).map(Y=>s.jsx(K,{value:Y.id,children:t==="en"?Y.name:Y.nameAr},Y.id))]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:t==="en"?"Route Stops":" "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{value:k,onChange:Y=>A(Y.target.value),placeholder:t==="en"?"Enter stop name":"  ",onKeyPress:Y=>{Y.key==="Enter"&&(Y.preventDefault(),X())}}),s.jsx($,{type:"button",onClick:X,children:s.jsx(pn,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:N.map((Y,ye)=>s.jsxs(ce,{variant:"secondary",className:"py-1",children:[Y,s.jsx("button",{onClick:()=>he(ye),className:"ml-2 hover:text-destructive",children:s.jsx(Xn,{className:"h-3 w-3"})})]},ye))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:t==="en"?"Select Students":" "}),s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsxs("span",{className:"text-sm text-muted-foreground",children:[p.length," ",t==="en"?"students selected":" "]})}),s.jsx("div",{className:"mb-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:t==="en"?"Search students...":"  ...",value:z,onChange:Y=>P(Y.target.value),className:"h-8"})]})}),s.jsx(Gn,{className:"h-48 border rounded-md p-3",children:s.jsx("div",{className:"space-y-2",children:n.filter(Y=>{const ye=`${Y.firstName} ${Y.lastName}`.toLowerCase(),We=`${Y.firstNameAr} ${Y.lastNameAr}`,_t=z.toLowerCase();return ye.includes(_t)||We.includes(z)||Y.grade.includes(z)||Y.class.includes(z)||Y.address.toLowerCase().includes(_t)}).map(Y=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(un,{id:`route-student-${Y.id}`,checked:p.includes(Y.id),onCheckedChange:()=>J(Y.id)}),s.jsx("label",{htmlFor:`route-student-${Y.id}`,className:"flex-1 text-sm cursor-pointer",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:t==="en"?`${Y.firstName} ${Y.lastName}`:`${Y.firstNameAr} ${Y.lastNameAr}`}),s.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[Y.grade,"-",Y.class]})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Y.address})]})})]},Y.id))})})]})]}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>{o(!1),c(!1),Z()},children:e("common.cancel")}),s.jsx($,{onClick:l?W:se,children:e("common.save")})]})]})}),s.jsx(hi,{open:y,onOpenChange:x,children:s.jsxs(Ta,{children:[s.jsxs(Oa,{children:[s.jsx(Da,{children:t==="en"?"Confirm Deletion":" "}),s.jsx(Ra,{children:t==="en"?"Are you sure you want to delete this route? This action cannot be undone.":"            ."})]}),s.jsxs(Ma,{children:[s.jsx($a,{children:t==="en"?"Cancel":""}),s.jsx(Ia,{onClick:ue,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:t==="en"?"Delete":""})]})]})}),s.jsx(hi,{open:w,onOpenChange:b,children:s.jsxs(Ta,{children:[s.jsxs(Oa,{children:[s.jsx(Da,{children:t==="en"?"Confirm Bulk Deletion":"  "}),s.jsx(Ra,{children:t==="en"?`Are you sure you want to delete ${v.length} selected routes? This action cannot be undone.`:`     ${v.length}        .`})]}),s.jsxs(Ma,{children:[s.jsx($a,{children:t==="en"?"Cancel":""}),s.jsx(Ia,{onClick:oe,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:t==="en"?`Delete ${v.length} Routes`:` ${v.length} `})]})]})})]})}function WEe({open:e,onOpenChange:t,onSuccess:n}){const{language:r}=Te(),{toast:a}=ro(),[i,o]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState({firstName:"",lastName:"",firstNameAr:"",lastNameAr:"",studentId:"",nfcId:"",grade:"",class:"",email:"",password:""}),h=async f=>{f.preventDefault(),o(!0);try{let p=null;if(l){if(!d.email||!d.password)throw new Error(r==="ar"?"      ":"Email and password are required to create account");const{data:v,error:j}=await V.functions.invoke("create-user",{body:{email:d.email,password:d.password,full_name:`${d.firstName} ${d.lastName}`,role:"student"}});if(j)throw j;p=v.user_id}const{error:g}=await V.from("students").insert({first_name:d.firstName,last_name:d.lastName,first_name_ar:d.firstNameAr||null,last_name_ar:d.lastNameAr||null,student_id:d.studentId,nfc_id:d.nfcId,grade:d.grade,class:d.class,profile_id:p,status:"active"});if(g)throw g;a({title:r==="ar"?" ":"Success",description:r==="ar"?` ${l?"  ":""}  `:`Student ${l?"account created and registered":"registered"} successfully`}),u({firstName:"",lastName:"",firstNameAr:"",lastNameAr:"",studentId:"",nfcId:"",grade:"",class:"",email:"",password:""}),c(!1),n(),t(!1)}catch(p){a({title:r==="ar"?"":"Error",description:p.message,variant:"destructive"})}finally{o(!1)}};return s.jsx(qe,{open:e,onOpenChange:t,children:s.jsxs(Ve,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ke,{children:s.jsx(Ge,{children:r==="ar"?"  ":"Add New Student"})}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{children:[r==="ar"?" ":"First Name"," *"]}),s.jsx(F,{value:d.firstName,onChange:f=>u({...d,firstName:f.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{children:[r==="ar"?" ":"Last Name"," *"]}),s.jsx(F,{value:d.lastName,onChange:f=>u({...d,lastName:f.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:r==="ar"?"  ()":"First Name (Arabic)"}),s.jsx(F,{value:d.firstNameAr,onChange:f=>u({...d,firstNameAr:f.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:r==="ar"?"  ()":"Last Name (Arabic)"}),s.jsx(F,{value:d.lastNameAr,onChange:f=>u({...d,lastNameAr:f.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{children:[r==="ar"?" ":"Student ID"," *"]}),s.jsx(F,{value:d.studentId,onChange:f=>u({...d,studentId:f.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{children:[r==="ar"?" NFC":"NFC ID"," *"]}),s.jsx(F,{value:d.nfcId,onChange:f=>u({...d,nfcId:f.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{children:[r==="ar"?"":"Grade"," *"]}),s.jsxs(Pe,{value:d.grade,onValueChange:f=>u({...d,grade:f}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsx(Ae,{children:[1,2,3,4,5,6,7,8,9,10,11,12].map(f=>s.jsx(K,{value:f.toString(),children:r==="ar"?` ${f}`:`Grade ${f}`},f))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{children:[r==="ar"?"":"Class"," *"]}),s.jsx(F,{value:d.class,onChange:f=>u({...d,class:f.target.value}),placeholder:r==="ar"?": ":"e.g., A",required:!0})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-4 border-t",children:[s.jsx(un,{id:"createAccount",checked:l,onCheckedChange:f=>c(f)}),s.jsx(T,{htmlFor:"createAccount",className:"cursor-pointer",children:r==="ar"?"   ":"Create user account for student"})]}),l&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{children:[r==="ar"?" ":"Email"," *"]}),s.jsx(F,{type:"email",value:d.email,onChange:f=>u({...d,email:f.target.value}),required:l})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{children:[r==="ar"?" ":"Password"," *"]}),s.jsx(F,{type:"password",value:d.password,onChange:f=>u({...d,password:f.target.value}),required:l,minLength:6})]})]}),s.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:i,children:r==="ar"?"":"Cancel"}),s.jsxs($,{type:"submit",disabled:i,children:[i&&s.jsx(el,{className:"mr-2 h-4 w-4 animate-spin"}),r==="ar"?"":"Add"]})]})]})]})})}function qEe(){const{language:e}=Te(),{toast:t}=ro(),[n,r]=m.useState(!0),[a,i]=m.useState([]),[o,l]=m.useState(""),[c,d]=m.useState(!1),[u,h]=m.useState(!1);m.useEffect(()=>{f(),"NDEFReader"in window&&d(!0)},[]);const f=async()=>{try{const{data:g,error:v}=await V.from("students").select("*").order("created_at",{ascending:!1});if(v)throw v;i(g||[])}catch(g){t({title:e==="ar"?"":"Error",description:g.message,variant:"destructive"})}finally{r(!1)}},p=a.filter(g=>`${g.first_name} ${g.last_name}`.toLowerCase().includes(o.toLowerCase())||g.student_id.toLowerCase().includes(o.toLowerCase())||g.nfc_id.toLowerCase().includes(o.toLowerCase()));return n?s.jsx(Pt,{fullScreen:!0}):s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:e==="ar"?" ":"Student Management"}),s.jsx("p",{className:"text-muted-foreground",children:e==="ar"?"   ":"View and manage all students"})]}),s.jsxs($,{onClick:()=>h(!0),children:[s.jsx(pn,{className:"mr-2 h-4 w-4"}),e==="ar"?" ":"Add Student"]})]}),s.jsx(WEe,{open:u,onOpenChange:h,onSuccess:f}),s.jsx(q,{children:s.jsx(G,{className:"pt-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(At,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(F,{placeholder:e==="ar"?"     NFC...":"Search by name, student ID, or NFC...",value:o,onChange:g=>l(g.target.value),className:"pl-10"})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(g=>s.jsxs(q,{className:"hover:shadow-lg transition-all",children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(ne,{className:"text-lg",children:e==="ar"&&g.first_name_ar?`${g.first_name_ar} ${g.last_name_ar}`:`${g.first_name} ${g.last_name}`}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(ce,{variant:"secondary",children:g.student_id}),s.jsx(ce,{variant:"outline",children:g.class})]})]}),s.jsx(as,{className:"h-8 w-8 text-muted-foreground"})]})}),s.jsxs(G,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(KS,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"font-mono text-xs",children:g.nfc_id})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("span",{children:e==="ar"?":":"Grade:"}),s.jsx("span",{children:g.grade})]}),g.status==="active"?s.jsx(ce,{className:"bg-green-500",children:e==="ar"?"":"Active"}):s.jsx(ce,{variant:"destructive",children:e==="ar"?" ":"Inactive"})]})]},g.id))}),p.length===0&&s.jsx(q,{children:s.jsxs(G,{className:"flex flex-col items-center justify-center py-16",children:[s.jsx(as,{className:"h-16 w-16 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:e==="ar"?"    ":"No students found"})]})}),c&&s.jsxs(q,{className:"border-primary/50 bg-primary/5",children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[s.jsx(S5,{className:"h-5 w-5"}),e==="ar"?" NFC":"NFC Instructions"]})}),s.jsxs(G,{className:"space-y-2 text-sm",children:[s.jsx("p",{children:e==="ar"?"    NFC   ":" Ensure NFC is enabled in device settings"}),s.jsx("p",{children:e==="ar"?"    (  5 )":" Hold device near wristband (less than 5cm)"}),s.jsx("p",{children:e==="ar"?"     ":" Automatic registration on proximity"})]})]})]})}const MD=[{value:"teacher",label:"Teacher",label_ar:""},{value:"bus_driver",label:"Bus Driver",label_ar:" "},{value:"manager",label:"Manager",label_ar:""},{value:"cleaner",label:"Cleaner",label_ar:" "},{value:"secretary",label:"Secretary",label_ar:""},{value:"accountant",label:"Accountant",label_ar:""},{value:"nurse",label:"Nurse",label_ar:""},{value:"security",label:"Security",label_ar:""},{value:"cafeteria_staff",label:"Cafeteria Staff",label_ar:" "},{value:"maintenance",label:"Maintenance",label_ar:""},{value:"other",label:"Other",label_ar:""}];function HEe(){const{t:e,language:t}=Te(),[n,r]=m.useState([]),[a,i]=m.useState(!1),[o,l]=m.useState(""),[c,d]=m.useState(!1),[u,h]=m.useState(null),[f,p]=m.useState({full_name:"",full_name_ar:"",email:"",phone:"",position:"teacher",custom_position:"",department:"",contract_type:"full-time",national_id:"",passport_number:"",visa_number:"",visa_expiry:"",insurance_number:"",bank_name:"",bank_account:"",iban:"",emergency_contact:"",emergency_phone:"",password:"School@123"});m.useEffect(()=>{g()},[]);const g=async()=>{try{const{data:w,error:b}=await V.from("employees").select(`
          *,
          profile:profiles!employees_profile_id_fkey(*)
        `).order("created_at",{ascending:!1});if(b)throw b;r(w||[])}catch(w){console.error("Error fetching employees:",w),ae({title:e("Error"),description:e("Failed to load employees"),variant:"destructive"})}},v=async()=>{var w;if(!f.full_name||!f.email||!f.position){ae({title:e("Error"),description:e("Please fill required fields"),variant:"destructive"});return}i(!0);try{const{data:b,error:S}=await V.auth.signUp({email:f.email,password:f.password,options:{data:{full_name:f.full_name,full_name_ar:f.full_name_ar,role:f.position==="teacher"?"teacher":f.position==="bus_driver"?"driver":"staff"}}});if(S)throw S;await new Promise(k=>setTimeout(k,1e3));const{data:_}=await V.rpc("generate_employee_id",{p_position:f.position}),{data:N}=await V.rpc("generate_nfc_id",{p_position:f.position}),{error:C}=await V.from("employees").insert({profile_id:((w=b.user)==null?void 0:w.id)||null,employee_id:_||"EMP-"+Date.now(),nfc_id:N||null,position:f.position,custom_position:f.position==="other"?f.custom_position:null,department:f.department||null,contract_type:f.contract_type,employment_status:"active",national_id:f.national_id||null,passport_number:f.passport_number||null,visa_number:f.visa_number||null,visa_expiry:f.visa_expiry||null,insurance_number:f.insurance_number||null,bank_name:f.bank_name||null,bank_account:f.bank_account||null,iban:f.iban||null,emergency_contact:f.emergency_contact||null,emergency_phone:f.emergency_phone||null});if(C)throw C;ae({title:e("Success"),description:e("Employee added successfully")}),d(!1),j(),g()}catch(b){console.error("Error adding employee:",b),ae({title:e("Error"),description:b.message,variant:"destructive"})}finally{i(!1)}},j=()=>{p({full_name:"",full_name_ar:"",email:"",phone:"",position:"teacher",custom_position:"",department:"",contract_type:"full-time",national_id:"",passport_number:"",visa_number:"",visa_expiry:"",insurance_number:"",bank_name:"",bank_account:"",iban:"",emergency_contact:"",emergency_phone:"",password:"School@123"})},y=w=>{const b={teacher:"bg-blue-100 text-blue-800",bus_driver:"bg-yellow-100 text-yellow-800",manager:"bg-purple-100 text-purple-800",cleaner:"bg-gray-100 text-gray-800",secretary:"bg-pink-100 text-pink-800",accountant:"bg-green-100 text-green-800",nurse:"bg-red-100 text-red-800",security:"bg-indigo-100 text-indigo-800",cafeteria_staff:"bg-orange-100 text-orange-800",maintenance:"bg-cyan-100 text-cyan-800",other:"bg-gray-100 text-gray-800"},S=MD.find(N=>N.value===w),_=t==="en"?S==null?void 0:S.label:S==null?void 0:S.label_ar;return s.jsx(ce,{className:b[w]||b.other,children:_||w})},x=n.filter(w=>{var S,_,N,C,k,A,O,M;const b=o.toLowerCase();return((_=(S=w.profile)==null?void 0:S.full_name)==null?void 0:_.toLowerCase().includes(b))||((C=(N=w.profile)==null?void 0:N.full_name_ar)==null?void 0:C.includes(b))||((k=w.employee_id)==null?void 0:k.toLowerCase().includes(b))||((A=w.nfc_id)==null?void 0:A.toLowerCase().includes(b))||((M=(O=w.profile)==null?void 0:O.email)==null?void 0:M.toLowerCase().includes(b))});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ne,{className:"text-2xl",children:t==="en"?"Employee Management":" "}),s.jsxs($,{onClick:()=>d(!0),children:[s.jsx(pu,{className:"h-4 w-4 mr-2"}),t==="en"?"Add Employee":" "]})]})}),s.jsxs(G,{children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative max-w-md",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(F,{placeholder:t==="en"?"Search employees...":"  ...",value:o,onChange:w=>l(w.target.value),className:"pl-10"})]})}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(is,{children:[s.jsx(os,{children:s.jsxs(Ot,{children:[s.jsx(we,{children:t==="en"?"Employee ID":" "}),s.jsx(we,{children:t==="en"?"Name":""}),s.jsx(we,{children:t==="en"?"Position":""}),s.jsx(we,{children:t==="en"?"Department":""}),s.jsx(we,{children:t==="en"?"NFC ID":" NFC"}),s.jsx(we,{children:t==="en"?"Status":""}),s.jsx(we,{children:t==="en"?"Join Date":" "}),s.jsx(we,{children:t==="en"?"Actions":""})]})}),s.jsx(ls,{children:x.map(w=>{var b,S,_,N;return s.jsxs(Ot,{children:[s.jsx(be,{className:"font-medium",children:w.employee_id}),s.jsx(be,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t==="en"?(b=w.profile)==null?void 0:b.full_name:((S=w.profile)==null?void 0:S.full_name_ar)||((_=w.profile)==null?void 0:_.full_name)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(N=w.profile)==null?void 0:N.email})]})}),s.jsx(be,{children:y(w.position)}),s.jsx(be,{children:w.department||"-"}),s.jsx(be,{children:s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:w.nfc_id||"N/A"})}),s.jsx(be,{children:s.jsx(ce,{variant:w.employment_status==="active"?"default":"secondary",children:w.employment_status})}),s.jsx(be,{children:De(new Date(w.join_date),"MMM dd, yyyy")}),s.jsx(be,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{variant:"outline",size:"icon",onClick:()=>h(w),children:s.jsx(Yn,{className:"h-4 w-4"})}),s.jsx($,{variant:"outline",size:"icon",className:"text-destructive",children:s.jsx($n,{className:"h-4 w-4"})})]})})]},w.id)})})]})})]})]}),s.jsx(qe,{open:c,onOpenChange:d,children:s.jsxs(Ve,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ke,{children:[s.jsx(Ge,{children:t==="en"?"Add New Employee":"  "}),s.jsx(es,{children:t==="en"?"Enter all employee information":"   "})]}),s.jsxs("div",{className:"grid gap-6 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:t==="en"?"Basic Information":" "}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Full Name (English)":"  ()"}),s.jsx(F,{value:f.full_name,onChange:w=>p({...f,full_name:w.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Full Name (Arabic)":"  ()"}),s.jsx(F,{value:f.full_name_ar,onChange:w=>p({...f,full_name_ar:w.target.value}),dir:"rtl"})]}),s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Email":" "}),s.jsx(F,{type:"email",value:f.email,onChange:w=>p({...f,email:w.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Phone":""}),s.jsx(F,{value:f.phone,onChange:w=>p({...f,phone:w.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:t==="en"?"Employment Information":" "}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Position":""}),s.jsxs(Pe,{value:f.position,onValueChange:w=>p({...f,position:w}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsx(Ae,{children:MD.map(w=>s.jsx(K,{value:w.value,children:t==="en"?w.label:w.label_ar},w.value))})]})]}),f.position==="other"&&s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Custom Position":" "}),s.jsx(F,{value:f.custom_position,onChange:w=>p({...f,custom_position:w.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Department":""}),s.jsx(F,{value:f.department,onChange:w=>p({...f,department:w.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Contract Type":" "}),s.jsxs(Pe,{value:f.contract_type,onValueChange:w=>p({...f,contract_type:w}),children:[s.jsx(ke,{children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"full-time",children:t==="en"?"Full Time":" "}),s.jsx(K,{value:"part-time",children:t==="en"?"Part Time":" "}),s.jsx(K,{value:"contract",children:t==="en"?"Contract":""})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:t==="en"?"Legal Documents":" "}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"National ID":" "}),s.jsx(F,{value:f.national_id,onChange:w=>p({...f,national_id:w.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Passport Number":"  "}),s.jsx(F,{value:f.passport_number,onChange:w=>p({...f,passport_number:w.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Visa Number":" "}),s.jsx(F,{value:f.visa_number,onChange:w=>p({...f,visa_number:w.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Visa Expiry":" "}),s.jsx(F,{type:"date",value:f.visa_expiry,onChange:w=>p({...f,visa_expiry:w.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Insurance Number":" "}),s.jsx(F,{value:f.insurance_number,onChange:w=>p({...f,insurance_number:w.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:t==="en"?"Banking Information":" "}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Bank Name":" "}),s.jsx(F,{value:f.bank_name,onChange:w=>p({...f,bank_name:w.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Account Number":" "}),s.jsx(F,{value:f.bank_account,onChange:w=>p({...f,bank_account:w.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:"IBAN"}),s.jsx(F,{value:f.iban,onChange:w=>p({...f,iban:w.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:t==="en"?"Emergency Contact":"  "}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Contact Name":"  "}),s.jsx(F,{value:f.emergency_contact,onChange:w=>p({...f,emergency_contact:w.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:t==="en"?"Contact Phone":"  "}),s.jsx(F,{value:f.emergency_phone,onChange:w=>p({...f,emergency_phone:w.target.value})})]})]})]})]}),s.jsxs(Nt,{children:[s.jsx($,{variant:"outline",onClick:()=>d(!1),children:t==="en"?"Cancel":""}),s.jsx($,{onClick:v,disabled:a,children:a?t==="en"?"Adding...":" ...":t==="en"?"Add Employee":" "})]})]})})]})}function KEe(){const{language:e}=Te(),[t,n]=m.useState("canteen"),r={totalRevenue:15423.5,todayRevenue:342.75,totalOrders:1245,todayOrders:56,totalCustomers:423,activeProducts:145,lowStock:12,pendingOrders:8};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(DJ,{className:"h-8 w-8"}),e==="en"?"Shop Management":" "]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:e==="en"?"Manage all school shop operations - canteen, kitchen, and store":"     -   "})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(q,{children:[s.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:e==="en"?"Total Revenue":" "}),s.jsx($r,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e==="ar"?`${r.totalRevenue.toFixed(2)} .`:`OMR ${r.totalRevenue.toFixed(2)}`}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==="en"?"+20.1% from last month":"+20.1%   "})]})]}),s.jsxs(q,{children:[s.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:e==="en"?"Today's Sales":" "}),s.jsx(bs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e==="ar"?`${r.todayRevenue.toFixed(2)} .`:`OMR ${r.todayRevenue.toFixed(2)}`}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.todayOrders," ",e==="en"?"orders":""]})]})]}),s.jsxs(q,{children:[s.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:e==="en"?"Active Customers":" "}),s.jsx(jt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r.totalCustomers}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==="en"?"+180 this semester":"+180  "})]})]}),s.jsxs(q,{children:[s.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ne,{className:"text-sm font-medium",children:e==="en"?"Pending Orders":" "}),s.jsx(ft,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(G,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r.pendingOrders}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.lowStock," ",e==="en"?"items low stock":"  "]})]})]})]}),s.jsx(q,{className:"shadow-lg",children:s.jsx(G,{className:"p-0",children:s.jsxs(gn,{value:t,onValueChange:n,className:"w-full",children:[s.jsxs(sn,{className:"w-full rounded-none border-b bg-background h-14",children:[s.jsxs(_e,{value:"canteen",className:"flex-1 data-[state=active]:bg-primary/10 data-[state=active]:text-primary gap-2",children:[s.jsx(so,{className:"h-4 w-4"}),e==="en"?"Canteen":""]}),s.jsxs(_e,{value:"kitchen",className:"flex-1 data-[state=active]:bg-primary/10 data-[state=active]:text-primary gap-2",children:[s.jsx(fu,{className:"h-4 w-4"}),e==="en"?"Kitchen":""]}),s.jsxs(_e,{value:"store",className:"flex-1 data-[state=active]:bg-primary/10 data-[state=active]:text-primary gap-2",children:[s.jsx(Lr,{className:"h-4 w-4"}),e==="en"?"Store":""]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx(Re,{value:"canteen",className:"mt-0",children:s.jsx(zC,{})}),s.jsx(Re,{value:"kitchen",className:"mt-0",children:s.jsx(nq,{})}),s.jsx(Re,{value:"store",className:"mt-0",children:s.jsx(tq,{})})]})]})})})]})}const GEe=qu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),rq=m.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:me(GEe({variant:t}),e),...n}));rq.displayName="Alert";const YEe=m.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:me("mb-1 font-medium leading-none tracking-tight",e),...t}));YEe.displayName="AlertTitle";const sq=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:me("text-sm [&_p]:leading-relaxed",e),...t}));sq.displayName="AlertDescription";const DD=["admin","teacher","parent","student","driver","finance"],XEe={admin:"Administration",students:"Students Management",teachers:"Teachers Management",academic:"Academic Features",transport:"Transportation",services:"Services",finance:"Financial",communication:"Communication",reports:"Reports & Analytics",system:"System Settings",staff:"Staff Management",social:"Social Features"};function ZEe(){Te();const{profile:e}=ot(),t=ur(),[n,r]=m.useState(!0),[a,i]=m.useState(!1),[o,l]=m.useState("admin"),[c,d]=m.useState([]),[u,h]=m.useState([]),[f,p]=m.useState(!1);m.useEffect(()=>{if((e==null?void 0:e.role)!=="developer"){t("/dashboard");return}g()},[e,t]),m.useEffect(()=>{const b=JSON.stringify(c)!==JSON.stringify(u);p(b)},[c,u]);const g=async()=>{r(!0);try{const{data:b,error:S}=await V.from("role_feature_visibility").select("*").order("role").order("category").order("feature_name");if(S)throw S;d(b||[]),h(b||[])}catch(b){console.error("Error fetching visibility settings:",b),ae({title:"Error",description:"Failed to load visibility settings",variant:"destructive"})}finally{r(!1)}},v=(b,S)=>{d(_=>_.map(N=>N.role===b&&N.feature_key===S?{...N,is_visible:!N.is_visible}:N))},j=async()=>{i(!0);try{const b=c.filter((S,_)=>{const N=u[_];return N&&S.is_visible!==N.is_visible});if(b.length===0){ae({title:"No changes",description:"No changes to save"});return}for(const S of b){const{error:_}=await V.from("role_feature_visibility").update({is_visible:S.is_visible,updated_at:new Date().toISOString()}).eq("id",S.id);if(_)throw _}ae({title:"Success",description:`Updated ${b.length} feature visibility settings`}),await g()}catch(b){console.error("Error saving visibility settings:",b),ae({title:"Error",description:"Failed to save visibility settings",variant:"destructive"})}finally{i(!1)}},y=()=>{d(u),ae({title:"Changes reset",description:"All unsaved changes have been discarded"})},x=b=>c.filter(S=>S.role===b),w=b=>b.reduce((S,_)=>{const N=_.category||"other";return S[N]||(S[N]=[]),S[N].push(_),S},{});return n?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(el,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsx("div",{className:"p-4 md:p-6 max-w-7xl mx-auto",children:s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ta,{className:"h-6 w-6 text-primary"}),s.jsxs("div",{children:[s.jsx(ne,{children:"Feature Visibility Control"}),s.jsx(wn,{children:"Manage which features are visible for each role"})]})]}),s.jsx("div",{className:"flex gap-2",children:f&&s.jsxs(s.Fragment,{children:[s.jsxs($,{variant:"outline",onClick:y,disabled:a,children:[s.jsx(qg,{className:"h-4 w-4 mr-2"}),"Reset"]}),s.jsxs($,{onClick:j,disabled:a,children:[a?s.jsx(el,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Wc,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})})]})}),s.jsxs(G,{children:[f&&s.jsxs(rq,{className:"mb-4",children:[s.jsx(Cc,{className:"h-4 w-4"}),s.jsx(sq,{children:'You have unsaved changes. Click "Save Changes" to apply them or "Reset" to discard.'})]}),s.jsxs(gn,{value:o,onValueChange:l,children:[s.jsx(sn,{className:"grid grid-cols-3 md:grid-cols-6 gap-1",children:DD.map(b=>s.jsx(_e,{value:b,className:"capitalize",children:b},b))}),DD.map(b=>{const S=x(b),_=w(S);return s.jsx(Re,{value:b,children:s.jsx(Gn,{className:"h-[600px] pr-4",children:s.jsxs("div",{className:"space-y-6",children:[Object.entries(_).map(([N,C])=>s.jsxs("div",{children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:XEe[N]||N}),s.jsx(js,{className:"mt-2"})]}),s.jsx("div",{className:"space-y-3",children:C.map(k=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center gap-2",children:k.is_visible?s.jsx(Pn,{className:"h-4 w-4 text-primary"}):s.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:`${b}-${k.feature_key}`,className:"cursor-pointer",children:k.feature_name}),k.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:k.description})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ce,{variant:k.is_visible?"default":"secondary",children:k.is_visible?"Visible":"Hidden"}),s.jsx(qt,{id:`${b}-${k.feature_key}`,checked:k.is_visible,onCheckedChange:()=>v(b,k.feature_key)})]})]},k.feature_key))})]},N)),S.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No features configured for this role"})]})})},b)})]})]})]})})}function QEe(){const[e,t]=m.useState(!1),[n,r]=m.useState(0),[a,i]=m.useState([]),{toast:o}=ro(),l=async()=>{t(!0),r(0),i([]);try{const{data:c,error:d}=await V.functions.invoke("generate-all-photos");if(d)throw d;if(c!=null&&c.results){i(c.results);const u=c.results.filter(h=>h.success).length;o({title:"Photo Generation Complete",description:`Successfully generated ${u} out of ${c.results.length} photos.`})}}catch(c){console.error("Error generating photos:",c),o({title:"Error",description:"Failed to generate photos. Please try again.",variant:"destructive"})}finally{t(!1),r(100)}};return s.jsx("div",{className:"container mx-auto p-6",children:s.jsxs(q,{children:[s.jsxs(te,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Zf,{className:"h-5 w-5"}),"Generate Profile Photos"]}),s.jsx(wn,{children:"Generate AI profile photos for all students and teachers"})]}),s.jsxs(G,{className:"space-y-4",children:[s.jsx($,{onClick:l,disabled:e,className:"w-full",children:e?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-2",children:s.jsx(Pt,{size:"small",text:!1})}),"Generating Photos..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Zf,{className:"mr-2 h-4 w-4"}),"Generate All Photos"]})}),e&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ri,{value:n}),s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"This may take a few minutes..."})]}),a.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Results:"}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-1",children:a.map((c,d)=>s.jsxs("div",{className:`p-2 rounded text-sm ${c.success?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[c.name,": ",c.success?" Success":` Failed: ${c.error}`]},d))})]})]})]})})}function JEe(){var d;const{language:e}=Te(),[t,n]=m.useState(!1),[r,a]=m.useState(!1),[i,o]=m.useState({type:"student"}),l=async()=>{if(!i.id||!i.name||!i.type){fe.error(e==="ar"?"   ":"Please fill all fields");return}n(!0),a(!1);try{await qd.writeTag(i)&&(a(!0),setTimeout(()=>{a(!1),o({type:"student"})},3e3))}catch(u){console.error("Write error:",u)}finally{n(!1)}},c=qd.isSupported();return s.jsx("div",{className:"space-y-6",children:s.jsxs(q,{children:[s.jsxs(te,{children:[s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(Jf,{className:"h-5 w-5"}),e==="ar"?"  NFC":"NFC Tag Writer"]}),s.jsx(wn,{children:e==="ar"?"  NFC   ":"Program NFC tags for students, teachers, and employees"})]}),s.jsxs(G,{className:"space-y-6",children:[s.jsx("div",{className:`p-4 rounded-lg border ${c?"bg-green-500/10 border-green-500/20":"bg-orange-500/10 border-orange-500/20"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[c?s.jsx(Cs,{className:"h-5 w-5 text-green-600"}):s.jsx(Dr,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:c?e==="ar"?"NFC ":"NFC Available":e==="ar"?"NFC  ":"NFC Not Available"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c?e==="ar"?"  NFC":"Device supports NFC":e==="ar"?"   NFC":"Requires NFC-enabled device"})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:e==="ar"?"":"Type"}),s.jsxs(Pe,{value:i.type,onValueChange:u=>o({...i,type:u}),children:[s.jsx(ke,{className:"mt-2",children:s.jsx(Ee,{})}),s.jsxs(Ae,{children:[s.jsx(K,{value:"student",children:e==="ar"?"":"Student"}),s.jsx(K,{value:"teacher",children:e==="ar"?"":"Teacher"}),s.jsx(K,{value:"driver",children:e==="ar"?"":"Driver"}),s.jsx(K,{value:"employee",children:e==="ar"?"":"Employee"})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:e==="ar"?" ":"ID Number"}),s.jsx(F,{value:i.id||"",onChange:u=>o({...i,id:u.target.value}),placeholder:e==="ar"?": STU-001234":"e.g., STU-001234",className:"mt-2"})]}),s.jsxs("div",{children:[s.jsx(T,{children:e==="ar"?" ":"Full Name"}),s.jsx(F,{value:i.name||"",onChange:u=>o({...i,name:u.target.value}),placeholder:e==="ar"?"  ":"Enter full name",className:"mt-2",dir:e==="ar"?"rtl":"ltr"})]})]}),s.jsxs(uy,{children:[t&&s.jsx(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"p-8 bg-primary/5 rounded-lg border border-primary/20",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(Tt.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:s.jsx(Xs,{className:"h-16 w-16 text-primary mx-auto"})}),s.jsx("p",{className:"text-lg font-medium",children:e==="ar"?" ...":"Writing to NFC tag..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e==="ar"?"    ":"Hold tag near device"})]})}),r&&!t&&s.jsx(Tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"p-8 bg-green-500/10 rounded-lg border border-green-500/20",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(Tt.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},children:s.jsx(Cs,{className:"h-16 w-16 text-green-600 mx-auto"})}),s.jsx("p",{className:"text-lg font-medium text-green-600",children:e==="ar"?"  !":"Successfully Written!"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs(ce,{variant:"outline",className:"text-sm",children:[(d=i.type)==null?void 0:d.toUpperCase()," - ",i.id]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.name})]})]})})]}),!t&&!r&&s.jsx($,{onClick:l,disabled:!c||t,className:"w-full",size:"lg",children:t?s.jsxs(s.Fragment,{children:[s.jsx(el,{className:"mr-2 h-4 w-4 animate-spin"}),e==="ar"?" ...":"Writing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Jf,{className:"mr-2 h-4 w-4"}),e==="ar"?" ":"Write Tag"]})}),s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:e==="ar"?":":"Instructions:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[s.jsx("li",{children:e==="ar"?"   ":"Fill in all required fields"}),s.jsx("li",{children:e==="ar"?'  " "':'Click "Write Tag" button'}),s.jsx("li",{children:e==="ar"?"  NFC    ":"Hold blank NFC tag near device"}),s.jsx("li",{children:e==="ar"?"    ":"Wait for success confirmation"})]})]})]})]})})}function eTe(){const{language:e}=Te();return s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(Jf,{className:"h-8 w-8"}),e==="ar"?" NFC":"NFC Management"]}),s.jsx("p",{className:"text-muted-foreground",children:e==="ar"?"   NFC":"Program and manage NFC tags"})]}),s.jsx(JEe,{}),s.jsxs(q,{children:[s.jsxs(te,{children:[s.jsx(ne,{children:e==="ar"?"  NFC":"NFC Usage Instructions"}),s.jsx(wn,{children:e==="ar"?"   NFC  ":"How to use the NFC system in school"})]}),s.jsxs(G,{className:"space-y-3",children:[s.jsxs("div",{className:"text-sm space-y-2",children:[s.jsx("p",{className:"font-medium",children:e==="ar"?":":"For Writing:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[s.jsx("li",{children:e==="ar"?"  NFC   ":"Open NFC app on Android device"}),s.jsx("li",{children:e==="ar"?"  ":"Enter user information"}),s.jsx("li",{children:e==="ar"?"    ":"Hold tag near device"})]})]}),s.jsxs("div",{className:"text-sm space-y-2",children:[s.jsx("p",{className:"font-medium",children:e==="ar"?":":"For Reading:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[s.jsx("li",{children:e==="ar"?"    ":"Used across all checkpoints"}),s.jsx("li",{children:e==="ar"?" -  ":"Attendance - School entrance"}),s.jsx("li",{children:e==="ar"?" -  ":"Bus - Boarding/Alighting"}),s.jsx("li",{children:e==="ar"?" - ":"Canteen - Payment"})]})]})]})]})]})}function tTe(){const{language:e}=Te(),{user:t}=ot(),[n,r]=m.useState([]),[a,i]=m.useState(null),[o,l]=m.useState([]),[c,d]=m.useState({allowed_items:[],daily_limit:null}),[u,h]=m.useState(!1);m.useEffect(()=>{t&&(f(),p())},[t]),m.useEffect(()=>{a&&g()},[a]);const f=async()=>{const{data:b,error:S}=await V.from("students").select("id, first_name, last_name, first_name_ar, last_name_ar").eq("parent_id",t==null?void 0:t.id);if(S){fe.error(e==="en"?"Failed to load students":"  ");return}r(b||[]),b&&b.length>0&&i(b[0])},p=async()=>{const{data:b,error:S}=await V.from("canteen_items").select("*").eq("available",!0).order("category",{ascending:!0});if(S){fe.error(e==="en"?"Failed to load items":"  ");return}l(b||[])},g=async()=>{if(!a)return;const{data:b,error:S}=await V.from("canteen_restrictions").select("allowed_items, daily_limit").eq("student_id",a.id).single();if(S&&S.code!=="PGRST116"){console.error("Error loading restrictions:",S);return}d(b?{allowed_items:b.allowed_items||[],daily_limit:b.daily_limit}:{allowed_items:[],daily_limit:null})},v=b=>{const S=c.allowed_items.includes(b)?c.allowed_items.filter(_=>_!==b):[...c.allowed_items,b];d({...c,allowed_items:S})},j=()=>{d({...c,allowed_items:o.map(b=>b.id)})},y=()=>{d({...c,allowed_items:[]})},x=async()=>{if(!(!a||!t)){h(!0);try{const{error:b}=await V.from("canteen_restrictions").upsert({student_id:a.id,parent_id:t.id,allowed_items:c.allowed_items,daily_limit:c.daily_limit});if(b)throw b;fe.success(e==="en"?"Restrictions saved successfully!":"   !")}catch(b){console.error("Error saving restrictions:",b),fe.error(e==="en"?"Failed to save restrictions":"  ")}finally{h(!1)}}},w=o.reduce((b,S)=>(b[S.category]||(b[S.category]=[]),b[S.category].push(S),b),{});return n.length===0?s.jsx(q,{children:s.jsx(G,{className:"p-6 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:e==="en"?"No students found":"  "})})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center gap-2",children:[s.jsx(so,{className:"h-5 w-5"}),e==="en"?"Canteen Purchase Controls":"  "]})}),s.jsxs(G,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:e==="en"?"Select Student":" "}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:n.map(b=>s.jsx($,{variant:(a==null?void 0:a.id)===b.id?"default":"outline",onClick:()=>i(b),children:e==="en"?`${b.first_name} ${b.last_name}`:`${b.first_name_ar||b.first_name} ${b.last_name_ar||b.last_name}`},b.id))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(T,{className:"flex items-center gap-2",children:[s.jsx($r,{className:"h-4 w-4"}),e==="en"?"Daily Spending Limit (OMR)":"    (.)"]}),s.jsx(F,{type:"number",step:"0.001",min:"0",placeholder:e==="en"?"No limit":" ",value:c.daily_limit||"",onChange:b=>d({...c,daily_limit:b.target.value?parseFloat(b.target.value):null})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==="en"?"Leave empty for no limit":"    "})]})]})]}),s.jsxs(q,{children:[s.jsx(te,{children:s.jsxs(ne,{className:"flex items-center justify-between",children:[s.jsx("span",{children:e==="en"?"Allowed Items":"  "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{size:"sm",variant:"outline",onClick:j,children:e==="en"?"Select All":" "}),s.jsx($,{size:"sm",variant:"outline",onClick:y,children:e==="en"?"Deselect All":"  "})]})]})}),s.jsxs(G,{className:"space-y-4",children:[c.allowed_items.length===0&&s.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:s.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:e==="en"?" No items selected - student can buy everything":"      -     "})}),Object.entries(w).map(([b,S])=>s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold text-lg",children:b}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:S.map(_=>{const N=c.allowed_items.length===0||c.allowed_items.includes(_.id);return s.jsxs("div",{className:`flex items-center gap-3 p-3 border rounded-lg cursor-pointer transition-all ${N?"border-primary bg-primary/5":"border-border bg-muted/50"}`,onClick:()=>v(_.id),children:[s.jsx(un,{checked:N,onCheckedChange:()=>v(_.id)}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:_.icon||""}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:e==="en"?_.name:_.name_ar||_.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.price.toFixed(3)," ",e==="en"?"OMR":"."]})]})]})}),s.jsx(ce,{variant:N?"default":"secondary",children:N?e==="en"?"Allowed":"":e==="en"?"Blocked":""})]},_.id)})})]},b)),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs($,{onClick:x,disabled:u,size:"lg",className:"bg-gradient-to-r from-primary to-primary/80",children:[s.jsx(Wc,{className:"mr-2 h-4 w-4"}),u?e==="en"?"Saving...":" ...":e==="en"?"Save Changes":" "]})})]})]})]})}function nTe(){const{user:e,profile:t,isAuthenticated:n}=ot();if(!n||!e)return s.jsx(Gre,{to:"/",replace:!0});if(!t)return s.jsx(Pt,{size:"large",text:!0,fullScreen:!0});const r=()=>{switch((t==null?void 0:t.role)==="developer"?sessionStorage.getItem("developerViewRole")||"developer":t==null?void 0:t.role){case"developer":return s.jsx(whe,{});case"admin":return s.jsx(Jue,{});case"teacher":return s.jsx(ehe,{});case"parent":return s.jsx(mO,{});case"student":return s.jsx(she,{});case"driver":return s.jsx(rhe,{});case"canteen":return s.jsx(khe,{});default:return s.jsx(mO,{})}};return s.jsx(Que,{children:s.jsxs(RL,{children:[s.jsx(it,{index:!0,element:r()}),s.jsx(it,{path:"students",element:s.jsx(Ofe,{})}),s.jsx(it,{path:"teachers",element:s.jsx(Dfe,{})}),s.jsx(it,{path:"classes",element:s.jsx(Rfe,{})}),s.jsx(it,{path:"schedule",element:s.jsx(mpe,{})}),s.jsx(it,{path:"exams",element:s.jsx(Mhe,{})}),s.jsx(it,{path:"homework",element:s.jsx(lfe,{})}),s.jsx(it,{path:"grades",element:s.jsx(The,{})}),s.jsx(it,{path:"nfc-attendance",element:s.jsx(Ape,{})}),s.jsx(it,{path:"bus-tracking",element:s.jsx(Ppe,{})}),s.jsx(it,{path:"transport",element:s.jsx(MEe,{})}),s.jsx(it,{path:"finance",element:s.jsx(lEe,{})}),s.jsx(it,{path:"payroll",element:s.jsx(vEe,{})}),s.jsx(it,{path:"wallet",element:s.jsx(cfe,{})}),s.jsx(it,{path:"store",element:s.jsx(EEe,{})}),s.jsx(it,{path:"kitchen",element:s.jsx(DEe,{})}),s.jsx(it,{path:"canteen",element:s.jsx(REe,{})}),s.jsx(it,{path:"messages",element:s.jsx(Ahe,{})}),s.jsx(it,{path:"reports",element:s.jsx(IEe,{})}),s.jsx(it,{path:"admin/users",element:s.jsx(LEe,{})}),s.jsx(it,{path:"admin/buses",element:s.jsx(FEe,{})}),s.jsx(it,{path:"admin/drivers",element:s.jsx(zEe,{})}),s.jsx(it,{path:"admin/routes",element:s.jsx(VEe,{})}),s.jsx(it,{path:"admin/students",element:s.jsx(qEe,{})}),s.jsx(it,{path:"admin/employees",element:s.jsx(HEe,{})}),s.jsx(it,{path:"admin/shop",element:s.jsx(KEe,{})}),s.jsx(it,{path:"admin/features",element:s.jsx(ZEe,{})}),s.jsx(it,{path:"admin/photos",element:s.jsx(QEe,{})}),s.jsx(it,{path:"admin/nfc",element:s.jsx(eTe,{})}),s.jsx(it,{path:"canteen-controls",element:s.jsx(tTe,{})}),s.jsx(it,{path:"profile",element:s.jsx(dfe,{})}),s.jsx(it,{path:"settings",element:s.jsx(hfe,{})}),s.jsx(it,{path:"*",element:r()})]})})}const rTe=()=>{const e=io(),t=ur();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname);const n=setTimeout(()=>{t("/",{replace:!0})},3e3);return()=>clearTimeout(n)},[e.pathname,t]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-primary/5 via-background to-secondary/5",children:s.jsxs("div",{className:"text-center space-y-6 p-8",children:[s.jsx("h1",{className:"text-6xl font-bold text-primary",children:"404"}),s.jsx("p",{className:"text-2xl font-semibold",children:"Page Not Found"}),s.jsx("p",{className:"text-muted-foreground",children:"Redirecting to home in 3 seconds..."}),s.jsxs($,{onClick:()=>t("/",{replace:!0}),className:"gap-2",children:[s.jsx(WS,{className:"h-4 w-4"}),"Go Home Now"]})]})})};function sTe({deviceType:e="entrance",deviceId:t=`${e.toUpperCase()}-${Date.now().toString().slice(-6)}`,location:n="Main Entrance"}){const{language:r}=Te(),[a,i]=m.useState(!0),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,h]=m.useState(null),[f,p]=m.useState({checkIn:0,checkOut:0}),[g,v]=m.useState(new Date);m.useEffect(()=>{const b=setInterval(()=>{v(new Date)},1e3);return()=>clearInterval(b)},[]),m.useEffect(()=>{const b=()=>i(navigator.onLine);window.addEventListener("online",b),window.addEventListener("offline",b);const S=setInterval(b,5e3);return()=>{window.removeEventListener("online",b),window.removeEventListener("offline",b),clearInterval(S)}},[]);const j=[{id:"1",firstName:"Ahmed",lastName:"Al-Said",firstNameAr:"",lastNameAr:"",grade:"5",class:"5A",profileImage:void 0,nfcId:"NFC123456"},{id:"2",firstName:"Fatima",lastName:"Al-Rashid",firstNameAr:"",lastNameAr:"",grade:"7",class:"7B",profileImage:void 0,nfcId:"NFC789012"},{id:"3",firstName:"Mohammed",lastName:"Al-Hassan",firstNameAr:"",lastNameAr:"",grade:"3",class:"3C",profileImage:void 0,nfcId:"NFC345678"}],y=async b=>{l(!0),await new Promise(N=>setTimeout(N,1500));const S=b||j[Math.floor(Math.random()*j.length)].nfcId,_=j.find(N=>N.nfcId===S);if(_){const C=new Date().getHours()<12?"check_in":"check_out",k={..._,action:C};h(k),d(!0),p(C==="check_in"?A=>({...A,checkIn:A.checkIn+1}):A=>({...A,checkOut:A.checkOut+1})),setTimeout(()=>{d(!1),h(null)},3e3),a?await x(k):w(k)}else ae({title:r==="en"?"Unknown Card":"  ",description:r==="en"?"This NFC card is not registered":"   ",variant:"destructive"});l(!1)},x=async b=>{try{await V.from("checkpoint_logs").insert({device_id:t,student_id:b.id,student_name:`${b.firstName} ${b.lastName}`,nfc_id:b.nfcId,timestamp:new Date().toISOString(),type:b.action==="check_in"?"entry":"exit",location:n,synced:!0})}catch(S){throw console.error("Error sending to backend:",S),S}},w=async b=>{try{await V.from("offline_scans").insert({device_id:t,scan_data:b,timestamp:new Date().toISOString(),synced:!1}),ae({title:r==="en"?"Stored Offline":" ",description:r==="en"?"Data will sync when connection is restored":"     "})}catch(S){console.error("Error storing offline data:",S)}};return m.useEffect(()=>{if("NDEFReader"in window){const b=new window.NDEFReader;return(async()=>{try{await b.scan(),b.addEventListener("reading",({message:_})=>{const N=new TextDecoder;for(const C of _.records)if(C.recordType==="text"){const k=N.decode(C.data);y(k)}})}catch{console.log("NFC not available on this device")}})(),()=>{b.removeEventListener("reading",()=>{})}}},[]),s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-secondary/5 flex flex-col",children:[s.jsx("div",{className:"bg-background border-b p-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(by,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold",children:e==="entrance"?r==="en"?"School Entrance":" ":r==="en"?"Bus Scanner":" "}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-2xl font-bold",children:g.toLocaleTimeString(r==="en"?"en-US":"ar-SA",{hour:"2-digit",minute:"2-digit"})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.toLocaleDateString(r==="en"?"en-US":"ar-SA",{weekday:"long",month:"short",day:"numeric"})})]}),s.jsxs(ce,{variant:a?"default":"destructive",className:"gap-1",children:[a?s.jsx(Xs,{className:"h-3 w-3"}):s.jsx(Ov,{className:"h-3 w-3"}),a?r==="en"?"Online":"":r==="en"?"Offline":" "]})]})]})}),s.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:s.jsx(q,{className:"w-full max-w-2xl",children:s.jsx(G,{className:"pt-12 pb-12",children:s.jsxs("div",{className:"text-center space-y-8",children:[s.jsxs("div",{className:"relative mx-auto w-64 h-64",children:[s.jsx("div",{className:`absolute inset-0 rounded-full bg-primary/10 ${o?"animate-ping":""}`}),s.jsx("div",{className:`absolute inset-4 rounded-full bg-primary/20 ${o?"animate-ping animation-delay-200":""}`}),s.jsx("div",{className:`absolute inset-8 rounded-full bg-primary/30 ${o?"animate-ping animation-delay-400":""}`}),s.jsx("div",{className:"absolute inset-12 rounded-full bg-background flex items-center justify-center",children:s.jsx(Fr,{className:`h-24 w-24 ${o?"text-primary animate-pulse":"text-muted-foreground"}`})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:o?r==="en"?"Scanning...":" ...":r==="en"?"Ready to Scan":" "}),s.jsx("p",{className:"text-lg text-muted-foreground",children:r==="en"?"Place student NFC card near the reader":"     "})]}),s.jsxs($,{size:"lg",onClick:()=>y(),disabled:o,className:"w-full max-w-xs mx-auto",children:[s.jsx(Fr,{className:"mr-2 h-5 w-5"}),r==="en"?"Test NFC Scan":"  NFC"]})]})})})}),s.jsx("div",{className:"bg-background border-t p-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-2 gap-4",children:[s.jsx(q,{children:s.jsxs(G,{className:"flex items-center gap-3 p-4",children:[s.jsx(Cs,{className:"h-8 w-8 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:f.checkIn}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r==="en"?"Checked In Today":"   "})]})]})}),s.jsx(q,{children:s.jsxs(G,{className:"flex items-center gap-3 p-4",children:[s.jsx(mu,{className:"h-8 w-8 text-orange-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:f.checkOut}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r==="en"?"Checked Out Today":"   "})]})]})})]})}),s.jsx(qe,{open:c,onOpenChange:d,children:s.jsx(Ve,{className:"max-w-md",children:u&&s.jsxs("div",{className:"text-center space-y-6 py-6",children:[s.jsx("div",{className:"mx-auto w-20 h-20 rounded-full bg-green-100 dark:bg-green-900/20 flex items-center justify-center",children:u.action==="check_in"?s.jsx(Cs,{className:"h-12 w-12 text-green-600"}):s.jsx(mu,{className:"h-12 w-12 text-orange-600"})}),s.jsxs(fn,{className:"w-32 h-32 mx-auto",children:[s.jsx(sr,{src:u.profileImage}),s.jsxs(mn,{className:"text-2xl",children:[u.firstName[0],u.lastName[0]]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-2xl font-bold",children:[u.firstName," ",u.lastName]}),s.jsxs("p",{className:"text-lg text-muted-foreground mt-1",children:[u.firstNameAr," ",u.lastNameAr]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mt-3",children:[s.jsxs(ce,{variant:"secondary",children:[r==="en"?"Grade":""," ",u.grade]}),s.jsxs(ce,{variant:"secondary",children:[r==="en"?"Class":""," ",u.class]})]})]}),s.jsx("div",{className:`text-xl font-semibold ${u.action==="check_in"?"text-green-600":"text-orange-600"}`,children:u.action==="check_in"?" Checked In":" Checked Out"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})})})]})}function aTe(){const[e,t]=m.useState("entrance"),[n,r]=m.useState("Main Entrance"),[a,i]=m.useState(void 0),[o,l]=m.useState(!0);m.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:d}=await V.from("device_configs").select("*").eq("is_active",!0).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(d)t(d.device_type),r(d.location),i(d.device_id);else{const u=`KIOSK-${Date.now().toString().slice(-6)}`;await V.from("device_configs").insert({device_id:u,device_type:"entrance",location:"Main Entrance",is_active:!0}),i(u)}}catch(d){console.error("Error loading device config:",d),i(`KIOSK-${Date.now().toString().slice(-6)}`)}finally{l(!1)}};return o?s.jsx("div",{children:"Loading device configuration..."}):s.jsx(sTe,{deviceType:e,location:n,deviceId:a})}function iTe(){var N;const[e,t]=m.useState(navigator.onLine),[n,r]=m.useState(!1),[a,i]=m.useState(null),[o,l]=m.useState(!1),[c,d]=m.useState([]),[u,h]=m.useState({checkIns:0,checkOuts:0}),[f,p]=m.useState({location:"Main Entrance",deviceId:`CP-${Date.now()}`,mode:"both"}),[g,v]=m.useState(!1);m.useEffect(()=>{const C=()=>t(!0),k=()=>t(!1);return window.addEventListener("online",C),window.addEventListener("offline",k),()=>{window.removeEventListener("online",C),window.removeEventListener("offline",k)}},[]),m.useEffect(()=>{j(),y()},[]);const j=async()=>{try{const{data:C,error:k}=await V.from("device_configs").select("*").eq("device_id",f.deviceId).single();C&&p({location:C.location,deviceId:C.device_id,mode:C.mode})}catch(C){console.error("Error loading device config:",C)}},y=async()=>{try{const C=new Date;C.setHours(0,0,0,0);const{data:k,error:A}=await V.from("checkpoint_logs").select("*").eq("device_id",f.deviceId).gte("timestamp",C.toISOString()).order("timestamp",{ascending:!1});if(k){const O=k.map(M=>({studentId:M.student_id,studentName:M.student_name,action:M.type,timestamp:new Date(M.timestamp),location:M.location}));d(O),x(O)}}catch(C){console.error("Error loading checkpoint logs:",C)}},x=C=>{const k=new Date().toDateString(),A=C.filter(z=>new Date(z.timestamp).toDateString()===k),O=A.filter(z=>z.action==="check-in").length,M=A.filter(z=>z.action==="check-out").length;h({checkIns:O,checkOuts:M})},w=async C=>{r(!0);const k=[{id:"1",nfcId:"NFC001",name:" ",grade:"5",class:"A",photo:"",parentPhone:"+966501234567"},{id:"2",nfcId:"NFC002",name:" ",grade:"4",class:"B",photo:"",parentPhone:"+966502345678"}];await new Promise(O=>setTimeout(O,500));const A=k.find(O=>O.nfcId===C);A?(i(A),b(A)):ae({title:"Unknown Card",description:"This NFC card is not registered",variant:"destructive"}),r(!1)},b=async C=>{const k=c.find(z=>z.studentId===C.id),A=!k||k.action==="check-out"?"check-in":"check-out",O={studentId:C.id,studentName:C.name,action:A,timestamp:new Date,location:f.location},M=[O,...c];d(M),x(M);try{const{error:z}=await V.from("checkpoint_logs").insert({device_id:f.deviceId,student_id:C.id,student_name:C.name,nfc_id:C.nfcId,timestamp:O.timestamp.toISOString(),type:A==="check-in"?"entry":"exit",location:f.location,synced:e});if(z)throw z}catch(z){console.error("Error saving checkpoint log:",z),e||await S(O)}l(!0),setTimeout(()=>{l(!1),i(null)},3e3),ae({title:A==="check-in"?"Student Checked In":"Student Checked Out",description:`${C.name} - ${new Date().toLocaleTimeString()}`})},S=async C=>{try{const{error:k}=await V.from("offline_scans").insert({device_id:f.deviceId,scan_data:C,timestamp:C.timestamp.toISOString(),synced:!1});if(k)throw k}catch(k){console.error("Error queuing for sync:",k)}},_=async()=>{try{const{error:C}=await V.from("device_configs").upsert({device_id:f.deviceId,device_type:"checkpoint",location:f.location,mode:f.mode,is_active:!0,updated_at:new Date().toISOString()},{onConflict:"device_id"});if(C)throw C;v(!1),ae({title:"Settings Saved",description:"Checkpoint configuration updated"})}catch(C){console.error("Error saving config:",C),ae({title:"Error",description:"Failed to save configuration",variant:"destructive"})}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-secondary/5 p-4",children:[s.jsx("div",{className:"mb-6",children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ta,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Entrance Checkpoint"}),s.jsxs("p",{className:"text-muted-foreground",children:[f.location,"  ",f.deviceId]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ce,{variant:e?"default":"destructive",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Xs,{className:"h-3 w-3 mr-1"})," Online"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ov,{className:"h-3 w-3 mr-1"})," Offline"]})}),s.jsx($,{variant:"outline",size:"icon",onClick:()=>v(!0),children:s.jsx(Cc,{className:"h-4 w-4"})})]})]})})}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx(q,{className:"p-8",children:s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"relative mx-auto w-48 h-48",children:[s.jsx("div",{className:`absolute inset-0 rounded-full ${n?"animate-pulse bg-primary/20":"bg-muted"}`}),s.jsx("div",{className:"absolute inset-4 rounded-full bg-background flex items-center justify-center",children:s.jsx(ta,{className:`h-16 w-16 ${n?"text-primary animate-bounce":"text-muted-foreground"}`})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:n?"Scanning...":"Ready to Scan"}),s.jsx("p",{className:"text-muted-foreground",children:"Place the student NFC card near the reader"})]}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx($,{onClick:()=>w("NFC001"),disabled:n,children:"Test Student 1"}),s.jsx($,{onClick:()=>w("NFC002"),disabled:n,variant:"outline",children:"Test Student 2"})]})]})}),s.jsxs(q,{className:"mt-6 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Today's Statistics"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(w5,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:u.checkIns}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Check-ins"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(qS,{className:"h-8 w-8 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:u.checkOuts}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Check-outs"})]})]})]})]})]}),s.jsxs(q,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(dr,{className:"h-5 w-5"}),"Recent Activity"]}),s.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:c.slice(0,10).map((C,k)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[C.action==="check-in"?s.jsx(Cs,{className:"h-5 w-5 text-green-600"}):s.jsx(mu,{className:"h-5 w-5 text-red-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:C.studentName}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(C.timestamp).toLocaleTimeString()})]}),s.jsx(ce,{variant:C.action==="check-in"?"default":"secondary",children:C.action==="check-in"?"IN":"OUT"})]},k))})]})]}),s.jsx(qe,{open:o,onOpenChange:l,children:s.jsxs(Ve,{className:"max-w-md",children:[s.jsx(Ke,{children:s.jsx(Ge,{className:"text-center",children:a&&((N=c[0])==null?void 0:N.action)==="check-in"?" Student Checked In":" Student Checked Out"})}),a&&s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("img",{src:a.photo,alt:a.name,className:"w-32 h-32 rounded-full mx-auto"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:a.name}),s.jsxs("p",{className:"text-muted-foreground",children:["Grade ",a.grade," - Class ",a.class]}),s.jsx("p",{className:"text-lg mt-2",children:new Date().toLocaleTimeString()})]})]})]})}),s.jsx(qe,{open:g,onOpenChange:v,children:s.jsxs(Ve,{children:[s.jsx(Ke,{children:s.jsx(Ge,{children:"Checkpoint Settings"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Location Name"}),s.jsx("input",{type:"text",value:f.location,onChange:C=>p({...f,location:C.target.value}),className:"w-full mt-1 px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Device ID"}),s.jsx("input",{type:"text",value:f.deviceId,onChange:C=>p({...f,deviceId:C.target.value}),className:"w-full mt-1 px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Mode"}),s.jsxs("select",{value:f.mode,onChange:C=>p({...f,mode:C.target.value}),className:"w-full mt-1 px-3 py-2 border rounded-md",children:[s.jsx("option",{value:"both",children:"Entrance & Exit"}),s.jsx("option",{value:"entrance",children:"Entrance Only"}),s.jsx("option",{value:"exit",children:"Exit Only"})]})]}),s.jsx($,{onClick:_,className:"w-full",children:"Save Settings"})]})]})})]})}function oTe(){const[e,t]=m.useState(""),[n,r]=m.useState(""),[a,i]=m.useState(!1),o=async()=>{if(!e||!n){ae({title:"Error",description:"Please enter both email and password",variant:"destructive"});return}i(!0);try{const{data:l,error:c}=await V.auth.signUp({email:e,password:n,options:{data:{role:"admin",full_name:"Admin User"}}});if(c)throw c;if(l.user){const{error:d}=await V.from("profiles").update({role:"admin"}).eq("id",l.user.id);d&&console.error("Profile update error:",d),ae({title:"Success!",description:`Admin account created! Email: ${e}, Password: ${n}. You can now login.`}),t(""),r("")}}catch(l){console.error("Error creating admin:",l),ae({title:"Error",description:l.message||"Failed to create admin account",variant:"destructive"})}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs(q,{className:"w-full max-w-md",children:[s.jsx(te,{children:s.jsx(ne,{children:"Create Admin Account"})}),s.jsxs(G,{className:"space-y-4",children:[s.jsx("div",{children:s.jsx(F,{type:"email",placeholder:"Enter admin email",value:e,onChange:l=>t(l.target.value)})}),s.jsx("div",{children:s.jsx(F,{type:"password",placeholder:"Enter password",value:n,onChange:l=>r(l.target.value)})}),s.jsx($,{onClick:o,disabled:a,className:"w-full",children:a?"Creating...":"Create Admin Account"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("p",{children:"Suggested credentials:"}),s.jsx("p",{children:"Email: admin2@talebedu.com"}),s.jsx("p",{children:"Password: Admin123"})]})]})]})})}const lTe=()=>new are({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:1e3*60*5}}});function cTe(){const[e]=je.useState(lTe);return s.jsx(ore,{client:e,children:s.jsx(rse,{children:s.jsx(Die,{children:s.jsx(Iie,{children:s.jsx($ie,{children:s.jsx(Rne,{children:s.jsxs(m.Suspense,{fallback:s.jsx(Pt,{size:"large",text:!0,fullScreen:!0}),children:[s.jsx(yee,{}),s.jsx(Zee,{}),s.jsx(Bie,{children:s.jsx(zie,{children:s.jsxs(RL,{children:[s.jsx(it,{path:"/",element:s.jsx(Wie,{})}),s.jsx(it,{path:"/auth",element:s.jsx(uoe,{})}),s.jsx(it,{path:"/dashboard/*",element:s.jsx(nTe,{})}),s.jsx(it,{path:"/create-admin",element:s.jsx(oTe,{})}),s.jsx(it,{path:"/nfc-kiosk",element:s.jsx(aTe,{})}),s.jsx(it,{path:"/checkpoint",element:s.jsx(iTe,{})}),s.jsx(it,{path:"*",element:s.jsx(rTe,{})})]})})})]})})})})})})})}const RD=document.getElementById("root");RD&&r$(RD).render(s.jsx(je.StrictMode,{children:s.jsx(cTe,{})}));
